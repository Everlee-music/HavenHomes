function f0(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function p0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m0={exports:{}},id={},g0={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),qx=Symbol.for("react.portal"),Kx=Symbol.for("react.fragment"),Zx=Symbol.for("react.strict_mode"),Gx=Symbol.for("react.profiler"),Qx=Symbol.for("react.provider"),Yx=Symbol.for("react.context"),Xx=Symbol.for("react.forward_ref"),Jx=Symbol.for("react.suspense"),eI=Symbol.for("react.memo"),tI=Symbol.for("react.lazy"),v_=Symbol.iterator;function nI(t){return t===null||typeof t!="object"?null:(t=v_&&t[v_]||t["@@iterator"],typeof t=="function"?t:null)}var _0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v0=Object.assign,y0={};function Fa(t,e,n){this.props=t,this.context=e,this.refs=y0,this.updater=n||_0}Fa.prototype.isReactComponent={};Fa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function w0(){}w0.prototype=Fa.prototype;function om(t,e,n){this.props=t,this.context=e,this.refs=y0,this.updater=n||_0}var am=om.prototype=new w0;am.constructor=om;v0(am,Fa.prototype);am.isPureReactComponent=!0;var y_=Array.isArray,E0=Object.prototype.hasOwnProperty,lm={current:null},T0={key:!0,ref:!0,__self:!0,__source:!0};function x0(t,e,n){var i,r={},o=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)E0.call(e,i)&&!T0.hasOwnProperty(i)&&(r[i]=e[i]);var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];r.children=d}if(t&&t.defaultProps)for(i in h=t.defaultProps,h)r[i]===void 0&&(r[i]=h[i]);return{$$typeof:Nu,type:t,key:o,ref:l,props:r,_owner:lm.current}}function iI(t,e){return{$$typeof:Nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function um(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nu}function rI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var w_=/\/+/g;function Qd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rI(""+t.key):e.toString(36)}function Hc(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Nu:case qx:l=!0}}if(l)return l=t,r=r(l),t=i===""?"."+Qd(l,0):i,y_(r)?(n="",t!=null&&(n=t.replace(w_,"$&/")+"/"),Hc(r,e,n,"",function(p){return p})):r!=null&&(um(r)&&(r=iI(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(w_,"$&/")+"/")+t)),e.push(r)),1;if(l=0,i=i===""?".":i+":",y_(t))for(var h=0;h<t.length;h++){o=t[h];var d=i+Qd(o,h);l+=Hc(o,e,n,d,r)}else if(d=nI(t),typeof d=="function")for(t=d.call(t),h=0;!(o=t.next()).done;)o=o.value,d=i+Qd(o,h++),l+=Hc(o,e,n,d,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function yc(t,e,n){if(t==null)return t;var i=[],r=0;return Hc(t,i,"","",function(o){return e.call(n,o,r++)}),i}function sI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},Wc={transition:null},oI={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:lm};function I0(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:yc,forEach:function(t,e,n){yc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yc(t,function(){e++}),e},toArray:function(t){return yc(t,function(e){return e})||[]},only:function(t){if(!um(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Fa;ze.Fragment=Kx;ze.Profiler=Gx;ze.PureComponent=om;ze.StrictMode=Zx;ze.Suspense=Jx;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oI;ze.act=I0;ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=v0({},t.props),r=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=lm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)E0.call(e,d)&&!T0.hasOwnProperty(d)&&(i[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];i.children=h}return{$$typeof:Nu,type:t.type,key:r,ref:o,props:i,_owner:l}};ze.createContext=function(t){return t={$$typeof:Yx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qx,_context:t},t.Consumer=t};ze.createElement=x0;ze.createFactory=function(t){var e=x0.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:Xx,render:t}};ze.isValidElement=um;ze.lazy=function(t){return{$$typeof:tI,_payload:{_status:-1,_result:t},_init:sI}};ze.memo=function(t,e){return{$$typeof:eI,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=Wc.transition;Wc.transition={};try{t()}finally{Wc.transition=e}};ze.unstable_act=I0;ze.useCallback=function(t,e){return Tn.current.useCallback(t,e)};ze.useContext=function(t){return Tn.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};ze.useEffect=function(t,e){return Tn.current.useEffect(t,e)};ze.useId=function(){return Tn.current.useId()};ze.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};ze.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return Tn.current.useMemo(t,e)};ze.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};ze.useRef=function(t){return Tn.current.useRef(t)};ze.useState=function(t){return Tn.current.useState(t)};ze.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};ze.useTransition=function(){return Tn.current.useTransition()};ze.version="18.3.1";g0.exports=ze;var q=g0.exports;const Qe=p0(q),aI=f0({__proto__:null,default:Qe},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lI=q,uI=Symbol.for("react.element"),cI=Symbol.for("react.fragment"),hI=Object.prototype.hasOwnProperty,dI=lI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fI={key:!0,ref:!0,__self:!0,__source:!0};function P0(t,e,n){var i,r={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)hI.call(e,i)&&!fI.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:uI,type:t,key:o,ref:l,props:r,_owner:dI.current}}id.Fragment=cI;id.jsx=P0;id.jsxs=P0;m0.exports=id;var E=m0.exports,Ff={},S0={exports:{}},Kn={},C0={exports:{}},R0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,pe){var ee=Y.length;Y.push(pe);e:for(;0<ee;){var ue=ee-1>>>1,me=Y[ue];if(0<r(me,pe))Y[ue]=pe,Y[ee]=me,ee=ue;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var pe=Y[0],ee=Y.pop();if(ee!==pe){Y[0]=ee;e:for(var ue=0,me=Y.length,ye=me>>>1;ue<ye;){var Ee=2*(ue+1)-1,ve=Y[Ee],ge=Ee+1,st=Y[ge];if(0>r(ve,ee))ge<me&&0>r(st,ve)?(Y[ue]=st,Y[ge]=ee,ue=ge):(Y[ue]=ve,Y[Ee]=ee,ue=Ee);else if(ge<me&&0>r(st,ee))Y[ue]=st,Y[ge]=ee,ue=ge;else break e}}return pe}function r(Y,pe){var ee=Y.sortIndex-pe.sortIndex;return ee!==0?ee:Y.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var d=[],p=[],_=1,y=null,w=3,N=!1,O=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Y){for(var pe=n(p);pe!==null;){if(pe.callback===null)i(p);else if(pe.startTime<=Y)i(p),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=n(p)}}function $(Y){if(k=!1,R(Y),!O)if(n(d)!==null)O=!0,Je(X);else{var pe=n(p);pe!==null&&Ae($,pe.startTime-Y)}}function X(Y,pe){O=!1,k&&(k=!1,A(x),x=-1),N=!0;var ee=w;try{for(R(pe),y=n(d);y!==null&&(!(y.expirationTime>pe)||Y&&!M());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,w=y.priorityLevel;var me=ue(y.expirationTime<=pe);pe=t.unstable_now(),typeof me=="function"?y.callback=me:y===n(d)&&i(d),R(pe)}else i(d);y=n(d)}if(y!==null)var ye=!0;else{var Ee=n(p);Ee!==null&&Ae($,Ee.startTime-pe),ye=!1}return ye}finally{y=null,w=ee,N=!1}}var j=!1,C=null,x=-1,S=5,b=-1;function M(){return!(t.unstable_now()-b<S)}function U(){if(C!==null){var Y=t.unstable_now();b=Y;var pe=!0;try{pe=C(!0,Y)}finally{pe?D():(j=!1,C=null)}}else j=!1}var D;if(typeof P=="function")D=function(){P(U)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,_t=Ie.port2;Ie.port1.onmessage=U,D=function(){_t.postMessage(null)}}else D=function(){z(U,0)};function Je(Y){C=Y,j||(j=!0,D())}function Ae(Y,pe){x=z(function(){Y(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){O||N||(O=!0,Je(X))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var ee=w;w=pe;try{return Y()}finally{w=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,pe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=w;w=Y;try{return pe()}finally{w=ee}},t.unstable_scheduleCallback=function(Y,pe,ee){var ue=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,Y){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ee+me,Y={id:_++,callback:pe,priorityLevel:Y,startTime:ee,expirationTime:me,sortIndex:-1},ee>ue?(Y.sortIndex=ee,e(p,Y),n(d)===null&&Y===n(p)&&(k?(A(x),x=-1):k=!0,Ae($,ee-ue))):(Y.sortIndex=me,e(d,Y),O||N||(O=!0,Je(X))),Y},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Y){var pe=w;return function(){var ee=w;w=pe;try{return Y.apply(this,arguments)}finally{w=ee}}}})(R0);C0.exports=R0;var pI=C0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI=q,qn=pI;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A0=new Set,eu={};function To(t,e){Ia(t,e),Ia(t+"Capture",e)}function Ia(t,e){for(eu[t]=e,t=0;t<e.length;t++)A0.add(e[t])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uf=Object.prototype.hasOwnProperty,gI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E_={},T_={};function _I(t){return Uf.call(T_,t)?!0:Uf.call(E_,t)?!1:gI.test(t)?T_[t]=!0:(E_[t]=!0,!1)}function vI(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yI(t,e,n,i){if(e===null||typeof e>"u"||vI(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(t,e,n,i,r,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var cm=/[\-:]([a-z])/g;function hm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cm,hm);nn[e]=new xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cm,hm);nn[e]=new xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cm,hm);nn[e]=new xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new xn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function dm(t,e,n,i){var r=nn.hasOwnProperty(e)?nn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yI(e,n,r,i)&&(n=null),i||r===null?_I(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Fr=mI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wc=Symbol.for("react.element"),ta=Symbol.for("react.portal"),na=Symbol.for("react.fragment"),fm=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),k0=Symbol.for("react.provider"),b0=Symbol.for("react.context"),pm=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),$f=Symbol.for("react.suspense_list"),mm=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),L0=Symbol.for("react.offscreen"),x_=Symbol.iterator;function gl(t){return t===null||typeof t!="object"?null:(t=x_&&t[x_]||t["@@iterator"],typeof t=="function"?t:null)}var Pt=Object.assign,Yd;function Rl(t){if(Yd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yd=e&&e[1]||""}return`
`+Yd+t}var Xd=!1;function Jd(t,e){if(!t||Xd)return"";Xd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var i=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){i=p}t.call(e.prototype)}else{try{throw Error()}catch(p){i=p}t()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var r=p.stack.split(`
`),o=i.stack.split(`
`),l=r.length-1,h=o.length-1;1<=l&&0<=h&&r[l]!==o[h];)h--;for(;1<=l&&0<=h;l--,h--)if(r[l]!==o[h]){if(l!==1||h!==1)do if(l--,h--,0>h||r[l]!==o[h]){var d=`
`+r[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=h);break}}}finally{Xd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rl(t):""}function wI(t){switch(t.tag){case 5:return Rl(t.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return t=Jd(t.type,!1),t;case 11:return t=Jd(t.type.render,!1),t;case 1:return t=Jd(t.type,!0),t;default:return""}}function Hf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case na:return"Fragment";case ta:return"Portal";case zf:return"Profiler";case fm:return"StrictMode";case Bf:return"Suspense";case $f:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b0:return(t.displayName||"Context")+".Consumer";case k0:return(t._context.displayName||"Context")+".Provider";case pm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mm:return e=t.displayName||null,e!==null?e:Hf(t.type)||"Memo";case as:e=t._payload,t=t._init;try{return Hf(t(e))}catch{}}return null}function EI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hf(e);case 8:return e===fm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TI(t){var e=N0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ec(t){t._valueTracker||(t._valueTracker=TI(t))}function D0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=N0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wf(t,e){var n=e.checked;return Pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function I_(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function O0(t,e){e=e.checked,e!=null&&dm(t,"checked",e,!1)}function qf(t,e){O0(t,e);var n=ks(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Kf(t,e.type,ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Kf(t,e,n){(e!=="number"||dh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Al=Array.isArray;function pa(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ks(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(Al(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ks(n)}}function M0(t,e){var n=ks(e.value),i=ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function C_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tc,j0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tc=Tc||document.createElement("div"),Tc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xI=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(t){xI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jl[e]=jl[t]})});function F0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jl.hasOwnProperty(t)&&jl[t]?(""+e).trim():e+"px"}function U0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=F0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var II=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qf(t,e){if(e){if(II[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function Yf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=null;function gm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jf=null,ma=null,ga=null;function R_(t){if(t=Mu(t)){if(typeof Jf!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=ld(e),Jf(t.stateNode,t.type,e))}}function z0(t){ma?ga?ga.push(t):ga=[t]:ma=t}function B0(){if(ma){var t=ma,e=ga;if(ga=ma=null,R_(t),e)for(t=0;t<e.length;t++)R_(e[t])}}function $0(t,e){return t(e)}function H0(){}var ef=!1;function W0(t,e,n){if(ef)return t(e,n);ef=!0;try{return $0(t,e,n)}finally{ef=!1,(ma!==null||ga!==null)&&(H0(),B0())}}function nu(t,e){var n=t.stateNode;if(n===null)return null;var i=ld(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var ep=!1;if(br)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){ep=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{ep=!1}function PI(t,e,n,i,r,o,l,h,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(_){this.onError(_)}}var Fl=!1,fh=null,ph=!1,tp=null,SI={onError:function(t){Fl=!0,fh=t}};function CI(t,e,n,i,r,o,l,h,d){Fl=!1,fh=null,PI.apply(SI,arguments)}function RI(t,e,n,i,r,o,l,h,d){if(CI.apply(this,arguments),Fl){if(Fl){var p=fh;Fl=!1,fh=null}else throw Error(ie(198));ph||(ph=!0,tp=p)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function q0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A_(t){if(xo(t)!==t)throw Error(ie(188))}function AI(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return A_(r),t;if(o===i)return A_(r),e;o=o.sibling}throw Error(ie(188))}if(n.return!==i.return)n=r,i=o;else{for(var l=!1,h=r.child;h;){if(h===n){l=!0,n=r,i=o;break}if(h===i){l=!0,i=r,n=o;break}h=h.sibling}if(!l){for(h=o.child;h;){if(h===n){l=!0,n=o,i=r;break}if(h===i){l=!0,i=o,n=r;break}h=h.sibling}if(!l)throw Error(ie(189))}}if(n.alternate!==i)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function K0(t){return t=AI(t),t!==null?Z0(t):null}function Z0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z0(t);if(e!==null)return e;t=t.sibling}return null}var G0=qn.unstable_scheduleCallback,k_=qn.unstable_cancelCallback,kI=qn.unstable_shouldYield,bI=qn.unstable_requestPaint,Nt=qn.unstable_now,LI=qn.unstable_getCurrentPriorityLevel,_m=qn.unstable_ImmediatePriority,Q0=qn.unstable_UserBlockingPriority,mh=qn.unstable_NormalPriority,NI=qn.unstable_LowPriority,Y0=qn.unstable_IdlePriority,rd=null,Zi=null;function DI(t){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(rd,t,void 0,(t.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:VI,OI=Math.log,MI=Math.LN2;function VI(t){return t>>>=0,t===0?32:31-(OI(t)/MI|0)|0}var xc=64,Ic=4194304;function kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gh(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var h=l&~r;h!==0?i=kl(h):(o&=l,o!==0&&(i=kl(o)))}else l=n&~r,l!==0?i=kl(l):o!==0&&(i=kl(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-bi(e),r=1<<n,i|=t[n],e&=~r;return i}function jI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FI(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-bi(o),h=1<<l,d=r[l];d===-1?(!(h&n)||h&i)&&(r[l]=jI(h,e)):d<=e&&(t.expiredLanes|=h),o&=~h}}function np(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function X0(){var t=xc;return xc<<=1,!(xc&4194240)&&(xc=64),t}function tf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Du(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bi(e),t[e]=n}function UI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-bi(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function vm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-bi(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var tt=0;function J0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ew,ym,tw,nw,iw,ip=!1,Pc=[],ys=null,ws=null,Es=null,iu=new Map,ru=new Map,us=[],zI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b_(t,e){switch(t){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":iu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(e.pointerId)}}function vl(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Mu(e),e!==null&&ym(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function BI(t,e,n,i,r){switch(e){case"focusin":return ys=vl(ys,t,e,n,i,r),!0;case"dragenter":return ws=vl(ws,t,e,n,i,r),!0;case"mouseover":return Es=vl(Es,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return iu.set(o,vl(iu.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,ru.set(o,vl(ru.get(o)||null,t,e,n,i,r)),!0}return!1}function rw(t){var e=Xs(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=q0(n),e!==null){t.blockedOn=e,iw(t.priority,function(){tw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Xf=i,n.target.dispatchEvent(i),Xf=null}else return e=Mu(n),e!==null&&ym(e),t.blockedOn=n,!1;e.shift()}return!0}function L_(t,e,n){qc(t)&&n.delete(e)}function $I(){ip=!1,ys!==null&&qc(ys)&&(ys=null),ws!==null&&qc(ws)&&(ws=null),Es!==null&&qc(Es)&&(Es=null),iu.forEach(L_),ru.forEach(L_)}function yl(t,e){t.blockedOn===e&&(t.blockedOn=null,ip||(ip=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,$I)))}function su(t){function e(r){return yl(r,t)}if(0<Pc.length){yl(Pc[0],t);for(var n=1;n<Pc.length;n++){var i=Pc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ys!==null&&yl(ys,t),ws!==null&&yl(ws,t),Es!==null&&yl(Es,t),iu.forEach(e),ru.forEach(e),n=0;n<us.length;n++)i=us[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<us.length&&(n=us[0],n.blockedOn===null);)rw(n),n.blockedOn===null&&us.shift()}var _a=Fr.ReactCurrentBatchConfig,_h=!0;function HI(t,e,n,i){var r=tt,o=_a.transition;_a.transition=null;try{tt=1,wm(t,e,n,i)}finally{tt=r,_a.transition=o}}function WI(t,e,n,i){var r=tt,o=_a.transition;_a.transition=null;try{tt=4,wm(t,e,n,i)}finally{tt=r,_a.transition=o}}function wm(t,e,n,i){if(_h){var r=rp(t,e,n,i);if(r===null)df(t,e,i,vh,n),b_(t,i);else if(BI(r,t,e,n,i))i.stopPropagation();else if(b_(t,i),e&4&&-1<zI.indexOf(t)){for(;r!==null;){var o=Mu(r);if(o!==null&&ew(o),o=rp(t,e,n,i),o===null&&df(t,e,i,vh,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else df(t,e,i,null,n)}}var vh=null;function rp(t,e,n,i){if(vh=null,t=gm(i),t=Xs(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=q0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vh=t,null}function sw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LI()){case _m:return 1;case Q0:return 4;case mh:case NI:return 16;case Y0:return 536870912;default:return 16}default:return 16}}var ms=null,Em=null,Kc=null;function ow(){if(Kc)return Kc;var t,e=Em,n=e.length,i,r="value"in ms?ms.value:ms.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===r[o-i];i++);return Kc=r.slice(t,1<i?1-i:void 0)}function Zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sc(){return!0}function N_(){return!1}function Zn(t){function e(n,i,r,o,l){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sc:N_,this.isPropagationStopped=N_,this}return Pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),e}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tm=Zn(Ua),Ou=Pt({},Ua,{view:0,detail:0}),qI=Zn(Ou),nf,rf,wl,sd=Pt({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wl&&(wl&&t.type==="mousemove"?(nf=t.screenX-wl.screenX,rf=t.screenY-wl.screenY):rf=nf=0,wl=t),nf)},movementY:function(t){return"movementY"in t?t.movementY:rf}}),D_=Zn(sd),KI=Pt({},sd,{dataTransfer:0}),ZI=Zn(KI),GI=Pt({},Ou,{relatedTarget:0}),sf=Zn(GI),QI=Pt({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),YI=Zn(QI),XI=Pt({},Ua,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JI=Zn(XI),eP=Pt({},Ua,{data:0}),O_=Zn(eP),tP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iP[t])?!!e[t]:!1}function xm(){return rP}var sP=Pt({},Ou,{key:function(t){if(t.key){var e=tP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(t){return t.type==="keypress"?Zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oP=Zn(sP),aP=Pt({},sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M_=Zn(aP),lP=Pt({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),uP=Zn(lP),cP=Pt({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),hP=Zn(cP),dP=Pt({},sd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fP=Zn(dP),pP=[9,13,27,32],Im=br&&"CompositionEvent"in window,Ul=null;br&&"documentMode"in document&&(Ul=document.documentMode);var mP=br&&"TextEvent"in window&&!Ul,aw=br&&(!Im||Ul&&8<Ul&&11>=Ul),V_=" ",j_=!1;function lw(t,e){switch(t){case"keyup":return pP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ia=!1;function gP(t,e){switch(t){case"compositionend":return uw(e);case"keypress":return e.which!==32?null:(j_=!0,V_);case"textInput":return t=e.data,t===V_&&j_?null:t;default:return null}}function _P(t,e){if(ia)return t==="compositionend"||!Im&&lw(t,e)?(t=ow(),Kc=Em=ms=null,ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aw&&e.locale!=="ko"?null:e.data;default:return null}}var vP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vP[t.type]:e==="textarea"}function cw(t,e,n,i){z0(i),e=yh(e,"onChange"),0<e.length&&(n=new Tm("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var zl=null,ou=null;function yP(t){Ew(t,0)}function od(t){var e=oa(t);if(D0(e))return t}function wP(t,e){if(t==="change")return e}var hw=!1;if(br){var of;if(br){var af="oninput"in document;if(!af){var U_=document.createElement("div");U_.setAttribute("oninput","return;"),af=typeof U_.oninput=="function"}of=af}else of=!1;hw=of&&(!document.documentMode||9<document.documentMode)}function z_(){zl&&(zl.detachEvent("onpropertychange",dw),ou=zl=null)}function dw(t){if(t.propertyName==="value"&&od(ou)){var e=[];cw(e,ou,t,gm(t)),W0(yP,e)}}function EP(t,e,n){t==="focusin"?(z_(),zl=e,ou=n,zl.attachEvent("onpropertychange",dw)):t==="focusout"&&z_()}function TP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return od(ou)}function xP(t,e){if(t==="click")return od(e)}function IP(t,e){if(t==="input"||t==="change")return od(e)}function PP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ni=typeof Object.is=="function"?Object.is:PP;function au(t,e){if(Ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Uf.call(e,r)||!Ni(t[r],e[r]))return!1}return!0}function B_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $_(t,e){var n=B_(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B_(n)}}function fw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pw(){for(var t=window,e=dh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dh(t.document)}return e}function Pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SP(t){var e=pw(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fw(n.ownerDocument.documentElement,n)){if(i!==null&&Pm(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=$_(n,o);var l=$_(n,i);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CP=br&&"documentMode"in document&&11>=document.documentMode,ra=null,sp=null,Bl=null,op=!1;function H_(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;op||ra==null||ra!==dh(i)||(i=ra,"selectionStart"in i&&Pm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Bl&&au(Bl,i)||(Bl=i,i=yh(sp,"onSelect"),0<i.length&&(e=new Tm("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ra)))}function Cc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sa={animationend:Cc("Animation","AnimationEnd"),animationiteration:Cc("Animation","AnimationIteration"),animationstart:Cc("Animation","AnimationStart"),transitionend:Cc("Transition","TransitionEnd")},lf={},mw={};br&&(mw=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function ad(t){if(lf[t])return lf[t];if(!sa[t])return t;var e=sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mw)return lf[t]=e[n];return t}var gw=ad("animationend"),_w=ad("animationiteration"),vw=ad("animationstart"),yw=ad("transitionend"),ww=new Map,W_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(t,e){ww.set(t,e),To(e,[t])}for(var uf=0;uf<W_.length;uf++){var cf=W_[uf],RP=cf.toLowerCase(),AP=cf[0].toUpperCase()+cf.slice(1);Ms(RP,"on"+AP)}Ms(gw,"onAnimationEnd");Ms(_w,"onAnimationIteration");Ms(vw,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(yw,"onTransitionEnd");Ia("onMouseEnter",["mouseout","mouseover"]);Ia("onMouseLeave",["mouseout","mouseover"]);Ia("onPointerEnter",["pointerout","pointerover"]);Ia("onPointerLeave",["pointerout","pointerover"]);To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));To("onBeforeInput",["compositionend","keypress","textInput","paste"]);To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kP=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function q_(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,RI(i,e,void 0,t),t.currentTarget=null}function Ew(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var l=i.length-1;0<=l;l--){var h=i[l],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==o&&r.isPropagationStopped())break e;q_(r,h,p),o=d}else for(l=0;l<i.length;l++){if(h=i[l],d=h.instance,p=h.currentTarget,h=h.listener,d!==o&&r.isPropagationStopped())break e;q_(r,h,p),o=d}}}if(ph)throw t=tp,ph=!1,tp=null,t}function dt(t,e){var n=e[hp];n===void 0&&(n=e[hp]=new Set);var i=t+"__bubble";n.has(i)||(Tw(e,t,2,!1),n.add(i))}function hf(t,e,n){var i=0;e&&(i|=4),Tw(n,t,i,e)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function lu(t){if(!t[Rc]){t[Rc]=!0,A0.forEach(function(n){n!=="selectionchange"&&(kP.has(n)||hf(n,!1,t),hf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rc]||(e[Rc]=!0,hf("selectionchange",!1,e))}}function Tw(t,e,n,i){switch(sw(e)){case 1:var r=HI;break;case 4:r=WI;break;default:r=wm}n=r.bind(null,e,n,t),r=void 0,!ep||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function df(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var h=i.stateNode.containerInfo;if(h===r||h.nodeType===8&&h.parentNode===r)break;if(l===4)for(l=i.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;l=l.return}for(;h!==null;){if(l=Xs(h),l===null)return;if(d=l.tag,d===5||d===6){i=o=l;continue e}h=h.parentNode}}i=i.return}W0(function(){var p=o,_=gm(n),y=[];e:{var w=ww.get(t);if(w!==void 0){var N=Tm,O=t;switch(t){case"keypress":if(Zc(n)===0)break e;case"keydown":case"keyup":N=oP;break;case"focusin":O="focus",N=sf;break;case"focusout":O="blur",N=sf;break;case"beforeblur":case"afterblur":N=sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=D_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=ZI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=uP;break;case gw:case _w:case vw:N=YI;break;case yw:N=hP;break;case"scroll":N=qI;break;case"wheel":N=fP;break;case"copy":case"cut":case"paste":N=JI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=M_}var k=(e&4)!==0,z=!k&&t==="scroll",A=k?w!==null?w+"Capture":null:w;k=[];for(var P=p,R;P!==null;){R=P;var $=R.stateNode;if(R.tag===5&&$!==null&&(R=$,A!==null&&($=nu(P,A),$!=null&&k.push(uu(P,$,R)))),z)break;P=P.return}0<k.length&&(w=new N(w,O,null,n,_),y.push({event:w,listeners:k}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",w&&n!==Xf&&(O=n.relatedTarget||n.fromElement)&&(Xs(O)||O[Lr]))break e;if((N||w)&&(w=_.window===_?_:(w=_.ownerDocument)?w.defaultView||w.parentWindow:window,N?(O=n.relatedTarget||n.toElement,N=p,O=O?Xs(O):null,O!==null&&(z=xo(O),O!==z||O.tag!==5&&O.tag!==6)&&(O=null)):(N=null,O=p),N!==O)){if(k=D_,$="onMouseLeave",A="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(k=M_,$="onPointerLeave",A="onPointerEnter",P="pointer"),z=N==null?w:oa(N),R=O==null?w:oa(O),w=new k($,P+"leave",N,n,_),w.target=z,w.relatedTarget=R,$=null,Xs(_)===p&&(k=new k(A,P+"enter",O,n,_),k.target=R,k.relatedTarget=z,$=k),z=$,N&&O)t:{for(k=N,A=O,P=0,R=k;R;R=Qo(R))P++;for(R=0,$=A;$;$=Qo($))R++;for(;0<P-R;)k=Qo(k),P--;for(;0<R-P;)A=Qo(A),R--;for(;P--;){if(k===A||A!==null&&k===A.alternate)break t;k=Qo(k),A=Qo(A)}k=null}else k=null;N!==null&&K_(y,w,N,k,!1),O!==null&&z!==null&&K_(y,z,O,k,!0)}}e:{if(w=p?oa(p):window,N=w.nodeName&&w.nodeName.toLowerCase(),N==="select"||N==="input"&&w.type==="file")var X=wP;else if(F_(w))if(hw)X=IP;else{X=TP;var j=EP}else(N=w.nodeName)&&N.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(X=xP);if(X&&(X=X(t,p))){cw(y,X,n,_);break e}j&&j(t,w,p),t==="focusout"&&(j=w._wrapperState)&&j.controlled&&w.type==="number"&&Kf(w,"number",w.value)}switch(j=p?oa(p):window,t){case"focusin":(F_(j)||j.contentEditable==="true")&&(ra=j,sp=p,Bl=null);break;case"focusout":Bl=sp=ra=null;break;case"mousedown":op=!0;break;case"contextmenu":case"mouseup":case"dragend":op=!1,H_(y,n,_);break;case"selectionchange":if(CP)break;case"keydown":case"keyup":H_(y,n,_)}var C;if(Im)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ia?lw(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(aw&&n.locale!=="ko"&&(ia||x!=="onCompositionStart"?x==="onCompositionEnd"&&ia&&(C=ow()):(ms=_,Em="value"in ms?ms.value:ms.textContent,ia=!0)),j=yh(p,x),0<j.length&&(x=new O_(x,t,null,n,_),y.push({event:x,listeners:j}),C?x.data=C:(C=uw(n),C!==null&&(x.data=C)))),(C=mP?gP(t,n):_P(t,n))&&(p=yh(p,"onBeforeInput"),0<p.length&&(_=new O_("onBeforeInput","beforeinput",null,n,_),y.push({event:_,listeners:p}),_.data=C))}Ew(y,e)})}function uu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yh(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=nu(t,n),o!=null&&i.unshift(uu(t,o,r)),o=nu(t,e),o!=null&&i.push(uu(t,o,r))),t=t.return}return i}function Qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function K_(t,e,n,i,r){for(var o=e._reactName,l=[];n!==null&&n!==i;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===i)break;h.tag===5&&p!==null&&(h=p,r?(d=nu(n,o),d!=null&&l.unshift(uu(n,d,h))):r||(d=nu(n,o),d!=null&&l.push(uu(n,d,h)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var bP=/\r\n?/g,LP=/\u0000|\uFFFD/g;function Z_(t){return(typeof t=="string"?t:""+t).replace(bP,`
`).replace(LP,"")}function Ac(t,e,n){if(e=Z_(e),Z_(t)!==e&&n)throw Error(ie(425))}function wh(){}var ap=null,lp=null;function up(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cp=typeof setTimeout=="function"?setTimeout:void 0,NP=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,DP=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(t){return G_.resolve(null).then(t).catch(OP)}:cp;function OP(t){setTimeout(function(){throw t})}function ff(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),su(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);su(e)}function Ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Q_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var za=Math.random().toString(36).slice(2),qi="__reactFiber$"+za,cu="__reactProps$"+za,Lr="__reactContainer$"+za,hp="__reactEvents$"+za,MP="__reactListeners$"+za,VP="__reactHandles$"+za;function Xs(t){var e=t[qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lr]||n[qi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Q_(t);t!==null;){if(n=t[qi])return n;t=Q_(t)}return e}t=n,n=t.parentNode}return null}function Mu(t){return t=t[qi]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function ld(t){return t[cu]||null}var dp=[],aa=-1;function Vs(t){return{current:t}}function ft(t){0>aa||(t.current=dp[aa],dp[aa]=null,aa--)}function ut(t,e){aa++,dp[aa]=t.current,t.current=e}var bs={},fn=Vs(bs),Ln=Vs(!1),lo=bs;function Pa(t,e){var n=t.type.contextTypes;if(!n)return bs;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Nn(t){return t=t.childContextTypes,t!=null}function Eh(){ft(Ln),ft(fn)}function Y_(t,e,n){if(fn.current!==bs)throw Error(ie(168));ut(fn,e),ut(Ln,n)}function xw(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(ie(108,EI(t)||"Unknown",r));return Pt({},n,i)}function Th(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bs,lo=fn.current,ut(fn,t),ut(Ln,Ln.current),!0}function X_(t,e,n){var i=t.stateNode;if(!i)throw Error(ie(169));n?(t=xw(t,e,lo),i.__reactInternalMemoizedMergedChildContext=t,ft(Ln),ft(fn),ut(fn,t)):ft(Ln),ut(Ln,n)}var Er=null,ud=!1,pf=!1;function Iw(t){Er===null?Er=[t]:Er.push(t)}function jP(t){ud=!0,Iw(t)}function js(){if(!pf&&Er!==null){pf=!0;var t=0,e=tt;try{var n=Er;for(tt=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Er=null,ud=!1}catch(r){throw Er!==null&&(Er=Er.slice(t+1)),G0(_m,js),r}finally{tt=e,pf=!1}}return null}var la=[],ua=0,xh=null,Ih=0,si=[],oi=0,uo=null,Tr=1,xr="";function Zs(t,e){la[ua++]=Ih,la[ua++]=xh,xh=t,Ih=e}function Pw(t,e,n){si[oi++]=Tr,si[oi++]=xr,si[oi++]=uo,uo=t;var i=Tr;t=xr;var r=32-bi(i)-1;i&=~(1<<r),n+=1;var o=32-bi(e)+r;if(30<o){var l=r-r%5;o=(i&(1<<l)-1).toString(32),i>>=l,r-=l,Tr=1<<32-bi(e)+r|n<<r|i,xr=o+t}else Tr=1<<o|n<<r|i,xr=t}function Sm(t){t.return!==null&&(Zs(t,1),Pw(t,1,0))}function Cm(t){for(;t===xh;)xh=la[--ua],la[ua]=null,Ih=la[--ua],la[ua]=null;for(;t===uo;)uo=si[--oi],si[oi]=null,xr=si[--oi],si[oi]=null,Tr=si[--oi],si[oi]=null}var Wn=null,$n=null,gt=!1,Ri=null;function Sw(t,e){var n=li(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function J_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,$n=Ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=uo!==null?{id:Tr,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=li(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,$n=null,!0):!1;default:return!1}}function fp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pp(t){if(gt){var e=$n;if(e){var n=e;if(!J_(t,e)){if(fp(t))throw Error(ie(418));e=Ts(n.nextSibling);var i=Wn;e&&J_(t,e)?Sw(i,n):(t.flags=t.flags&-4097|2,gt=!1,Wn=t)}}else{if(fp(t))throw Error(ie(418));t.flags=t.flags&-4097|2,gt=!1,Wn=t}}}function ev(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function kc(t){if(t!==Wn)return!1;if(!gt)return ev(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!up(t.type,t.memoizedProps)),e&&(e=$n)){if(fp(t))throw Cw(),Error(ie(418));for(;e;)Sw(t,e),e=Ts(e.nextSibling)}if(ev(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$n=Ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=Wn?Ts(t.stateNode.nextSibling):null;return!0}function Cw(){for(var t=$n;t;)t=Ts(t.nextSibling)}function Sa(){$n=Wn=null,gt=!1}function Rm(t){Ri===null?Ri=[t]:Ri.push(t)}var FP=Fr.ReactCurrentBatchConfig;function El(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var i=n.stateNode}if(!i)throw Error(ie(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var h=r.refs;l===null?delete h[o]:h[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function bc(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tv(t){var e=t._init;return e(t._payload)}function Rw(t){function e(A,P){if(t){var R=A.deletions;R===null?(A.deletions=[P],A.flags|=16):R.push(P)}}function n(A,P){if(!t)return null;for(;P!==null;)e(A,P),P=P.sibling;return null}function i(A,P){for(A=new Map;P!==null;)P.key!==null?A.set(P.key,P):A.set(P.index,P),P=P.sibling;return A}function r(A,P){return A=Ss(A,P),A.index=0,A.sibling=null,A}function o(A,P,R){return A.index=R,t?(R=A.alternate,R!==null?(R=R.index,R<P?(A.flags|=2,P):R):(A.flags|=2,P)):(A.flags|=1048576,P)}function l(A){return t&&A.alternate===null&&(A.flags|=2),A}function h(A,P,R,$){return P===null||P.tag!==6?(P=Ef(R,A.mode,$),P.return=A,P):(P=r(P,R),P.return=A,P)}function d(A,P,R,$){var X=R.type;return X===na?_(A,P,R.props.children,$,R.key):P!==null&&(P.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===as&&tv(X)===P.type)?($=r(P,R.props),$.ref=El(A,P,R),$.return=A,$):($=th(R.type,R.key,R.props,null,A.mode,$),$.ref=El(A,P,R),$.return=A,$)}function p(A,P,R,$){return P===null||P.tag!==4||P.stateNode.containerInfo!==R.containerInfo||P.stateNode.implementation!==R.implementation?(P=Tf(R,A.mode,$),P.return=A,P):(P=r(P,R.children||[]),P.return=A,P)}function _(A,P,R,$,X){return P===null||P.tag!==7?(P=so(R,A.mode,$,X),P.return=A,P):(P=r(P,R),P.return=A,P)}function y(A,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Ef(""+P,A.mode,R),P.return=A,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case wc:return R=th(P.type,P.key,P.props,null,A.mode,R),R.ref=El(A,null,P),R.return=A,R;case ta:return P=Tf(P,A.mode,R),P.return=A,P;case as:var $=P._init;return y(A,$(P._payload),R)}if(Al(P)||gl(P))return P=so(P,A.mode,R,null),P.return=A,P;bc(A,P)}return null}function w(A,P,R,$){var X=P!==null?P.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return X!==null?null:h(A,P,""+R,$);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case wc:return R.key===X?d(A,P,R,$):null;case ta:return R.key===X?p(A,P,R,$):null;case as:return X=R._init,w(A,P,X(R._payload),$)}if(Al(R)||gl(R))return X!==null?null:_(A,P,R,$,null);bc(A,R)}return null}function N(A,P,R,$,X){if(typeof $=="string"&&$!==""||typeof $=="number")return A=A.get(R)||null,h(P,A,""+$,X);if(typeof $=="object"&&$!==null){switch($.$$typeof){case wc:return A=A.get($.key===null?R:$.key)||null,d(P,A,$,X);case ta:return A=A.get($.key===null?R:$.key)||null,p(P,A,$,X);case as:var j=$._init;return N(A,P,R,j($._payload),X)}if(Al($)||gl($))return A=A.get(R)||null,_(P,A,$,X,null);bc(P,$)}return null}function O(A,P,R,$){for(var X=null,j=null,C=P,x=P=0,S=null;C!==null&&x<R.length;x++){C.index>x?(S=C,C=null):S=C.sibling;var b=w(A,C,R[x],$);if(b===null){C===null&&(C=S);break}t&&C&&b.alternate===null&&e(A,C),P=o(b,P,x),j===null?X=b:j.sibling=b,j=b,C=S}if(x===R.length)return n(A,C),gt&&Zs(A,x),X;if(C===null){for(;x<R.length;x++)C=y(A,R[x],$),C!==null&&(P=o(C,P,x),j===null?X=C:j.sibling=C,j=C);return gt&&Zs(A,x),X}for(C=i(A,C);x<R.length;x++)S=N(C,A,x,R[x],$),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?x:S.key),P=o(S,P,x),j===null?X=S:j.sibling=S,j=S);return t&&C.forEach(function(M){return e(A,M)}),gt&&Zs(A,x),X}function k(A,P,R,$){var X=gl(R);if(typeof X!="function")throw Error(ie(150));if(R=X.call(R),R==null)throw Error(ie(151));for(var j=X=null,C=P,x=P=0,S=null,b=R.next();C!==null&&!b.done;x++,b=R.next()){C.index>x?(S=C,C=null):S=C.sibling;var M=w(A,C,b.value,$);if(M===null){C===null&&(C=S);break}t&&C&&M.alternate===null&&e(A,C),P=o(M,P,x),j===null?X=M:j.sibling=M,j=M,C=S}if(b.done)return n(A,C),gt&&Zs(A,x),X;if(C===null){for(;!b.done;x++,b=R.next())b=y(A,b.value,$),b!==null&&(P=o(b,P,x),j===null?X=b:j.sibling=b,j=b);return gt&&Zs(A,x),X}for(C=i(A,C);!b.done;x++,b=R.next())b=N(C,A,x,b.value,$),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?x:b.key),P=o(b,P,x),j===null?X=b:j.sibling=b,j=b);return t&&C.forEach(function(U){return e(A,U)}),gt&&Zs(A,x),X}function z(A,P,R,$){if(typeof R=="object"&&R!==null&&R.type===na&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case wc:e:{for(var X=R.key,j=P;j!==null;){if(j.key===X){if(X=R.type,X===na){if(j.tag===7){n(A,j.sibling),P=r(j,R.props.children),P.return=A,A=P;break e}}else if(j.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===as&&tv(X)===j.type){n(A,j.sibling),P=r(j,R.props),P.ref=El(A,j,R),P.return=A,A=P;break e}n(A,j);break}else e(A,j);j=j.sibling}R.type===na?(P=so(R.props.children,A.mode,$,R.key),P.return=A,A=P):($=th(R.type,R.key,R.props,null,A.mode,$),$.ref=El(A,P,R),$.return=A,A=$)}return l(A);case ta:e:{for(j=R.key;P!==null;){if(P.key===j)if(P.tag===4&&P.stateNode.containerInfo===R.containerInfo&&P.stateNode.implementation===R.implementation){n(A,P.sibling),P=r(P,R.children||[]),P.return=A,A=P;break e}else{n(A,P);break}else e(A,P);P=P.sibling}P=Tf(R,A.mode,$),P.return=A,A=P}return l(A);case as:return j=R._init,z(A,P,j(R._payload),$)}if(Al(R))return O(A,P,R,$);if(gl(R))return k(A,P,R,$);bc(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,P!==null&&P.tag===6?(n(A,P.sibling),P=r(P,R),P.return=A,A=P):(n(A,P),P=Ef(R,A.mode,$),P.return=A,A=P),l(A)):n(A,P)}return z}var Ca=Rw(!0),Aw=Rw(!1),Ph=Vs(null),Sh=null,ca=null,Am=null;function km(){Am=ca=Sh=null}function bm(t){var e=Ph.current;ft(Ph),t._currentValue=e}function mp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function va(t,e){Sh=t,Am=ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function hi(t){var e=t._currentValue;if(Am!==t)if(t={context:t,memoizedValue:e,next:null},ca===null){if(Sh===null)throw Error(ie(308));ca=t,Sh.dependencies={lanes:0,firstContext:t}}else ca=ca.next=t;return e}var Js=null;function Lm(t){Js===null?Js=[t]:Js.push(t)}function kw(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Lm(e)):(n.next=r.next,r.next=n),e.interleaved=n,Nr(t,i)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ls=!1;function Nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xs(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ze&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Nr(t,n)}return r=i.interleaved,r===null?(e.next=e,Lm(i)):(e.next=r.next,r.next=e),i.interleaved=e,Nr(t,n)}function Gc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,vm(t,n)}}function nv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ch(t,e,n,i){var r=t.updateQueue;ls=!1;var o=r.firstBaseUpdate,l=r.lastBaseUpdate,h=r.shared.pending;if(h!==null){r.shared.pending=null;var d=h,p=d.next;d.next=null,l===null?o=p:l.next=p,l=d;var _=t.alternate;_!==null&&(_=_.updateQueue,h=_.lastBaseUpdate,h!==l&&(h===null?_.firstBaseUpdate=p:h.next=p,_.lastBaseUpdate=d))}if(o!==null){var y=r.baseState;l=0,_=p=d=null,h=o;do{var w=h.lane,N=h.eventTime;if((i&w)===w){_!==null&&(_=_.next={eventTime:N,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var O=t,k=h;switch(w=e,N=n,k.tag){case 1:if(O=k.payload,typeof O=="function"){y=O.call(N,y,w);break e}y=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=k.payload,w=typeof O=="function"?O.call(N,y,w):O,w==null)break e;y=Pt({},y,w);break e;case 2:ls=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,w=r.effects,w===null?r.effects=[h]:w.push(h))}else N={eventTime:N,lane:w,tag:h.tag,payload:h.payload,callback:h.callback,next:null},_===null?(p=_=N,d=y):_=_.next=N,l|=w;if(h=h.next,h===null){if(h=r.shared.pending,h===null)break;w=h,h=w.next,w.next=null,r.lastBaseUpdate=w,r.shared.pending=null}}while(!0);if(_===null&&(d=y),r.baseState=d,r.firstBaseUpdate=p,r.lastBaseUpdate=_,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);ho|=l,t.lanes=l,t.memoizedState=y}}function iv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(ie(191,r));r.call(i)}}}var Vu={},Gi=Vs(Vu),hu=Vs(Vu),du=Vs(Vu);function eo(t){if(t===Vu)throw Error(ie(174));return t}function Dm(t,e){switch(ut(du,e),ut(hu,t),ut(Gi,Vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gf(e,t)}ft(Gi),ut(Gi,e)}function Ra(){ft(Gi),ft(hu),ft(du)}function Lw(t){eo(du.current);var e=eo(Gi.current),n=Gf(e,t.type);e!==n&&(ut(hu,t),ut(Gi,n))}function Om(t){hu.current===t&&(ft(Gi),ft(hu))}var xt=Vs(0);function Rh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mf=[];function Mm(){for(var t=0;t<mf.length;t++)mf[t]._workInProgressVersionPrimary=null;mf.length=0}var Qc=Fr.ReactCurrentDispatcher,gf=Fr.ReactCurrentBatchConfig,co=0,It=null,zt=null,Gt=null,Ah=!1,$l=!1,fu=0,UP=0;function an(){throw Error(ie(321))}function Vm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ni(t[n],e[n]))return!1;return!0}function jm(t,e,n,i,r,o){if(co=o,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qc.current=t===null||t.memoizedState===null?HP:WP,t=n(i,r),$l){o=0;do{if($l=!1,fu=0,25<=o)throw Error(ie(301));o+=1,Gt=zt=null,e.updateQueue=null,Qc.current=qP,t=n(i,r)}while($l)}if(Qc.current=kh,e=zt!==null&&zt.next!==null,co=0,Gt=zt=It=null,Ah=!1,e)throw Error(ie(300));return t}function Fm(){var t=fu!==0;return fu=0,t}function Wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?It.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function di(){if(zt===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var e=Gt===null?It.memoizedState:Gt.next;if(e!==null)Gt=e,zt=t;else{if(t===null)throw Error(ie(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Gt===null?It.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function pu(t,e){return typeof e=="function"?e(t):e}function _f(t){var e=di(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var i=zt,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var l=r.next;r.next=o.next,o.next=l}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var h=l=null,d=null,p=o;do{var _=p.lane;if((co&_)===_)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:t(i,p.action);else{var y={lane:_,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=y,l=i):d=d.next=y,It.lanes|=_,ho|=_}p=p.next}while(p!==null&&p!==o);d===null?l=i:d.next=h,Ni(i,e.memoizedState)||(bn=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=d,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,It.lanes|=o,ho|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vf(t){var e=di(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do o=t(o,l.action),l=l.next;while(l!==r);Ni(o,e.memoizedState)||(bn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function Nw(){}function Dw(t,e){var n=It,i=di(),r=e(),o=!Ni(i.memoizedState,r);if(o&&(i.memoizedState=r,bn=!0),i=i.queue,Um(Vw.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,mu(9,Mw.bind(null,n,i,r,e),void 0,null),Qt===null)throw Error(ie(349));co&30||Ow(n,e,r)}return r}function Ow(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Mw(t,e,n,i){e.value=n,e.getSnapshot=i,jw(e)&&Fw(t)}function Vw(t,e,n){return n(function(){jw(e)&&Fw(t)})}function jw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ni(t,n)}catch{return!0}}function Fw(t){var e=Nr(t,1);e!==null&&Li(e,t,1,-1)}function rv(t){var e=Wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:t},e.queue=t,t=t.dispatch=$P.bind(null,It,t),[e.memoizedState,t]}function mu(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Uw(){return di().memoizedState}function Yc(t,e,n,i){var r=Wi();It.flags|=t,r.memoizedState=mu(1|e,n,void 0,i===void 0?null:i)}function cd(t,e,n,i){var r=di();i=i===void 0?null:i;var o=void 0;if(zt!==null){var l=zt.memoizedState;if(o=l.destroy,i!==null&&Vm(i,l.deps)){r.memoizedState=mu(e,n,o,i);return}}It.flags|=t,r.memoizedState=mu(1|e,n,o,i)}function sv(t,e){return Yc(8390656,8,t,e)}function Um(t,e){return cd(2048,8,t,e)}function zw(t,e){return cd(4,2,t,e)}function Bw(t,e){return cd(4,4,t,e)}function $w(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hw(t,e,n){return n=n!=null?n.concat([t]):null,cd(4,4,$w.bind(null,e,t),n)}function zm(){}function Ww(t,e){var n=di();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function qw(t,e){var n=di();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vm(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Kw(t,e,n){return co&21?(Ni(n,e)||(n=X0(),It.lanes|=n,ho|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function zP(t,e){var n=tt;tt=n!==0&&4>n?n:4,t(!0);var i=gf.transition;gf.transition={};try{t(!1),e()}finally{tt=n,gf.transition=i}}function Zw(){return di().memoizedState}function BP(t,e,n){var i=Ps(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Gw(t))Qw(e,n);else if(n=kw(t,e,n,i),n!==null){var r=En();Li(n,t,i,r),Yw(n,e,i)}}function $P(t,e,n){var i=Ps(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gw(t))Qw(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,h=o(l,n);if(r.hasEagerState=!0,r.eagerState=h,Ni(h,l)){var d=e.interleaved;d===null?(r.next=r,Lm(e)):(r.next=d.next,d.next=r),e.interleaved=r;return}}catch{}finally{}n=kw(t,e,r,i),n!==null&&(r=En(),Li(n,t,i,r),Yw(n,e,i))}}function Gw(t){var e=t.alternate;return t===It||e!==null&&e===It}function Qw(t,e){$l=Ah=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Yw(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,vm(t,n)}}var kh={readContext:hi,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},HP={readContext:hi,useCallback:function(t,e){return Wi().memoizedState=[t,e===void 0?null:e],t},useContext:hi,useEffect:sv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yc(4194308,4,$w.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yc(4,2,t,e)},useMemo:function(t,e){var n=Wi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Wi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=BP.bind(null,It,t),[i.memoizedState,t]},useRef:function(t){var e=Wi();return t={current:t},e.memoizedState=t},useState:rv,useDebugValue:zm,useDeferredValue:function(t){return Wi().memoizedState=t},useTransition:function(){var t=rv(!1),e=t[0];return t=zP.bind(null,t[1]),Wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=It,r=Wi();if(gt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),Qt===null)throw Error(ie(349));co&30||Ow(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,sv(Vw.bind(null,i,o,t),[t]),i.flags|=2048,mu(9,Mw.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Wi(),e=Qt.identifierPrefix;if(gt){var n=xr,i=Tr;n=(i&~(1<<32-bi(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=fu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=UP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WP={readContext:hi,useCallback:Ww,useContext:hi,useEffect:Um,useImperativeHandle:Hw,useInsertionEffect:zw,useLayoutEffect:Bw,useMemo:qw,useReducer:_f,useRef:Uw,useState:function(){return _f(pu)},useDebugValue:zm,useDeferredValue:function(t){var e=di();return Kw(e,zt.memoizedState,t)},useTransition:function(){var t=_f(pu)[0],e=di().memoizedState;return[t,e]},useMutableSource:Nw,useSyncExternalStore:Dw,useId:Zw,unstable_isNewReconciler:!1},qP={readContext:hi,useCallback:Ww,useContext:hi,useEffect:Um,useImperativeHandle:Hw,useInsertionEffect:zw,useLayoutEffect:Bw,useMemo:qw,useReducer:vf,useRef:Uw,useState:function(){return vf(pu)},useDebugValue:zm,useDeferredValue:function(t){var e=di();return zt===null?e.memoizedState=t:Kw(e,zt.memoizedState,t)},useTransition:function(){var t=vf(pu)[0],e=di().memoizedState;return[t,e]},useMutableSource:Nw,useSyncExternalStore:Dw,useId:Zw,unstable_isNewReconciler:!1};function Pi(t,e){if(t&&t.defaultProps){e=Pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hd={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=En(),r=Ps(t),o=Cr(i,r);o.payload=e,n!=null&&(o.callback=n),e=xs(t,o,r),e!==null&&(Li(e,t,r,i),Gc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=En(),r=Ps(t),o=Cr(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=xs(t,o,r),e!==null&&(Li(e,t,r,i),Gc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),i=Ps(t),r=Cr(n,i);r.tag=2,e!=null&&(r.callback=e),e=xs(t,r,i),e!==null&&(Li(e,t,i,n),Gc(e,t,i))}};function ov(t,e,n,i,r,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,l):e.prototype&&e.prototype.isPureReactComponent?!au(n,i)||!au(r,o):!0}function Xw(t,e,n){var i=!1,r=bs,o=e.contextType;return typeof o=="object"&&o!==null?o=hi(o):(r=Nn(e)?lo:fn.current,i=e.contextTypes,o=(i=i!=null)?Pa(t,r):bs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hd,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function av(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&hd.enqueueReplaceState(e,e.state,null)}function _p(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Nm(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=hi(o):(o=Nn(e)?lo:fn.current,r.context=Pa(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gp(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&hd.enqueueReplaceState(r,r.state,null),Ch(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Aa(t,e){try{var n="",i=e;do n+=wI(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function yf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KP=typeof WeakMap=="function"?WeakMap:Map;function Jw(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Lh||(Lh=!0,Rp=i),vp(t,e)},n}function eE(t,e,n){n=Cr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){vp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vp(t,e),typeof i!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function lv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new KP;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=aS.bind(null,t,e,n),e.then(t,t))}function uv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cv(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,xs(n,e,1))),n.lanes|=1),t)}var ZP=Fr.ReactCurrentOwner,bn=!1;function yn(t,e,n,i){e.child=t===null?Aw(e,null,n,i):Ca(e,t.child,n,i)}function hv(t,e,n,i,r){n=n.render;var o=e.ref;return va(e,r),i=jm(t,e,n,i,o,r),n=Fm(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Dr(t,e,r)):(gt&&n&&Sm(e),e.flags|=1,yn(t,e,i,r),e.child)}function dv(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!Gm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,tE(t,e,o,i,r)):(t=th(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:au,n(l,i)&&t.ref===e.ref)return Dr(t,e,r)}return e.flags|=1,t=Ss(o,i),t.ref=e.ref,t.return=e,e.child=t}function tE(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(au(o,i)&&t.ref===e.ref)if(bn=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,Dr(t,e,r)}return yp(t,e,n,i,r)}function nE(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(da,zn),zn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(da,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,ut(da,zn),zn|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,ut(da,zn),zn|=i;return yn(t,e,r,n),e.child}function iE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yp(t,e,n,i,r){var o=Nn(n)?lo:fn.current;return o=Pa(e,o),va(e,r),n=jm(t,e,n,i,o,r),i=Fm(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Dr(t,e,r)):(gt&&i&&Sm(e),e.flags|=1,yn(t,e,n,r),e.child)}function fv(t,e,n,i,r){if(Nn(n)){var o=!0;Th(e)}else o=!1;if(va(e,r),e.stateNode===null)Xc(t,e),Xw(e,n,i),_p(e,n,i,r),i=!0;else if(t===null){var l=e.stateNode,h=e.memoizedProps;l.props=h;var d=l.context,p=n.contextType;typeof p=="object"&&p!==null?p=hi(p):(p=Nn(n)?lo:fn.current,p=Pa(e,p));var _=n.getDerivedStateFromProps,y=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function";y||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==i||d!==p)&&av(e,l,i,p),ls=!1;var w=e.memoizedState;l.state=w,Ch(e,i,l,r),d=e.memoizedState,h!==i||w!==d||Ln.current||ls?(typeof _=="function"&&(gp(e,n,_,i),d=e.memoizedState),(h=ls||ov(e,n,h,i,w,d,p))?(y||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=d),l.props=i,l.state=d,l.context=p,i=h):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,bw(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:Pi(e.type,h),l.props=p,y=e.pendingProps,w=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=hi(d):(d=Nn(n)?lo:fn.current,d=Pa(e,d));var N=n.getDerivedStateFromProps;(_=typeof N=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==y||w!==d)&&av(e,l,i,d),ls=!1,w=e.memoizedState,l.state=w,Ch(e,i,l,r);var O=e.memoizedState;h!==y||w!==O||Ln.current||ls?(typeof N=="function"&&(gp(e,n,N,i),O=e.memoizedState),(p=ls||ov(e,n,p,i,w,O,d)||!1)?(_||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,O,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,O,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=O),l.props=i,l.state=O,l.context=d,i=p):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),i=!1)}return wp(t,e,n,i,o,r)}function wp(t,e,n,i,r,o){iE(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return r&&X_(e,n,!1),Dr(t,e,o);i=e.stateNode,ZP.current=e;var h=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Ca(e,t.child,null,o),e.child=Ca(e,null,h,o)):yn(t,e,h,o),e.memoizedState=i.state,r&&X_(e,n,!0),e.child}function rE(t){var e=t.stateNode;e.pendingContext?Y_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Y_(t,e.context,!1),Dm(t,e.containerInfo)}function pv(t,e,n,i,r){return Sa(),Rm(r),e.flags|=256,yn(t,e,n,i),e.child}var Ep={dehydrated:null,treeContext:null,retryLane:0};function Tp(t){return{baseLanes:t,cachePool:null,transitions:null}}function sE(t,e,n){var i=e.pendingProps,r=xt.current,o=!1,l=(e.flags&128)!==0,h;if((h=l)||(h=t!==null&&t.memoizedState===null?!1:(r&2)!==0),h?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ut(xt,r&1),t===null)return pp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=pd(l,i,0,null),t=so(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Tp(n),e.memoizedState=Ep,t):Bm(e,l));if(r=t.memoizedState,r!==null&&(h=r.dehydrated,h!==null))return GP(t,e,l,i,h,r,n);if(o){o=i.fallback,l=e.mode,r=t.child,h=r.sibling;var d={mode:"hidden",children:i.children};return!(l&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=d,e.deletions=null):(i=Ss(r,d),i.subtreeFlags=r.subtreeFlags&14680064),h!==null?o=Ss(h,o):(o=so(o,l,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=t.child.memoizedState,l=l===null?Tp(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Ep,i}return o=t.child,t=o.sibling,i=Ss(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Bm(t,e){return e=pd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lc(t,e,n,i){return i!==null&&Rm(i),Ca(e,t.child,null,n),t=Bm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GP(t,e,n,i,r,o,l){if(n)return e.flags&256?(e.flags&=-257,i=yf(Error(ie(422))),Lc(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=pd({mode:"visible",children:i.children},r,0,null),o=so(o,r,l,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Ca(e,t.child,null,l),e.child.memoizedState=Tp(l),e.memoizedState=Ep,o);if(!(e.mode&1))return Lc(t,e,l,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var h=i.dgst;return i=h,o=Error(ie(419)),i=yf(o,i,void 0),Lc(t,e,l,i)}if(h=(l&t.childLanes)!==0,bn||h){if(i=Qt,i!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|l)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Nr(t,r),Li(i,t,r,-1))}return Zm(),i=yf(Error(ie(421))),Lc(t,e,l,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=lS.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,$n=Ts(r.nextSibling),Wn=e,gt=!0,Ri=null,t!==null&&(si[oi++]=Tr,si[oi++]=xr,si[oi++]=uo,Tr=t.id,xr=t.overflow,uo=e),e=Bm(e,i.children),e.flags|=4096,e)}function mv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),mp(t.return,e,n)}function wf(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function oE(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(yn(t,e,i.children,n),i=xt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mv(t,n,e);else if(t.tag===19)mv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ut(xt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Rh(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),wf(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Rh(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}wf(e,!0,n,null,o);break;case"together":wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ho|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=Ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QP(t,e,n){switch(e.tag){case 3:rE(e),Sa();break;case 5:Lw(e);break;case 1:Nn(e.type)&&Th(e);break;case 4:Dm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ut(Ph,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ut(xt,xt.current&1),e.flags|=128,null):n&e.child.childLanes?sE(t,e,n):(ut(xt,xt.current&1),t=Dr(t,e,n),t!==null?t.sibling:null);ut(xt,xt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return oE(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ut(xt,xt.current),i)break;return null;case 22:case 23:return e.lanes=0,nE(t,e,n)}return Dr(t,e,n)}var aE,xp,lE,uE;aE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xp=function(){};lE=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,eo(Gi.current);var o=null;switch(n){case"input":r=Wf(t,r),i=Wf(t,i),o=[];break;case"select":r=Pt({},r,{value:void 0}),i=Pt({},i,{value:void 0}),o=[];break;case"textarea":r=Zf(t,r),i=Zf(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=wh)}Qf(n,i);var l;n=null;for(p in r)if(!i.hasOwnProperty(p)&&r.hasOwnProperty(p)&&r[p]!=null)if(p==="style"){var h=r[p];for(l in h)h.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(eu.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in i){var d=i[p];if(h=r!=null?r[p]:void 0,i.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(l in h)!h.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&h[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(o||(o=[]),o.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(o=o||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(eu.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&dt("scroll",t),o||h===d||(o=[])):(o=o||[]).push(p,d))}n&&(o=o||[]).push("style",n);var p=o;(e.updateQueue=p)&&(e.flags|=4)}};uE=function(t,e,n,i){n!==i&&(e.flags|=4)};function Tl(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function YP(t,e,n){var i=e.pendingProps;switch(Cm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return Nn(e.type)&&Eh(),ln(e),null;case 3:return i=e.stateNode,Ra(),ft(Ln),ft(fn),Mm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(kc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ri!==null&&(bp(Ri),Ri=null))),xp(t,e),ln(e),null;case 5:Om(e);var r=eo(du.current);if(n=e.type,t!==null&&e.stateNode!=null)lE(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(ie(166));return ln(e),null}if(t=eo(Gi.current),kc(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[qi]=e,i[cu]=o,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",i),dt("close",i);break;case"iframe":case"object":case"embed":dt("load",i);break;case"video":case"audio":for(r=0;r<bl.length;r++)dt(bl[r],i);break;case"source":dt("error",i);break;case"img":case"image":case"link":dt("error",i),dt("load",i);break;case"details":dt("toggle",i);break;case"input":I_(i,o),dt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},dt("invalid",i);break;case"textarea":S_(i,o),dt("invalid",i)}Qf(n,o),r=null;for(var l in o)if(o.hasOwnProperty(l)){var h=o[l];l==="children"?typeof h=="string"?i.textContent!==h&&(o.suppressHydrationWarning!==!0&&Ac(i.textContent,h,t),r=["children",h]):typeof h=="number"&&i.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&Ac(i.textContent,h,t),r=["children",""+h]):eu.hasOwnProperty(l)&&h!=null&&l==="onScroll"&&dt("scroll",i)}switch(n){case"input":Ec(i),P_(i,o,!0);break;case"textarea":Ec(i),C_(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=wh)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[qi]=e,t[cu]=i,aE(t,e,!1,!1),e.stateNode=t;e:{switch(l=Yf(n,i),n){case"dialog":dt("cancel",t),dt("close",t),r=i;break;case"iframe":case"object":case"embed":dt("load",t),r=i;break;case"video":case"audio":for(r=0;r<bl.length;r++)dt(bl[r],t);r=i;break;case"source":dt("error",t),r=i;break;case"img":case"image":case"link":dt("error",t),dt("load",t),r=i;break;case"details":dt("toggle",t),r=i;break;case"input":I_(t,i),r=Wf(t,i),dt("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Pt({},i,{value:void 0}),dt("invalid",t);break;case"textarea":S_(t,i),r=Zf(t,i),dt("invalid",t);break;default:r=i}Qf(n,r),h=r;for(o in h)if(h.hasOwnProperty(o)){var d=h[o];o==="style"?U0(t,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&j0(t,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&tu(t,d):typeof d=="number"&&tu(t,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(eu.hasOwnProperty(o)?d!=null&&o==="onScroll"&&dt("scroll",t):d!=null&&dm(t,o,d,l))}switch(n){case"input":Ec(t),P_(t,i,!1);break;case"textarea":Ec(t),C_(t);break;case"option":i.value!=null&&t.setAttribute("value",""+ks(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?pa(t,!!i.multiple,o,!1):i.defaultValue!=null&&pa(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=wh)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)uE(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(ie(166));if(n=eo(du.current),eo(Gi.current),kc(e)){if(i=e.stateNode,n=e.memoizedProps,i[qi]=e,(o=i.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:Ac(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ac(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[qi]=e,e.stateNode=i}return ln(e),null;case 13:if(ft(xt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&$n!==null&&e.mode&1&&!(e.flags&128))Cw(),Sa(),e.flags|=98560,o=!1;else if(o=kc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(ie(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[qi]=e}else Sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),o=!1}else Ri!==null&&(bp(Ri),Ri=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?$t===0&&($t=3):Zm())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return Ra(),xp(t,e),t===null&&lu(e.stateNode.containerInfo),ln(e),null;case 10:return bm(e.type._context),ln(e),null;case 17:return Nn(e.type)&&Eh(),ln(e),null;case 19:if(ft(xt),o=e.memoizedState,o===null)return ln(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)Tl(o,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Rh(t),l!==null){for(e.flags|=128,Tl(o,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ut(xt,xt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Nt()>ka&&(e.flags|=128,i=!0,Tl(o,!1),e.lanes=4194304)}else{if(!i)if(t=Rh(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!gt)return ln(e),null}else 2*Nt()-o.renderingStartTime>ka&&n!==1073741824&&(e.flags|=128,i=!0,Tl(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Nt(),e.sibling=null,n=xt.current,ut(xt,i?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return Km(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?zn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function XP(t,e){switch(Cm(e),e.tag){case 1:return Nn(e.type)&&Eh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ra(),ft(Ln),ft(fn),Mm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Om(e),null;case 13:if(ft(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(xt),null;case 4:return Ra(),null;case 10:return bm(e.type._context),null;case 22:case 23:return Km(),null;case 24:return null;default:return null}}var Nc=!1,hn=!1,JP=typeof WeakSet=="function"?WeakSet:Set,le=null;function ha(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){kt(t,e,i)}else n.current=null}function Ip(t,e,n){try{n()}catch(i){kt(t,e,i)}}var gv=!1;function eS(t,e){if(ap=_h,t=pw(),Pm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,h=-1,d=-1,p=0,_=0,y=t,w=null;t:for(;;){for(var N;y!==n||r!==0&&y.nodeType!==3||(h=l+r),y!==o||i!==0&&y.nodeType!==3||(d=l+i),y.nodeType===3&&(l+=y.nodeValue.length),(N=y.firstChild)!==null;)w=y,y=N;for(;;){if(y===t)break t;if(w===n&&++p===r&&(h=l),w===o&&++_===i&&(d=l),(N=y.nextSibling)!==null)break;y=w,w=y.parentNode}y=N}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(lp={focusedElem:t,selectionRange:n},_h=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var O=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var k=O.memoizedProps,z=O.memoizedState,A=e.stateNode,P=A.getSnapshotBeforeUpdate(e.elementType===e.type?k:Pi(e.type,k),z);A.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch($){kt(e,e.return,$)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return O=gv,gv=!1,O}function Hl(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Ip(e,n,o)}r=r.next}while(r!==i)}}function dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Pp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cE(t){var e=t.alternate;e!==null&&(t.alternate=null,cE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[cu],delete e[hp],delete e[MP],delete e[VP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hE(t){return t.tag===5||t.tag===3||t.tag===4}function _v(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wh));else if(i!==4&&(t=t.child,t!==null))for(Sp(t,e,n),t=t.sibling;t!==null;)Sp(t,e,n),t=t.sibling}function Cp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Cp(t,e,n),t=t.sibling;t!==null;)Cp(t,e,n),t=t.sibling}var Yt=null,Si=!1;function rs(t,e,n){for(n=n.child;n!==null;)dE(t,e,n),n=n.sibling}function dE(t,e,n){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(rd,n)}catch{}switch(n.tag){case 5:hn||ha(n,e);case 6:var i=Yt,r=Si;Yt=null,rs(t,e,n),Yt=i,Si=r,Yt!==null&&(Si?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Si?(t=Yt,n=n.stateNode,t.nodeType===8?ff(t.parentNode,n):t.nodeType===1&&ff(t,n),su(t)):ff(Yt,n.stateNode));break;case 4:i=Yt,r=Si,Yt=n.stateNode.containerInfo,Si=!0,rs(t,e,n),Yt=i,Si=r;break;case 0:case 11:case 14:case 15:if(!hn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Ip(n,e,l),r=r.next}while(r!==i)}rs(t,e,n);break;case 1:if(!hn&&(ha(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(h){kt(n,e,h)}rs(t,e,n);break;case 21:rs(t,e,n);break;case 22:n.mode&1?(hn=(i=hn)||n.memoizedState!==null,rs(t,e,n),hn=i):rs(t,e,n);break;default:rs(t,e,n)}}function vv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JP),e.forEach(function(i){var r=uS.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Ii(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,l=e,h=l;e:for(;h!==null;){switch(h.tag){case 5:Yt=h.stateNode,Si=!1;break e;case 3:Yt=h.stateNode.containerInfo,Si=!0;break e;case 4:Yt=h.stateNode.containerInfo,Si=!0;break e}h=h.return}if(Yt===null)throw Error(ie(160));dE(o,l,r),Yt=null,Si=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(p){kt(r,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fE(e,t),e=e.sibling}function fE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ii(e,t),Hi(t),i&4){try{Hl(3,t,t.return),dd(3,t)}catch(k){kt(t,t.return,k)}try{Hl(5,t,t.return)}catch(k){kt(t,t.return,k)}}break;case 1:Ii(e,t),Hi(t),i&512&&n!==null&&ha(n,n.return);break;case 5:if(Ii(e,t),Hi(t),i&512&&n!==null&&ha(n,n.return),t.flags&32){var r=t.stateNode;try{tu(r,"")}catch(k){kt(t,t.return,k)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&O0(r,o),Yf(h,l);var p=Yf(h,o);for(l=0;l<d.length;l+=2){var _=d[l],y=d[l+1];_==="style"?U0(r,y):_==="dangerouslySetInnerHTML"?j0(r,y):_==="children"?tu(r,y):dm(r,_,y,p)}switch(h){case"input":qf(r,o);break;case"textarea":M0(r,o);break;case"select":var w=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var N=o.value;N!=null?pa(r,!!o.multiple,N,!1):w!==!!o.multiple&&(o.defaultValue!=null?pa(r,!!o.multiple,o.defaultValue,!0):pa(r,!!o.multiple,o.multiple?[]:"",!1))}r[cu]=o}catch(k){kt(t,t.return,k)}}break;case 6:if(Ii(e,t),Hi(t),i&4){if(t.stateNode===null)throw Error(ie(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(k){kt(t,t.return,k)}}break;case 3:if(Ii(e,t),Hi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{su(e.containerInfo)}catch(k){kt(t,t.return,k)}break;case 4:Ii(e,t),Hi(t);break;case 13:Ii(e,t),Hi(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Wm=Nt())),i&4&&vv(t);break;case 22:if(_=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(p=hn)||_,Ii(e,t),hn=p):Ii(e,t),Hi(t),i&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!_&&t.mode&1)for(le=t,_=t.child;_!==null;){for(y=le=_;le!==null;){switch(w=le,N=w.child,w.tag){case 0:case 11:case 14:case 15:Hl(4,w,w.return);break;case 1:ha(w,w.return);var O=w.stateNode;if(typeof O.componentWillUnmount=="function"){i=w,n=w.return;try{e=i,O.props=e.memoizedProps,O.state=e.memoizedState,O.componentWillUnmount()}catch(k){kt(i,n,k)}}break;case 5:ha(w,w.return);break;case 22:if(w.memoizedState!==null){wv(y);continue}}N!==null?(N.return=w,le=N):wv(y)}_=_.sibling}e:for(_=null,y=t;;){if(y.tag===5){if(_===null){_=y;try{r=y.stateNode,p?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=y.stateNode,d=y.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=F0("display",l))}catch(k){kt(t,t.return,k)}}}else if(y.tag===6){if(_===null)try{y.stateNode.nodeValue=p?"":y.memoizedProps}catch(k){kt(t,t.return,k)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;_===y&&(_=null),y=y.return}_===y&&(_=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Ii(e,t),Hi(t),i&4&&vv(t);break;case 21:break;default:Ii(e,t),Hi(t)}}function Hi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hE(n)){var i=n;break e}n=n.return}throw Error(ie(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(tu(r,""),i.flags&=-33);var o=_v(t);Cp(t,o,r);break;case 3:case 4:var l=i.stateNode.containerInfo,h=_v(t);Sp(t,h,l);break;default:throw Error(ie(161))}}catch(d){kt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tS(t,e,n){le=t,pE(t)}function pE(t,e,n){for(var i=(t.mode&1)!==0;le!==null;){var r=le,o=r.child;if(r.tag===22&&i){var l=r.memoizedState!==null||Nc;if(!l){var h=r.alternate,d=h!==null&&h.memoizedState!==null||hn;h=Nc;var p=hn;if(Nc=l,(hn=d)&&!p)for(le=r;le!==null;)l=le,d=l.child,l.tag===22&&l.memoizedState!==null?Ev(r):d!==null?(d.return=l,le=d):Ev(r);for(;o!==null;)le=o,pE(o),o=o.sibling;le=r,Nc=h,hn=p}yv(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,le=o):yv(t)}}function yv(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||dd(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!hn)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Pi(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&iv(e,o,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iv(e,l,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var _=p.memoizedState;if(_!==null){var y=_.dehydrated;y!==null&&su(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}hn||e.flags&512&&Pp(e)}catch(w){kt(e,e.return,w)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function wv(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function Ev(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dd(4,e)}catch(d){kt(e,n,d)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(d){kt(e,r,d)}}var o=e.return;try{Pp(e)}catch(d){kt(e,o,d)}break;case 5:var l=e.return;try{Pp(e)}catch(d){kt(e,l,d)}}}catch(d){kt(e,e.return,d)}if(e===t){le=null;break}var h=e.sibling;if(h!==null){h.return=e.return,le=h;break}le=e.return}}var nS=Math.ceil,bh=Fr.ReactCurrentDispatcher,$m=Fr.ReactCurrentOwner,ui=Fr.ReactCurrentBatchConfig,Ze=0,Qt=null,Ft=null,en=0,zn=0,da=Vs(0),$t=0,gu=null,ho=0,fd=0,Hm=0,Wl=null,kn=null,Wm=0,ka=1/0,wr=null,Lh=!1,Rp=null,Is=null,Dc=!1,gs=null,Nh=0,ql=0,Ap=null,Jc=-1,eh=0;function En(){return Ze&6?Nt():Jc!==-1?Jc:Jc=Nt()}function Ps(t){return t.mode&1?Ze&2&&en!==0?en&-en:FP.transition!==null?(eh===0&&(eh=X0()),eh):(t=tt,t!==0||(t=window.event,t=t===void 0?16:sw(t.type)),t):1}function Li(t,e,n,i){if(50<ql)throw ql=0,Ap=null,Error(ie(185));Du(t,n,i),(!(Ze&2)||t!==Qt)&&(t===Qt&&(!(Ze&2)&&(fd|=n),$t===4&&cs(t,en)),Dn(t,i),n===1&&Ze===0&&!(e.mode&1)&&(ka=Nt()+500,ud&&js()))}function Dn(t,e){var n=t.callbackNode;FI(t,e);var i=gh(t,t===Qt?en:0);if(i===0)n!==null&&k_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&k_(n),e===1)t.tag===0?jP(Tv.bind(null,t)):Iw(Tv.bind(null,t)),DP(function(){!(Ze&6)&&js()}),n=null;else{switch(J0(i)){case 1:n=_m;break;case 4:n=Q0;break;case 16:n=mh;break;case 536870912:n=Y0;break;default:n=mh}n=TE(n,mE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mE(t,e){if(Jc=-1,eh=0,Ze&6)throw Error(ie(327));var n=t.callbackNode;if(ya()&&t.callbackNode!==n)return null;var i=gh(t,t===Qt?en:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Dh(t,i);else{e=i;var r=Ze;Ze|=2;var o=_E();(Qt!==t||en!==e)&&(wr=null,ka=Nt()+500,ro(t,e));do try{sS();break}catch(h){gE(t,h)}while(!0);km(),bh.current=o,Ze=r,Ft!==null?e=0:(Qt=null,en=0,e=$t)}if(e!==0){if(e===2&&(r=np(t),r!==0&&(i=r,e=kp(t,r))),e===1)throw n=gu,ro(t,0),cs(t,i),Dn(t,Nt()),n;if(e===6)cs(t,i);else{if(r=t.current.alternate,!(i&30)&&!iS(r)&&(e=Dh(t,i),e===2&&(o=np(t),o!==0&&(i=o,e=kp(t,o))),e===1))throw n=gu,ro(t,0),cs(t,i),Dn(t,Nt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(ie(345));case 2:Gs(t,kn,wr);break;case 3:if(cs(t,i),(i&130023424)===i&&(e=Wm+500-Nt(),10<e)){if(gh(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){En(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=cp(Gs.bind(null,t,kn,wr),e);break}Gs(t,kn,wr);break;case 4:if(cs(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var l=31-bi(i);o=1<<l,l=e[l],l>r&&(r=l),i&=~o}if(i=r,i=Nt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*nS(i/1960))-i,10<i){t.timeoutHandle=cp(Gs.bind(null,t,kn,wr),i);break}Gs(t,kn,wr);break;case 5:Gs(t,kn,wr);break;default:throw Error(ie(329))}}}return Dn(t,Nt()),t.callbackNode===n?mE.bind(null,t):null}function kp(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(ro(t,e).flags|=256),t=Dh(t,e),t!==2&&(e=kn,kn=n,e!==null&&bp(e)),t}function bp(t){kn===null?kn=t:kn.push.apply(kn,t)}function iS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Ni(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cs(t,e){for(e&=~Hm,e&=~fd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bi(e),i=1<<n;t[n]=-1,e&=~i}}function Tv(t){if(Ze&6)throw Error(ie(327));ya();var e=gh(t,0);if(!(e&1))return Dn(t,Nt()),null;var n=Dh(t,e);if(t.tag!==0&&n===2){var i=np(t);i!==0&&(e=i,n=kp(t,i))}if(n===1)throw n=gu,ro(t,0),cs(t,e),Dn(t,Nt()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gs(t,kn,wr),Dn(t,Nt()),null}function qm(t,e){var n=Ze;Ze|=1;try{return t(e)}finally{Ze=n,Ze===0&&(ka=Nt()+500,ud&&js())}}function fo(t){gs!==null&&gs.tag===0&&!(Ze&6)&&ya();var e=Ze;Ze|=1;var n=ui.transition,i=tt;try{if(ui.transition=null,tt=1,t)return t()}finally{tt=i,ui.transition=n,Ze=e,!(Ze&6)&&js()}}function Km(){zn=da.current,ft(da)}function ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NP(n)),Ft!==null)for(n=Ft.return;n!==null;){var i=n;switch(Cm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Eh();break;case 3:Ra(),ft(Ln),ft(fn),Mm();break;case 5:Om(i);break;case 4:Ra();break;case 13:ft(xt);break;case 19:ft(xt);break;case 10:bm(i.type._context);break;case 22:case 23:Km()}n=n.return}if(Qt=t,Ft=t=Ss(t.current,null),en=zn=e,$t=0,gu=null,Hm=fd=ho=0,kn=Wl=null,Js!==null){for(e=0;e<Js.length;e++)if(n=Js[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=r,i.next=l}n.pending=i}Js=null}return t}function gE(t,e){do{var n=Ft;try{if(km(),Qc.current=kh,Ah){for(var i=It.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ah=!1}if(co=0,Gt=zt=It=null,$l=!1,fu=0,$m.current=null,n===null||n.return===null){$t=1,gu=e,Ft=null;break}e:{var o=t,l=n.return,h=n,d=e;if(e=en,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,_=h,y=_.tag;if(!(_.mode&1)&&(y===0||y===11||y===15)){var w=_.alternate;w?(_.updateQueue=w.updateQueue,_.memoizedState=w.memoizedState,_.lanes=w.lanes):(_.updateQueue=null,_.memoizedState=null)}var N=uv(l);if(N!==null){N.flags&=-257,cv(N,l,h,o,e),N.mode&1&&lv(o,p,e),e=N,d=p;var O=e.updateQueue;if(O===null){var k=new Set;k.add(d),e.updateQueue=k}else O.add(d);break e}else{if(!(e&1)){lv(o,p,e),Zm();break e}d=Error(ie(426))}}else if(gt&&h.mode&1){var z=uv(l);if(z!==null){!(z.flags&65536)&&(z.flags|=256),cv(z,l,h,o,e),Rm(Aa(d,h));break e}}o=d=Aa(d,h),$t!==4&&($t=2),Wl===null?Wl=[o]:Wl.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var A=Jw(o,d,e);nv(o,A);break e;case 1:h=d;var P=o.type,R=o.stateNode;if(!(o.flags&128)&&(typeof P.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Is===null||!Is.has(R)))){o.flags|=65536,e&=-e,o.lanes|=e;var $=eE(o,h,e);nv(o,$);break e}}o=o.return}while(o!==null)}yE(n)}catch(X){e=X,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function _E(){var t=bh.current;return bh.current=kh,t===null?kh:t}function Zm(){($t===0||$t===3||$t===2)&&($t=4),Qt===null||!(ho&268435455)&&!(fd&268435455)||cs(Qt,en)}function Dh(t,e){var n=Ze;Ze|=2;var i=_E();(Qt!==t||en!==e)&&(wr=null,ro(t,e));do try{rS();break}catch(r){gE(t,r)}while(!0);if(km(),Ze=n,bh.current=i,Ft!==null)throw Error(ie(261));return Qt=null,en=0,$t}function rS(){for(;Ft!==null;)vE(Ft)}function sS(){for(;Ft!==null&&!kI();)vE(Ft)}function vE(t){var e=EE(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?yE(t):Ft=e,$m.current=null}function yE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XP(n,e),n!==null){n.flags&=32767,Ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Ft=null;return}}else if(n=YP(n,e,zn),n!==null){Ft=n;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);$t===0&&($t=5)}function Gs(t,e,n){var i=tt,r=ui.transition;try{ui.transition=null,tt=1,oS(t,e,n,i)}finally{ui.transition=r,tt=i}return null}function oS(t,e,n,i){do ya();while(gs!==null);if(Ze&6)throw Error(ie(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(UI(t,o),t===Qt&&(Ft=Qt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dc||(Dc=!0,TE(mh,function(){return ya(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ui.transition,ui.transition=null;var l=tt;tt=1;var h=Ze;Ze|=4,$m.current=null,eS(t,n),fE(n,t),SP(lp),_h=!!ap,lp=ap=null,t.current=n,tS(n),bI(),Ze=h,tt=l,ui.transition=o}else t.current=n;if(Dc&&(Dc=!1,gs=t,Nh=r),o=t.pendingLanes,o===0&&(Is=null),DI(n.stateNode),Dn(t,Nt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Lh)throw Lh=!1,t=Rp,Rp=null,t;return Nh&1&&t.tag!==0&&ya(),o=t.pendingLanes,o&1?t===Ap?ql++:(ql=0,Ap=t):ql=0,js(),null}function ya(){if(gs!==null){var t=J0(Nh),e=ui.transition,n=tt;try{if(ui.transition=null,tt=16>t?16:t,gs===null)var i=!1;else{if(t=gs,gs=null,Nh=0,Ze&6)throw Error(ie(331));var r=Ze;for(Ze|=4,le=t.current;le!==null;){var o=le,l=o.child;if(le.flags&16){var h=o.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for(le=p;le!==null;){var _=le;switch(_.tag){case 0:case 11:case 15:Hl(8,_,o)}var y=_.child;if(y!==null)y.return=_,le=y;else for(;le!==null;){_=le;var w=_.sibling,N=_.return;if(cE(_),_===p){le=null;break}if(w!==null){w.return=N,le=w;break}le=N}}}var O=o.alternate;if(O!==null){var k=O.child;if(k!==null){O.child=null;do{var z=k.sibling;k.sibling=null,k=z}while(k!==null)}}le=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,le=l;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hl(9,o,o.return)}var A=o.sibling;if(A!==null){A.return=o.return,le=A;break e}le=o.return}}var P=t.current;for(le=P;le!==null;){l=le;var R=l.child;if(l.subtreeFlags&2064&&R!==null)R.return=l,le=R;else e:for(l=P;le!==null;){if(h=le,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:dd(9,h)}}catch(X){kt(h,h.return,X)}if(h===l){le=null;break e}var $=h.sibling;if($!==null){$.return=h.return,le=$;break e}le=h.return}}if(Ze=r,js(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(rd,t)}catch{}i=!0}return i}finally{tt=n,ui.transition=e}}return!1}function xv(t,e,n){e=Aa(n,e),e=Jw(t,e,1),t=xs(t,e,1),e=En(),t!==null&&(Du(t,1,e),Dn(t,e))}function kt(t,e,n){if(t.tag===3)xv(t,t,n);else for(;e!==null;){if(e.tag===3){xv(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Is===null||!Is.has(i))){t=Aa(n,t),t=eE(e,t,1),e=xs(e,t,1),t=En(),e!==null&&(Du(e,1,t),Dn(e,t));break}}e=e.return}}function aS(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Qt===t&&(en&n)===n&&($t===4||$t===3&&(en&130023424)===en&&500>Nt()-Wm?ro(t,0):Hm|=n),Dn(t,e)}function wE(t,e){e===0&&(t.mode&1?(e=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):e=1);var n=En();t=Nr(t,e),t!==null&&(Du(t,e,n),Dn(t,n))}function lS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wE(t,n)}function uS(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(ie(314))}i!==null&&i.delete(e),wE(t,n)}var EE;EE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ln.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,QP(t,e,n);bn=!!(t.flags&131072)}else bn=!1,gt&&e.flags&1048576&&Pw(e,Ih,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Xc(t,e),t=e.pendingProps;var r=Pa(e,fn.current);va(e,n),r=jm(null,e,i,t,r,n);var o=Fm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(i)?(o=!0,Th(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Nm(e),r.updater=hd,e.stateNode=r,r._reactInternals=e,_p(e,i,t,n),e=wp(null,e,i,!0,o,n)):(e.tag=0,gt&&o&&Sm(e),yn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Xc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=hS(i),t=Pi(i,t),r){case 0:e=yp(null,e,i,t,n);break e;case 1:e=fv(null,e,i,t,n);break e;case 11:e=hv(null,e,i,t,n);break e;case 14:e=dv(null,e,i,Pi(i.type,t),n);break e}throw Error(ie(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pi(i,r),yp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pi(i,r),fv(t,e,i,r,n);case 3:e:{if(rE(e),t===null)throw Error(ie(387));i=e.pendingProps,o=e.memoizedState,r=o.element,bw(t,e),Ch(e,i,null,n);var l=e.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Aa(Error(ie(423)),e),e=pv(t,e,i,n,r);break e}else if(i!==r){r=Aa(Error(ie(424)),e),e=pv(t,e,i,n,r);break e}else for($n=Ts(e.stateNode.containerInfo.firstChild),Wn=e,gt=!0,Ri=null,n=Aw(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sa(),i===r){e=Dr(t,e,n);break e}yn(t,e,i,n)}e=e.child}return e;case 5:return Lw(e),t===null&&pp(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,l=r.children,up(i,r)?l=null:o!==null&&up(i,o)&&(e.flags|=32),iE(t,e),yn(t,e,l,n),e.child;case 6:return t===null&&pp(e),null;case 13:return sE(t,e,n);case 4:return Dm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ca(e,null,i,n):yn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pi(i,r),hv(t,e,i,r,n);case 7:return yn(t,e,e.pendingProps,n),e.child;case 8:return yn(t,e,e.pendingProps.children,n),e.child;case 12:return yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,l=r.value,ut(Ph,i._currentValue),i._currentValue=l,o!==null)if(Ni(o.value,l)){if(o.children===r.children&&!Ln.current){e=Dr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){l=o.child;for(var d=h.firstContext;d!==null;){if(d.context===i){if(o.tag===1){d=Cr(-1,n&-n),d.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var _=p.pending;_===null?d.next=d:(d.next=_.next,_.next=d),p.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),mp(o.return,n,e),h.lanes|=n;break}d=d.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(ie(341));l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),mp(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}yn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,va(e,n),r=hi(r),i=i(r),e.flags|=1,yn(t,e,i,n),e.child;case 14:return i=e.type,r=Pi(i,e.pendingProps),r=Pi(i.type,r),dv(t,e,i,r,n);case 15:return tE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Pi(i,r),Xc(t,e),e.tag=1,Nn(i)?(t=!0,Th(e)):t=!1,va(e,n),Xw(e,i,r),_p(e,i,r,n),wp(null,e,i,!0,t,n);case 19:return oE(t,e,n);case 22:return nE(t,e,n)}throw Error(ie(156,e.tag))};function TE(t,e){return G0(t,e)}function cS(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(t,e,n,i){return new cS(t,e,n,i)}function Gm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hS(t){if(typeof t=="function")return Gm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pm)return 11;if(t===mm)return 14}return 2}function Ss(t,e){var n=t.alternate;return n===null?(n=li(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function th(t,e,n,i,r,o){var l=2;if(i=t,typeof t=="function")Gm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case na:return so(n.children,r,o,e);case fm:l=8,r|=8;break;case zf:return t=li(12,n,e,r|2),t.elementType=zf,t.lanes=o,t;case Bf:return t=li(13,n,e,r),t.elementType=Bf,t.lanes=o,t;case $f:return t=li(19,n,e,r),t.elementType=$f,t.lanes=o,t;case L0:return pd(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k0:l=10;break e;case b0:l=9;break e;case pm:l=11;break e;case mm:l=14;break e;case as:l=16,i=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=li(l,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function so(t,e,n,i){return t=li(7,t,i,e),t.lanes=n,t}function pd(t,e,n,i){return t=li(22,t,i,e),t.elementType=L0,t.lanes=n,t.stateNode={isHidden:!1},t}function Ef(t,e,n){return t=li(6,t,null,e),t.lanes=n,t}function Tf(t,e,n){return e=li(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dS(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tf(0),this.expirationTimes=tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tf(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Qm(t,e,n,i,r,o,l,h,d){return t=new dS(t,e,n,h,d),e===1?(e=1,o===!0&&(e|=8)):e=0,o=li(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nm(o),t}function fS(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function xE(t){if(!t)return bs;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(Nn(n))return xw(t,n,e)}return e}function IE(t,e,n,i,r,o,l,h,d){return t=Qm(n,i,!0,t,r,o,l,h,d),t.context=xE(null),n=t.current,i=En(),r=Ps(n),o=Cr(i,r),o.callback=e??null,xs(n,o,r),t.current.lanes=r,Du(t,r,i),Dn(t,i),t}function md(t,e,n,i){var r=e.current,o=En(),l=Ps(r);return n=xE(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(o,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=xs(r,e,l),t!==null&&(Li(t,r,l,o),Gc(t,r,l)),l}function Oh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Iv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ym(t,e){Iv(t,e),(t=t.alternate)&&Iv(t,e)}function pS(){return null}var PE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xm(t){this._internalRoot=t}gd.prototype.render=Xm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));md(t,e,null,null)};gd.prototype.unmount=Xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fo(function(){md(null,t,null,null)}),e[Lr]=null}};function gd(t){this._internalRoot=t}gd.prototype.unstable_scheduleHydration=function(t){if(t){var e=nw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<us.length&&e!==0&&e<us[n].priority;n++);us.splice(n,0,t),n===0&&rw(t)}};function Jm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pv(){}function mS(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var p=Oh(l);o.call(p)}}var l=IE(e,i,t,0,null,!1,!1,"",Pv);return t._reactRootContainer=l,t[Lr]=l.current,lu(t.nodeType===8?t.parentNode:t),fo(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var h=i;i=function(){var p=Oh(d);h.call(p)}}var d=Qm(t,0,!1,null,null,!1,!1,"",Pv);return t._reactRootContainer=d,t[Lr]=d.current,lu(t.nodeType===8?t.parentNode:t),fo(function(){md(e,d,n,i)}),d}function vd(t,e,n,i,r){var o=n._reactRootContainer;if(o){var l=o;if(typeof r=="function"){var h=r;r=function(){var d=Oh(l);h.call(d)}}md(e,l,t,r)}else l=mS(n,e,t,r,i);return Oh(l)}ew=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kl(e.pendingLanes);n!==0&&(vm(e,n|1),Dn(e,Nt()),!(Ze&6)&&(ka=Nt()+500,js()))}break;case 13:fo(function(){var i=Nr(t,1);if(i!==null){var r=En();Li(i,t,1,r)}}),Ym(t,1)}};ym=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=En();Li(e,t,134217728,n)}Ym(t,134217728)}};tw=function(t){if(t.tag===13){var e=Ps(t),n=Nr(t,e);if(n!==null){var i=En();Li(n,t,e,i)}Ym(t,e)}};nw=function(){return tt};iw=function(t,e){var n=tt;try{return tt=t,e()}finally{tt=n}};Jf=function(t,e,n){switch(e){case"input":if(qf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=ld(i);if(!r)throw Error(ie(90));D0(i),qf(i,r)}}}break;case"textarea":M0(t,n);break;case"select":e=n.value,e!=null&&pa(t,!!n.multiple,e,!1)}};$0=qm;H0=fo;var gS={usingClientEntryPoint:!1,Events:[Mu,oa,ld,z0,B0,qm]},xl={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_S={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K0(t),t===null?null:t.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||pS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{rd=Oc.inject(_S),Zi=Oc}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gS;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jm(e))throw Error(ie(200));return fS(t,e,null,n)};Kn.createRoot=function(t,e){if(!Jm(t))throw Error(ie(299));var n=!1,i="",r=PE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Qm(t,1,!1,null,null,n,!1,i,r),t[Lr]=e.current,lu(t.nodeType===8?t.parentNode:t),new Xm(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=K0(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return fo(t)};Kn.hydrate=function(t,e,n){if(!_d(e))throw Error(ie(200));return vd(null,t,e,!0,n)};Kn.hydrateRoot=function(t,e,n){if(!Jm(t))throw Error(ie(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",l=PE;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=IE(e,null,t,1,n??null,r,!1,o,l),t[Lr]=e.current,lu(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new gd(e)};Kn.render=function(t,e,n){if(!_d(e))throw Error(ie(200));return vd(null,t,e,!1,n)};Kn.unmountComponentAtNode=function(t){if(!_d(t))throw Error(ie(40));return t._reactRootContainer?(fo(function(){vd(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};Kn.unstable_batchedUpdates=qm;Kn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!_d(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return vd(t,e,n,!1,i)};Kn.version="18.3.1-next-f1338f8080-20240426";function SE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SE)}catch(t){console.error(t)}}SE(),S0.exports=Kn;var yd=S0.exports;const vS=p0(yd),yS=f0({__proto__:null,default:vS},[yd]);var Sv=yd;Ff.createRoot=Sv.createRoot,Ff.hydrateRoot=Sv.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tt(){return Tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tt.apply(this,arguments)}var Vt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vt||(Vt={}));const Cv="popstate";function wS(t){t===void 0&&(t={});function e(i,r){let{pathname:o,search:l,hash:h}=i.location;return _u("",{pathname:o,search:l,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:po(r)}return TS(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ba(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ES(){return Math.random().toString(36).substr(2,8)}function Rv(t,e){return{usr:t.state,key:t.key,idx:e}}function _u(t,e,n,i){return n===void 0&&(n=null),Tt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fs(e):e,{state:n,key:e&&e.key||i||ES()})}function po(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Fs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function TS(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,h=Vt.Pop,d=null,p=_();p==null&&(p=0,l.replaceState(Tt({},l.state,{idx:p}),""));function _(){return(l.state||{idx:null}).idx}function y(){h=Vt.Pop;let z=_(),A=z==null?null:z-p;p=z,d&&d({action:h,location:k.location,delta:A})}function w(z,A){h=Vt.Push;let P=_u(k.location,z,A);p=_()+1;let R=Rv(P,p),$=k.createHref(P);try{l.pushState(R,"",$)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;r.location.assign($)}o&&d&&d({action:h,location:k.location,delta:1})}function N(z,A){h=Vt.Replace;let P=_u(k.location,z,A);p=_();let R=Rv(P,p),$=k.createHref(P);l.replaceState(R,"",$),o&&d&&d({action:h,location:k.location,delta:0})}function O(z){let A=r.location.origin!=="null"?r.location.origin:r.location.href,P=typeof z=="string"?z:po(z);return P=P.replace(/ $/,"%20"),je(A,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,A)}let k={get action(){return h},get location(){return t(r,l)},listen(z){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Cv,y),d=z,()=>{r.removeEventListener(Cv,y),d=null}},createHref(z){return e(r,z)},createURL:O,encodeLocation(z){let A=O(z);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:w,replace:N,go(z){return l.go(z)}};return k}var lt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lt||(lt={}));const xS=new Set(["lazy","caseSensitive","path","id","index","children"]);function IS(t){return t.index===!0}function vu(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((r,o)=>{let l=[...n,String(o)],h=typeof r.id=="string"?r.id:l.join("-");if(je(r.index!==!0||!r.children,"Cannot specify children on an index route"),je(!i[h],'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),IS(r)){let d=Tt({},r,e(r),{id:h});return i[h]=d,d}else{let d=Tt({},r,e(r),{id:h,children:void 0});return i[h]=d,r.children&&(d.children=vu(r.children,e,l,i)),d}})}function Ys(t,e,n){return n===void 0&&(n="/"),nh(t,e,n,!1)}function nh(t,e,n,i){let r=typeof e=="string"?Fs(e):e,o=Ba(r.pathname||"/",n);if(o==null)return null;let l=CE(t);SS(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let p=VS(o);h=OS(l[d],p,i)}return h}function PS(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function CE(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,l,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(je(d.relativePath.startsWith(i),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(i.length));let p=Rr([i,d.relativePath]),_=n.concat(d);o.children&&o.children.length>0&&(je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),CE(o.children,e,_,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:NS(p,o.index),routesMeta:_})};return t.forEach((o,l)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,l);else for(let d of RE(o.path))r(o,l,d)}),e}function RE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=RE(i.join("/")),h=[];return h.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...l),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function SS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const CS=/^:[\w-]+$/,RS=3,AS=2,kS=1,bS=10,LS=-2,Av=t=>t==="*";function NS(t,e){let n=t.split("/"),i=n.length;return n.some(Av)&&(i+=LS),e&&(i+=AS),n.filter(r=>!Av(r)).reduce((r,o)=>r+(CS.test(o)?RS:o===""?kS:bS),i)}function DS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function OS(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,r={},o="/",l=[];for(let h=0;h<i.length;++h){let d=i[h],p=h===i.length-1,_=o==="/"?e:e.slice(o.length)||"/",y=kv({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},_),w=d.route;if(!y&&p&&n&&!i[i.length-1].route.index&&(y=kv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:Rr([o,y.pathname]),pathnameBase:US(Rr([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=Rr([o,y.pathnameBase]))}return l}function kv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=MS(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((p,_,y)=>{let{paramName:w,isOptional:N}=_;if(w==="*"){let k=h[y]||"";l=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const O=h[y];return N&&!O?p[w]=void 0:p[w]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:t}}function MS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ba(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function VS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ba(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ba(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function jS(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Fs(t):t;return{pathname:n?n.startsWith("/")?n:FS(n,e):e,search:zS(i),hash:BS(r)}}function FS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function xf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eg(t,e){let n=AE(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function tg(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Fs(t):(r=Tt({},t),je(!r.pathname||!r.pathname.includes("?"),xf("?","pathname","search",r)),je(!r.pathname||!r.pathname.includes("#"),xf("#","pathname","hash",r)),je(!r.search||!r.search.includes("#"),xf("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,h;if(l==null)h=n;else{let y=e.length-1;if(!i&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;r.pathname=w.join("/")}h=y>=0?e[y]:"/"}let d=jS(r,h),p=l&&l!=="/"&&l.endsWith("/"),_=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||_)&&(d.pathname+="/"),d}const Rr=t=>t.join("/").replace(/\/\/+/g,"/"),US=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ng{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function wd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kE=["post","put","patch","delete"],$S=new Set(kE),HS=["get",...kE],WS=new Set(HS),qS=new Set([301,302,303,307,308]),KS=new Set([307,308]),If={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ZS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Il={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GS=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),bE="remix-router-transitions";function QS(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(t.mapRouteProperties)r=t.mapRouteProperties;else if(t.detectErrorBoundary){let F=t.detectErrorBoundary;r=B=>({hasErrorBoundary:F(B)})}else r=GS;let o={},l=vu(t.routes,r,void 0,o),h,d=t.basename||"/",p=t.unstable_dataStrategy||tC,_=t.unstable_patchRoutesOnMiss,y=Tt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),w=null,N=new Set,O=null,k=null,z=null,A=t.hydrationData!=null,P=Ys(l,t.history.location,d),R=null;if(P==null&&!_){let F=vn(404,{pathname:t.history.location.pathname}),{matches:B,route:Z}=Uv(l);P=B,R={[Z.id]:F}}P&&_&&_i(P,l,t.history.location.pathname).active&&(P=null);let $;if(!P)$=!1,P=[];else if(P.some(F=>F.route.lazy))$=!1;else if(!P.some(F=>F.route.loader))$=!0;else if(y.v7_partialHydration){let F=t.hydrationData?t.hydrationData.loaderData:null,B=t.hydrationData?t.hydrationData.errors:null,Z=H=>H.route.loader?typeof H.route.loader=="function"&&H.route.loader.hydrate===!0?!1:F&&F[H.route.id]!==void 0||B&&B[H.route.id]!==void 0:!0;if(B){let H=P.findIndex(oe=>B[oe.route.id]!==void 0);$=P.slice(0,H+1).every(Z)}else $=P.every(Z)}else $=t.hydrationData!=null;let X,j={historyAction:t.history.action,location:t.history.location,matches:P,initialized:$,navigation:If,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||R,fetchers:new Map,blockers:new Map},C=Vt.Pop,x=!1,S,b=!1,M=new Map,U=null,D=!1,Ie=!1,_t=[],Je=[],Ae=new Map,Y=0,pe=-1,ee=new Map,ue=new Set,me=new Map,ye=new Map,Ee=new Set,ve=new Map,ge=new Map,st=new Map,sn=!1;function Ao(){if(w=t.history.listen(F=>{let{action:B,location:Z,delta:H}=F;if(sn){sn=!1;return}ba(ge.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Gr({currentLocation:j.location,nextLocation:Z,historyAction:B});if(oe&&H!=null){sn=!0,t.history.go(H*-1),hr(oe,{state:"blocked",location:Z,proceed(){hr(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),t.history.go(H)},reset(){let de=new Map(j.blockers);de.set(oe,Il),ht({blockers:de})}});return}return On(B,Z)}),n){pC(e,M);let F=()=>mC(e,M);e.addEventListener("pagehide",F),U=()=>e.removeEventListener("pagehide",F)}return j.initialized||On(Vt.Pop,j.location,{initialHydration:!0}),X}function Oi(){w&&w(),U&&U(),N.clear(),S&&S.abort(),j.fetchers.forEach((F,B)=>or(B)),j.blockers.forEach((F,B)=>Zr(B))}function Mi(F){return N.add(F),()=>N.delete(F)}function ht(F,B){B===void 0&&(B={}),j=Tt({},j,F);let Z=[],H=[];y.v7_fetcherPersist&&j.fetchers.forEach((oe,de)=>{oe.state==="idle"&&(Ee.has(de)?H.push(de):Z.push(de))}),[...N].forEach(oe=>oe(j,{deletedFetchers:H,unstable_viewTransitionOpts:B.viewTransitionOpts,unstable_flushSync:B.flushSync===!0})),y.v7_fetcherPersist&&(Z.forEach(oe=>j.fetchers.delete(oe)),H.forEach(oe=>or(oe)))}function In(F,B,Z){var H,oe;let{flushSync:de}=Z===void 0?{}:Z,we=j.actionData!=null&&j.navigation.formMethod!=null&&Ci(j.navigation.formMethod)&&j.navigation.state==="loading"&&((H=F.state)==null?void 0:H._isRedirect)!==!0,re;B.actionData?Object.keys(B.actionData).length>0?re=B.actionData:re=null:we?re=j.actionData:re=null;let Ce=B.loaderData?jv(j.loaderData,B.loaderData,B.matches||[],B.errors):j.loaderData,_e=j.blockers;_e.size>0&&(_e=new Map(_e),_e.forEach((Be,Ge)=>_e.set(Ge,Il)));let ce=x===!0||j.navigation.formMethod!=null&&Ci(j.navigation.formMethod)&&((oe=F.state)==null?void 0:oe._isRedirect)!==!0;h&&(l=h,h=void 0),D||C===Vt.Pop||(C===Vt.Push?t.history.push(F,F.state):C===Vt.Replace&&t.history.replace(F,F.state));let Me;if(C===Vt.Pop){let Be=M.get(j.location.pathname);Be&&Be.has(F.pathname)?Me={currentLocation:j.location,nextLocation:F}:M.has(F.pathname)&&(Me={currentLocation:F,nextLocation:j.location})}else if(b){let Be=M.get(j.location.pathname);Be?Be.add(F.pathname):(Be=new Set([F.pathname]),M.set(j.location.pathname,Be)),Me={currentLocation:j.location,nextLocation:F}}ht(Tt({},B,{actionData:re,loaderData:Ce,historyAction:C,location:F,initialized:!0,navigation:If,revalidation:"idle",restoreScrollPosition:Ws(F,B.matches||j.matches),preventScrollReset:ce,blockers:_e}),{viewTransitionOpts:Me,flushSync:de===!0}),C=Vt.Pop,x=!1,b=!1,D=!1,Ie=!1,_t=[],Je=[]}async function zr(F,B){if(typeof F=="number"){t.history.go(F);return}let Z=Lp(j.location,j.matches,d,y.v7_prependBasename,F,y.v7_relativeSplatPath,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:H,submission:oe,error:de}=bv(y.v7_normalizeFormMethod,!1,Z,B),we=j.location,re=_u(j.location,H,B&&B.state);re=Tt({},re,t.history.encodeLocation(re));let Ce=B&&B.replace!=null?B.replace:void 0,_e=Vt.Push;Ce===!0?_e=Vt.Replace:Ce===!1||oe!=null&&Ci(oe.formMethod)&&oe.formAction===j.location.pathname+j.location.search&&(_e=Vt.Replace);let ce=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,Me=(B&&B.unstable_flushSync)===!0,Be=Gr({currentLocation:we,nextLocation:re,historyAction:_e});if(Be){hr(Be,{state:"blocked",location:re,proceed(){hr(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),zr(F,B)},reset(){let Ge=new Map(j.blockers);Ge.set(Be,Il),ht({blockers:Ge})}});return}return await On(_e,re,{submission:oe,pendingError:de,preventScrollReset:ce,replace:B&&B.replace,enableViewTransition:B&&B.unstable_viewTransition,flushSync:Me})}function Br(){if(Ct(),ht({revalidation:"loading"}),j.navigation.state!=="submitting"){if(j.navigation.state==="idle"){On(j.historyAction,j.location,{startUninterruptedRevalidation:!0});return}On(C||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation})}}async function On(F,B,Z){S&&S.abort(),S=null,C=F,D=(Z&&Z.startUninterruptedRevalidation)===!0,Qr(j.location,j.matches),x=(Z&&Z.preventScrollReset)===!0,b=(Z&&Z.enableViewTransition)===!0;let H=h||l,oe=Z&&Z.overrideNavigation,de=Ys(H,B,d),we=(Z&&Z.flushSync)===!0,re=_i(de,H,B.pathname);if(re.active&&re.matches&&(de=re.matches),!de){let{error:$e,notFoundMatches:yt,route:ot}=Gn(B.pathname);In(B,{matches:yt,loaderData:{},errors:{[ot.id]:$e}},{flushSync:we});return}if(j.initialized&&!Ie&&aC(j.location,B)&&!(Z&&Z.submission&&Ci(Z.submission.formMethod))){In(B,{matches:de},{flushSync:we});return}S=new AbortController;let Ce=Yo(t.history,B,S.signal,Z&&Z.submission),_e;if(Z&&Z.pendingError)_e=[Kl(de).route.id,{type:lt.error,error:Z.pendingError}];else if(Z&&Z.submission&&Ci(Z.submission.formMethod)){let $e=await Bs(Ce,B,Z.submission,de,re.active,{replace:Z.replace,flushSync:we});if($e.shortCircuited)return;if($e.pendingActionResult){let[yt,ot]=$e.pendingActionResult;if(Bn(ot)&&wd(ot.error)&&ot.error.status===404){S=null,In(B,{matches:$e.matches,loaderData:{},errors:{[yt]:ot.error}});return}}de=$e.matches||de,_e=$e.pendingActionResult,oe=Pf(B,Z.submission),we=!1,re.active=!1,Ce=Yo(t.history,Ce.url,Ce.signal)}let{shortCircuited:ce,matches:Me,loaderData:Be,errors:Ge}=await $r(Ce,B,de,re.active,oe,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,we,_e);ce||(S=null,In(B,Tt({matches:Me||de},Fv(_e),{loaderData:Be,errors:Ge})))}async function Bs(F,B,Z,H,oe,de){de===void 0&&(de={}),Ct();let we=dC(B,Z);if(ht({navigation:we},{flushSync:de.flushSync===!0}),oe){let _e=await vi(H,B.pathname,F.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let{error:ce,notFoundMatches:Me,route:Be}=mi(B.pathname,_e);return{matches:Me,pendingActionResult:[Be.id,{type:lt.error,error:ce}]}}else if(_e.matches)H=_e.matches;else{let{notFoundMatches:ce,error:Me,route:Be}=Gn(B.pathname);return{matches:ce,pendingActionResult:[Be.id,{type:lt.error,error:Me}]}}}let re,Ce=Ll(H,B);if(!Ce.route.action&&!Ce.route.lazy)re={type:lt.error,error:vn(405,{method:F.method,pathname:B.pathname,routeId:Ce.route.id})};else if(re=(await Vi("action",F,[Ce],H))[0],F.signal.aborted)return{shortCircuited:!0};if(no(re)){let _e;return de&&de.replace!=null?_e=de.replace:_e=Ov(re.response.headers.get("Location"),new URL(F.url),d)===j.location.pathname+j.location.search,await pi(F,re,{submission:Z,replace:_e}),{shortCircuited:!0}}if(to(re))throw vn(400,{type:"defer-action"});if(Bn(re)){let _e=Kl(H,Ce.route.id);return(de&&de.replace)!==!0&&(C=Vt.Push),{matches:H,pendingActionResult:[_e.route.id,re]}}return{matches:H,pendingActionResult:[Ce.route.id,re]}}async function $r(F,B,Z,H,oe,de,we,re,Ce,_e,ce){let Me=oe||Pf(B,de),Be=de||we||$v(Me),Ge=!D&&(!y.v7_partialHydration||!Ce);if(H){if(Ge){let nt=$s(ce);ht(Tt({navigation:Me},nt!==void 0?{actionData:nt}:{}),{flushSync:_e})}let be=await vi(Z,B.pathname,F.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let{error:nt,notFoundMatches:Rt,route:he}=mi(B.pathname,be);return{matches:Rt,loaderData:{},errors:{[he.id]:nt}}}else if(be.matches)Z=be.matches;else{let{error:nt,notFoundMatches:Rt,route:he}=Gn(B.pathname);return{matches:Rt,loaderData:{},errors:{[he.id]:nt}}}}let $e=h||l,[yt,ot]=Lv(t.history,j,Z,Be,B,y.v7_partialHydration&&Ce===!0,y.unstable_skipActionErrorRevalidation,Ie,_t,Je,Ee,me,ue,$e,d,ce);if(dr(be=>!(Z&&Z.some(nt=>nt.route.id===be))||yt&&yt.some(nt=>nt.route.id===be)),pe=++Y,yt.length===0&&ot.length===0){let be=ur();return In(B,Tt({matches:Z,loaderData:{},errors:ce&&Bn(ce[1])?{[ce[0]]:ce[1].error}:null},Fv(ce),be?{fetchers:new Map(j.fetchers)}:{}),{flushSync:_e}),{shortCircuited:!0}}if(Ge){let be={};if(!H){be.navigation=Me;let nt=$s(ce);nt!==void 0&&(be.actionData=nt)}ot.length>0&&(be.fetchers=Hr(ot)),ht(be,{flushSync:_e})}ot.forEach(be=>{Ae.has(be.key)&&Sn(be.key),be.controller&&Ae.set(be.key,be.controller)});let ji=()=>ot.forEach(be=>Sn(be.key));S&&S.signal.addEventListener("abort",ji);let{loaderResults:mn,fetcherResults:Mn}=await vt(j.matches,Z,yt,ot,F);if(F.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",ji),ot.forEach(be=>Ae.delete(be.key));let yi=zv([...mn,...Mn]);if(yi){if(yi.idx>=yt.length){let be=ot[yi.idx-yt.length].key;ue.add(be)}return await pi(F,yi.result,{replace:re}),{shortCircuited:!0}}let{loaderData:Qn,errors:Wt}=Vv(j,Z,yt,mn,ce,ot,Mn,ve);ve.forEach((be,nt)=>{be.subscribe(Rt=>{(Rt||be.done)&&ve.delete(nt)})}),y.v7_partialHydration&&Ce&&j.errors&&Object.entries(j.errors).filter(be=>{let[nt]=be;return!yt.some(Rt=>Rt.route.id===nt)}).forEach(be=>{let[nt,Rt]=be;Wt=Object.assign(Wt||{},{[nt]:Rt})});let Cn=ur(),Yn=bo(pe),Xn=Cn||Yn||ot.length>0;return Tt({matches:Z,loaderData:Qn,errors:Wt},Xn?{fetchers:new Map(j.fetchers)}:{})}function $s(F){if(F&&!Bn(F[1]))return{[F[0]]:F[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Hr(F){return F.forEach(B=>{let Z=j.fetchers.get(B.key),H=Pl(void 0,Z?Z.data:void 0);j.fetchers.set(B.key,H)}),new Map(j.fetchers)}function Wr(F,B,Z,H){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ae.has(F)&&Sn(F);let oe=(H&&H.unstable_flushSync)===!0,de=h||l,we=Lp(j.location,j.matches,d,y.v7_prependBasename,Z,y.v7_relativeSplatPath,B,H==null?void 0:H.relative),re=Ys(de,we,d),Ce=_i(re,de,we);if(Ce.active&&Ce.matches&&(re=Ce.matches),!re){Pn(F,B,vn(404,{pathname:we}),{flushSync:oe});return}let{path:_e,submission:ce,error:Me}=bv(y.v7_normalizeFormMethod,!0,we,H);if(Me){Pn(F,B,Me,{flushSync:oe});return}let Be=Ll(re,_e);if(x=(H&&H.preventScrollReset)===!0,ce&&Ci(ce.formMethod)){ko(F,B,_e,Be,re,Ce.active,oe,ce);return}me.set(F,{routeId:B,path:_e}),qr(F,B,_e,Be,re,Ce.active,oe,ce)}async function ko(F,B,Z,H,oe,de,we,re){Ct(),me.delete(F);function Ce(he){if(!he.route.action&&!he.route.lazy){let Fe=vn(405,{method:re.formMethod,pathname:Z,routeId:B});return Pn(F,B,Fe,{flushSync:we}),!0}return!1}if(!de&&Ce(H))return;let _e=j.fetchers.get(F);on(F,fC(re,_e),{flushSync:we});let ce=new AbortController,Me=Yo(t.history,Z,ce.signal,re);if(de){let he=await vi(oe,Z,Me.signal);if(he.type==="aborted")return;if(he.type==="error"){let{error:Fe}=mi(Z,he);Pn(F,B,Fe,{flushSync:we});return}else if(he.matches){if(oe=he.matches,H=Ll(oe,Z),Ce(H))return}else{Pn(F,B,vn(404,{pathname:Z}),{flushSync:we});return}}Ae.set(F,ce);let Be=Y,$e=(await Vi("action",Me,[H],oe))[0];if(Me.signal.aborted){Ae.get(F)===ce&&Ae.delete(F);return}if(y.v7_fetcherPersist&&Ee.has(F)){if(no($e)||Bn($e)){on(F,os(void 0));return}}else{if(no($e))if(Ae.delete(F),pe>Be){on(F,os(void 0));return}else return ue.add(F),on(F,Pl(re)),pi(Me,$e,{fetcherSubmission:re});if(Bn($e)){Pn(F,B,$e.error);return}}if(to($e))throw vn(400,{type:"defer-action"});let yt=j.navigation.location||j.location,ot=Yo(t.history,yt,ce.signal),ji=h||l,mn=j.navigation.state!=="idle"?Ys(ji,j.navigation.location,d):j.matches;je(mn,"Didn't find any matches after fetcher action");let Mn=++Y;ee.set(F,Mn);let yi=Pl(re,$e.data);j.fetchers.set(F,yi);let[Qn,Wt]=Lv(t.history,j,mn,re,yt,!1,y.unstable_skipActionErrorRevalidation,Ie,_t,Je,Ee,me,ue,ji,d,[H.route.id,$e]);Wt.filter(he=>he.key!==F).forEach(he=>{let Fe=he.key,Fi=j.fetchers.get(Fe),wi=Pl(void 0,Fi?Fi.data:void 0);j.fetchers.set(Fe,wi),Ae.has(Fe)&&Sn(Fe),he.controller&&Ae.set(Fe,he.controller)}),ht({fetchers:new Map(j.fetchers)});let Cn=()=>Wt.forEach(he=>Sn(he.key));ce.signal.addEventListener("abort",Cn);let{loaderResults:Yn,fetcherResults:Xn}=await vt(j.matches,mn,Qn,Wt,ot);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",Cn),ee.delete(F),Ae.delete(F),Wt.forEach(he=>Ae.delete(he.key));let be=zv([...Yn,...Xn]);if(be){if(be.idx>=Qn.length){let he=Wt[be.idx-Qn.length].key;ue.add(he)}return pi(ot,be.result)}let{loaderData:nt,errors:Rt}=Vv(j,j.matches,Qn,Yn,void 0,Wt,Xn,ve);if(j.fetchers.has(F)){let he=os($e.data);j.fetchers.set(F,he)}bo(Mn),j.navigation.state==="loading"&&Mn>pe?(je(C,"Expected pending action"),S&&S.abort(),In(j.navigation.location,{matches:mn,loaderData:nt,errors:Rt,fetchers:new Map(j.fetchers)})):(ht({errors:Rt,loaderData:jv(j.loaderData,nt,mn,Rt),fetchers:new Map(j.fetchers)}),Ie=!1)}async function qr(F,B,Z,H,oe,de,we,re){let Ce=j.fetchers.get(F);on(F,Pl(re,Ce?Ce.data:void 0),{flushSync:we});let _e=new AbortController,ce=Yo(t.history,Z,_e.signal);if(de){let $e=await vi(oe,Z,ce.signal);if($e.type==="aborted")return;if($e.type==="error"){let{error:yt}=mi(Z,$e);Pn(F,B,yt,{flushSync:we});return}else if($e.matches)oe=$e.matches,H=Ll(oe,Z);else{Pn(F,B,vn(404,{pathname:Z}),{flushSync:we});return}}Ae.set(F,_e);let Me=Y,Ge=(await Vi("loader",ce,[H],oe))[0];if(to(Ge)&&(Ge=await ME(Ge,ce.signal,!0)||Ge),Ae.get(F)===_e&&Ae.delete(F),!ce.signal.aborted){if(Ee.has(F)){on(F,os(void 0));return}if(no(Ge))if(pe>Me){on(F,os(void 0));return}else{ue.add(F),await pi(ce,Ge);return}if(Bn(Ge)){Pn(F,B,Ge.error);return}je(!to(Ge),"Unhandled fetcher deferred data"),on(F,os(Ge.data))}}async function pi(F,B,Z){let{submission:H,fetcherSubmission:oe,replace:de}=Z===void 0?{}:Z;B.response.headers.has("X-Remix-Revalidate")&&(Ie=!0);let we=B.response.headers.get("Location");je(we,"Expected a Location header on the redirect Response"),we=Ov(we,new URL(F.url),d);let re=_u(j.location,we,{_isRedirect:!0});if(n){let Ge=!1;if(B.response.headers.has("X-Remix-Reload-Document"))Ge=!0;else if(ig.test(we)){const $e=t.history.createURL(we);Ge=$e.origin!==e.location.origin||Ba($e.pathname,d)==null}if(Ge){de?e.location.replace(we):e.location.assign(we);return}}S=null;let Ce=de===!0?Vt.Replace:Vt.Push,{formMethod:_e,formAction:ce,formEncType:Me}=j.navigation;!H&&!oe&&_e&&ce&&Me&&(H=$v(j.navigation));let Be=H||oe;if(KS.has(B.response.status)&&Be&&Ci(Be.formMethod))await On(Ce,re,{submission:Tt({},Be,{formAction:we}),preventScrollReset:x});else{let Ge=Pf(re,H);await On(Ce,re,{overrideNavigation:Ge,fetcherSubmission:oe,preventScrollReset:x})}}async function Vi(F,B,Z,H){try{let oe=await nC(p,F,B,Z,H,o,r);return await Promise.all(oe.map((de,we)=>{if(uC(de)){let re=de.result;return{type:lt.redirect,response:sC(re,B,Z[we].route.id,H,d,y.v7_relativeSplatPath)}}return rC(de)}))}catch(oe){return Z.map(()=>({type:lt.error,error:oe}))}}async function vt(F,B,Z,H,oe){let[de,...we]=await Promise.all([Z.length?Vi("loader",oe,Z,B):[],...H.map(re=>{if(re.matches&&re.match&&re.controller){let Ce=Yo(t.history,re.path,re.controller.signal);return Vi("loader",Ce,[re.match],re.matches).then(_e=>_e[0])}else return Promise.resolve({type:lt.error,error:vn(404,{pathname:re.path})})})]);return await Promise.all([Bv(F,Z,de,de.map(()=>oe.signal),!1,j.loaderData),Bv(F,H.map(re=>re.match),we,H.map(re=>re.controller?re.controller.signal:null),!0)]),{loaderResults:de,fetcherResults:we}}function Ct(){Ie=!0,_t.push(...dr()),me.forEach((F,B)=>{Ae.has(B)&&(Je.push(B),Sn(B))})}function on(F,B,Z){Z===void 0&&(Z={}),j.fetchers.set(F,B),ht({fetchers:new Map(j.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Pn(F,B,Z,H){H===void 0&&(H={});let oe=Kl(j.matches,B);or(F),ht({errors:{[oe.route.id]:Z},fetchers:new Map(j.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Kr(F){return y.v7_fetcherPersist&&(ye.set(F,(ye.get(F)||0)+1),Ee.has(F)&&Ee.delete(F)),j.fetchers.get(F)||ZS}function or(F){let B=j.fetchers.get(F);Ae.has(F)&&!(B&&B.state==="loading"&&ee.has(F))&&Sn(F),me.delete(F),ee.delete(F),ue.delete(F),Ee.delete(F),j.fetchers.delete(F)}function ar(F){if(y.v7_fetcherPersist){let B=(ye.get(F)||0)-1;B<=0?(ye.delete(F),Ee.add(F)):ye.set(F,B)}else or(F);ht({fetchers:new Map(j.fetchers)})}function Sn(F){let B=Ae.get(F);je(B,"Expected fetch controller: "+F),B.abort(),Ae.delete(F)}function lr(F){for(let B of F){let Z=Kr(B),H=os(Z.data);j.fetchers.set(B,H)}}function ur(){let F=[],B=!1;for(let Z of ue){let H=j.fetchers.get(Z);je(H,"Expected fetcher: "+Z),H.state==="loading"&&(ue.delete(Z),F.push(Z),B=!0)}return lr(F),B}function bo(F){let B=[];for(let[Z,H]of ee)if(H<F){let oe=j.fetchers.get(Z);je(oe,"Expected fetcher: "+Z),oe.state==="loading"&&(Sn(Z),ee.delete(Z),B.push(Z))}return lr(B),B.length>0}function cr(F,B){let Z=j.blockers.get(F)||Il;return ge.get(F)!==B&&ge.set(F,B),Z}function Zr(F){j.blockers.delete(F),ge.delete(F)}function hr(F,B){let Z=j.blockers.get(F)||Il;je(Z.state==="unblocked"&&B.state==="blocked"||Z.state==="blocked"&&B.state==="blocked"||Z.state==="blocked"&&B.state==="proceeding"||Z.state==="blocked"&&B.state==="unblocked"||Z.state==="proceeding"&&B.state==="unblocked","Invalid blocker state transition: "+Z.state+" -> "+B.state);let H=new Map(j.blockers);H.set(F,B),ht({blockers:H})}function Gr(F){let{currentLocation:B,nextLocation:Z,historyAction:H}=F;if(ge.size===0)return;ge.size>1&&ba(!1,"A router only supports one blocker at a time");let oe=Array.from(ge.entries()),[de,we]=oe[oe.length-1],re=j.blockers.get(de);if(!(re&&re.state==="proceeding")&&we({currentLocation:B,nextLocation:Z,historyAction:H}))return de}function Gn(F){let B=vn(404,{pathname:F}),Z=h||l,{matches:H,route:oe}=Uv(Z);return dr(),{notFoundMatches:H,route:oe,error:B}}function mi(F,B){let Z=B.partialMatches,H=Z[Z.length-1].route,oe=vn(400,{type:"route-discovery",routeId:H.id,pathname:F,message:B.error!=null&&"message"in B.error?B.error:String(B.error)});return{notFoundMatches:Z,route:H,error:oe}}function dr(F){let B=[];return ve.forEach((Z,H)=>{(!F||F(H))&&(Z.cancel(),B.push(H),ve.delete(H))}),B}function gi(F,B,Z){if(O=F,z=B,k=Z||null,!A&&j.navigation===If){A=!0;let H=Ws(j.location,j.matches);H!=null&&ht({restoreScrollPosition:H})}return()=>{O=null,z=null,k=null}}function Hs(F,B){return k&&k(F,B.map(H=>PS(H,j.loaderData)))||F.key}function Qr(F,B){if(O&&z){let Z=Hs(F,B);O[Z]=z()}}function Ws(F,B){if(O){let Z=Hs(F,B),H=O[Z];if(typeof H=="number")return H}return null}function _i(F,B,Z){if(_)if(F){let H=F[F.length-1].route;if(H.path&&(H.path==="*"||H.path.endsWith("/*")))return{active:!0,matches:nh(B,Z,d,!0)}}else return{active:!0,matches:nh(B,Z,d,!0)||[]};return{active:!1,matches:null}}async function vi(F,B,Z){let H=F,oe=H.length>0?H[H.length-1].route:null;for(;;){let de=h==null,we=h||l;try{await eC(_,B,H,we,o,r,st,Z)}catch(ce){return{type:"error",error:ce,partialMatches:H}}finally{de&&(l=[...l])}if(Z.aborted)return{type:"aborted"};let re=Ys(we,B,d),Ce=!1;if(re){let ce=re[re.length-1].route;if(ce.index)return{type:"success",matches:re};if(ce.path&&ce.path.length>0)if(ce.path==="*")Ce=!0;else return{type:"success",matches:re}}let _e=nh(we,B,d,!0);if(!_e||H.map(ce=>ce.route.id).join("-")===_e.map(ce=>ce.route.id).join("-"))return{type:"success",matches:Ce?re:null};if(H=_e,oe=H[H.length-1].route,oe.path==="*")return{type:"success",matches:H}}}function Ut(F){o={},h=vu(F,r,void 0,o)}function Lo(F,B){let Z=h==null;NE(F,B,h||l,o,r),Z&&(l=[...l],ht({}))}return X={get basename(){return d},get future(){return y},get state(){return j},get routes(){return l},get window(){return e},initialize:Ao,subscribe:Mi,enableScrollRestoration:gi,navigate:zr,fetch:Wr,revalidate:Br,createHref:F=>t.history.createHref(F),encodeLocation:F=>t.history.encodeLocation(F),getFetcher:Kr,deleteFetcher:ar,dispose:Oi,getBlocker:cr,deleteBlocker:Zr,patchRoutes:Lo,_internalFetchControllers:Ae,_internalActiveDeferreds:ve,_internalSetRoutes:Ut},X}function YS(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Lp(t,e,n,i,r,o,l,h){let d,p;if(l){d=[];for(let y of e)if(d.push(y),y.route.id===l){p=y;break}}else d=e,p=e[e.length-1];let _=tg(r||".",eg(d,o),Ba(t.pathname,n)||t.pathname,h==="path");return r==null&&(_.search=t.search,_.hash=t.hash),(r==null||r===""||r===".")&&p&&p.route.index&&!rg(_.search)&&(_.search=_.search?_.search.replace(/^\?/,"?index&"):"?index"),i&&n!=="/"&&(_.pathname=_.pathname==="/"?n:Rr([n,_.pathname])),po(_)}function bv(t,e,n,i){if(!i||!YS(i))return{path:n};if(i.formMethod&&!hC(i.formMethod))return{path:n,error:vn(405,{method:i.formMethod})};let r=()=>({path:n,error:vn(400,{type:"invalid-body"})}),o=i.formMethod||"get",l=t?o.toUpperCase():o.toLowerCase(),h=DE(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Ci(l))return r();let w=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((N,O)=>{let[k,z]=O;return""+N+k+"="+z+`
`},""):String(i.body);return{path:n,submission:{formMethod:l,formAction:h,formEncType:i.formEncType,formData:void 0,json:void 0,text:w}}}else if(i.formEncType==="application/json"){if(!Ci(l))return r();try{let w=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:l,formAction:h,formEncType:i.formEncType,formData:void 0,json:w,text:void 0}}}catch{return r()}}}je(typeof FormData=="function","FormData is not available in this environment");let d,p;if(i.formData)d=Np(i.formData),p=i.formData;else if(i.body instanceof FormData)d=Np(i.body),p=i.body;else if(i.body instanceof URLSearchParams)d=i.body,p=Mv(d);else if(i.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(i.body),p=Mv(d)}catch{return r()}let _={formMethod:l,formAction:h,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Ci(_.formMethod))return{path:n,submission:_};let y=Fs(n);return e&&y.search&&rg(y.search)&&d.append("index",""),y.search="?"+d,{path:po(y),submission:_}}function XS(t,e){let n=t;if(e){let i=t.findIndex(r=>r.route.id===e);i>=0&&(n=t.slice(0,i))}return n}function Lv(t,e,n,i,r,o,l,h,d,p,_,y,w,N,O,k){let z=k?Bn(k[1])?k[1].error:k[1].data:void 0,A=t.createURL(e.location),P=t.createURL(r),R=k&&Bn(k[1])?k[0]:void 0,$=R?XS(n,R):n,X=k?k[1].statusCode:void 0,j=l&&X&&X>=400,C=$.filter((S,b)=>{let{route:M}=S;if(M.lazy)return!0;if(M.loader==null)return!1;if(o)return typeof M.loader!="function"||M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(JS(e.loaderData,e.matches[b],S)||d.some(Ie=>Ie===S.route.id))return!0;let U=e.matches[b],D=S;return Nv(S,Tt({currentUrl:A,currentParams:U.params,nextUrl:P,nextParams:D.params},i,{actionResult:z,unstable_actionStatus:X,defaultShouldRevalidate:j?!1:h||A.pathname+A.search===P.pathname+P.search||A.search!==P.search||LE(U,D)}))}),x=[];return y.forEach((S,b)=>{if(o||!n.some(_t=>_t.route.id===S.routeId)||_.has(b))return;let M=Ys(N,S.path,O);if(!M){x.push({key:b,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(b),D=Ll(M,S.path),Ie=!1;w.has(b)?Ie=!1:p.includes(b)?Ie=!0:U&&U.state!=="idle"&&U.data===void 0?Ie=h:Ie=Nv(D,Tt({currentUrl:A,currentParams:e.matches[e.matches.length-1].params,nextUrl:P,nextParams:n[n.length-1].params},i,{actionResult:z,unstable_actionStatus:X,defaultShouldRevalidate:j?!1:h})),Ie&&x.push({key:b,routeId:S.routeId,path:S.path,matches:M,match:D,controller:new AbortController})}),[C,x]}function JS(t,e,n){let i=!e||n.route.id!==e.route.id,r=t[n.route.id]===void 0;return i||r}function LE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Nv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function eC(t,e,n,i,r,o,l,h){let d=[e,...n.map(p=>p.route.id)].join("-");try{let p=l.get(d);p||(p=t({path:e,matches:n,patch:(_,y)=>{h.aborted||NE(_,y,i,r,o)}}),l.set(d,p)),p&&lC(p)&&await p}finally{l.delete(d)}}function NE(t,e,n,i,r){if(t){var o;let l=i[t];je(l,"No route found to patch children into: routeId = "+t);let h=vu(e,r,[t,"patch",String(((o=l.children)==null?void 0:o.length)||"0")],i);l.children?l.children.push(...h):l.children=h}else{let l=vu(e,r,["patch",String(n.length||"0")],i);n.push(...l)}}async function Dv(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let r=n[t.id];je(r,"No route found in manifest");let o={};for(let l in i){let d=r[l]!==void 0&&l!=="hasErrorBoundary";ba(!d,'Route "'+r.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!d&&!xS.has(l)&&(o[l]=i[l])}Object.assign(r,o),Object.assign(r,Tt({},e(r),{lazy:void 0}))}function tC(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function nC(t,e,n,i,r,o,l,h){let d=i.reduce((y,w)=>y.add(w.route.id),new Set),p=new Set,_=await t({matches:r.map(y=>{let w=d.has(y.route.id);return Tt({},y,{shouldLoad:w,resolve:O=>(p.add(y.route.id),w?iC(e,n,y,o,l,O,h):Promise.resolve({type:lt.data,result:void 0}))})}),request:n,params:r[0].params,context:h});return r.forEach(y=>je(p.has(y.route.id),'`match.resolve()` was not called for route id "'+y.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),_.filter((y,w)=>d.has(r[w].route.id))}async function iC(t,e,n,i,r,o,l){let h,d,p=_=>{let y,w=new Promise((k,z)=>y=z);d=()=>y(),e.signal.addEventListener("abort",d);let N=k=>typeof _!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):_({request:e,params:n.params,context:l},...k!==void 0?[k]:[]),O;return o?O=o(k=>N(k)):O=(async()=>{try{return{type:"data",result:await N()}}catch(k){return{type:"error",result:k}}})(),Promise.race([O,w])};try{let _=n.route[t];if(n.route.lazy)if(_){let y,[w]=await Promise.all([p(_).catch(N=>{y=N}),Dv(n.route,r,i)]);if(y!==void 0)throw y;h=w}else if(await Dv(n.route,r,i),_=n.route[t],_)h=await p(_);else if(t==="action"){let y=new URL(e.url),w=y.pathname+y.search;throw vn(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:lt.data,result:void 0};else if(_)h=await p(_);else{let y=new URL(e.url),w=y.pathname+y.search;throw vn(404,{pathname:w})}je(h.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(_){return{type:lt.error,result:_}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function rC(t){let{result:e,type:n,status:i}=t;if(OE(e)){let l;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?l=null:l=await e.json():l=await e.text()}catch(h){return{type:lt.error,error:h}}return n===lt.error?{type:lt.error,error:new ng(e.status,e.statusText,l),statusCode:e.status,headers:e.headers}:{type:lt.data,data:l,statusCode:e.status,headers:e.headers}}if(n===lt.error)return{type:lt.error,error:e,statusCode:wd(e)?e.status:i};if(cC(e)){var r,o;return{type:lt.deferred,deferredData:e,statusCode:(r=e.init)==null?void 0:r.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}return{type:lt.data,data:e,statusCode:i}}function sC(t,e,n,i,r,o){let l=t.headers.get("Location");if(je(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!ig.test(l)){let h=i.slice(0,i.findIndex(d=>d.route.id===n)+1);l=Lp(new URL(e.url),h,r,!0,l,o),t.headers.set("Location",l)}return t}function Ov(t,e,n){if(ig.test(t)){let i=t,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),o=Ba(r.pathname,n)!=null;if(r.origin===e.origin&&o)return r.pathname+r.search+r.hash}return t}function Yo(t,e,n,i){let r=t.createURL(DE(e)).toString(),o={signal:n};if(i&&Ci(i.formMethod)){let{formMethod:l,formEncType:h}=i;o.method=l.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(i.json)):h==="text/plain"?o.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?o.body=Np(i.formData):o.body=i.formData}return new Request(r,o)}function Np(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function Mv(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function oC(t,e,n,i,r,o){let l={},h=null,d,p=!1,_={},y=i&&Bn(i[1])?i[1].error:void 0;return n.forEach((w,N)=>{let O=e[N].route.id;if(je(!no(w),"Cannot handle redirect results in processLoaderData"),Bn(w)){let k=w.error;y!==void 0&&(k=y,y=void 0),h=h||{};{let z=Kl(t,O);h[z.route.id]==null&&(h[z.route.id]=k)}l[O]=void 0,p||(p=!0,d=wd(w.error)?w.error.status:500),w.headers&&(_[O]=w.headers)}else to(w)?(r.set(O,w.deferredData),l[O]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!p&&(d=w.statusCode),w.headers&&(_[O]=w.headers)):(l[O]=w.data,w.statusCode&&w.statusCode!==200&&!p&&(d=w.statusCode),w.headers&&(_[O]=w.headers))}),y!==void 0&&i&&(h={[i[0]]:y},l[i[0]]=void 0),{loaderData:l,errors:h,statusCode:d||200,loaderHeaders:_}}function Vv(t,e,n,i,r,o,l,h){let{loaderData:d,errors:p}=oC(e,n,i,r,h);for(let _=0;_<o.length;_++){let{key:y,match:w,controller:N}=o[_];je(l!==void 0&&l[_]!==void 0,"Did not find corresponding fetcher result");let O=l[_];if(!(N&&N.signal.aborted))if(Bn(O)){let k=Kl(t.matches,w==null?void 0:w.route.id);p&&p[k.route.id]||(p=Tt({},p,{[k.route.id]:O.error})),t.fetchers.delete(y)}else if(no(O))je(!1,"Unhandled fetcher revalidation redirect");else if(to(O))je(!1,"Unhandled fetcher deferred data");else{let k=os(O.data);t.fetchers.set(y,k)}}return{loaderData:d,errors:p}}function jv(t,e,n,i){let r=Tt({},e);for(let o of n){let l=o.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(r[l]=e[l]):t[l]!==void 0&&o.route.loader&&(r[l]=t[l]),i&&i.hasOwnProperty(l))break}return r}function Fv(t){return t?Bn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Kl(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Uv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vn(t,e){let{pathname:n,routeId:i,method:r,type:o,message:l}=e===void 0?{}:e,h="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(h="Bad Request",o==="route-discovery"?d='Unable to match URL "'+n+'" - the `children()` function for '+("route `"+i+"` threw the following error:\n"+l):r&&n&&i?d="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":o==="defer-action"?d="defer() is not supported in actions":o==="invalid-body"&&(d="Unable to encode submission body")):t===403?(h="Forbidden",d='Route "'+i+'" does not match URL "'+n+'"'):t===404?(h="Not Found",d='No route matches URL "'+n+'"'):t===405&&(h="Method Not Allowed",r&&n&&i?d="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(d='Invalid request method "'+r.toUpperCase()+'"')),new ng(t||500,h,new Error(d),!0)}function zv(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(no(n))return{result:n,idx:e}}}function DE(t){let e=typeof t=="string"?Fs(t):t;return po(Tt({},e,{hash:""}))}function aC(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function lC(t){return typeof t=="object"&&t!=null&&"then"in t}function uC(t){return OE(t.result)&&qS.has(t.result.status)}function to(t){return t.type===lt.deferred}function Bn(t){return t.type===lt.error}function no(t){return(t&&t.type)===lt.redirect}function cC(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function OE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function hC(t){return WS.has(t.toLowerCase())}function Ci(t){return $S.has(t.toLowerCase())}async function Bv(t,e,n,i,r,o){for(let l=0;l<n.length;l++){let h=n[l],d=e[l];if(!d)continue;let p=t.find(y=>y.route.id===d.route.id),_=p!=null&&!LE(p,d)&&(o&&o[d.route.id])!==void 0;if(to(h)&&(r||_)){let y=i[l];je(y,"Expected an AbortSignal for revalidating fetcher deferred result"),await ME(h,y,r).then(w=>{w&&(n[l]=w||n[l])})}}}async function ME(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:lt.data,data:t.deferredData.unwrappedData}}catch(r){return{type:lt.error,error:r}}return{type:lt.data,data:t.deferredData.data}}}function rg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ll(t,e){let n=typeof e=="string"?Fs(e).search:e.search;if(t[t.length-1].route.index&&rg(n||""))return t[t.length-1];let i=AE(t);return i[i.length-1]}function $v(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:o,json:l}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:l,text:void 0}}}function Pf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dC(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Pl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fC(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function os(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function pC(t,e){try{let n=t.sessionStorage.getItem(bE);if(n){let i=JSON.parse(n);for(let[r,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(r,new Set(o||[]))}}catch{}}function mC(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(bE,JSON.stringify(n))}catch(i){ba(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Mh.apply(this,arguments)}const Ed=q.createContext(null),VE=q.createContext(null),Io=q.createContext(null),sg=q.createContext(null),Ur=q.createContext({outlet:null,matches:[],isDataRoute:!1}),jE=q.createContext(null);function gC(t,e){let{relative:n}=e===void 0?{}:e;ju()||je(!1);let{basename:i,navigator:r}=q.useContext(Io),{hash:o,pathname:l,search:h}=UE(t,{relative:n}),d=l;return i!=="/"&&(d=l==="/"?i:Rr([i,l])),r.createHref({pathname:d,search:h,hash:o})}function ju(){return q.useContext(sg)!=null}function Td(){return ju()||je(!1),q.useContext(sg).location}function FE(t){q.useContext(Io).static||q.useLayoutEffect(t)}function _C(){let{isDataRoute:t}=q.useContext(Ur);return t?LC():vC()}function vC(){ju()||je(!1);let t=q.useContext(Ed),{basename:e,future:n,navigator:i}=q.useContext(Io),{matches:r}=q.useContext(Ur),{pathname:o}=Td(),l=JSON.stringify(eg(r,n.v7_relativeSplatPath)),h=q.useRef(!1);return FE(()=>{h.current=!0}),q.useCallback(function(p,_){if(_===void 0&&(_={}),!h.current)return;if(typeof p=="number"){i.go(p);return}let y=tg(p,JSON.parse(l),o,_.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Rr([e,y.pathname])),(_.replace?i.replace:i.push)(y,_.state,_)},[e,i,l,o,t])}const yC=q.createContext(null);function wC(t){let e=q.useContext(Ur).outlet;return e&&q.createElement(yC.Provider,{value:t},e)}function EC(){let{matches:t}=q.useContext(Ur),e=t[t.length-1];return e?e.params:{}}function UE(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=q.useContext(Io),{matches:r}=q.useContext(Ur),{pathname:o}=Td(),l=JSON.stringify(eg(r,i.v7_relativeSplatPath));return q.useMemo(()=>tg(t,JSON.parse(l),o,n==="path"),[t,l,o,n])}function TC(t,e,n,i){ju()||je(!1);let{navigator:r}=q.useContext(Io),{matches:o}=q.useContext(Ur),l=o[o.length-1],h=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=Td(),_;_=p;let y=_.pathname||"/",w=y;if(d!=="/"){let k=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=Ys(t,{pathname:w});return CC(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:Rr([d,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:Rr([d,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,i)}function xC(){let t=bC(),e=wd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:r},n):null,null)}const IC=q.createElement(xC,null);class PC extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?q.createElement(Ur.Provider,{value:this.props.routeContext},q.createElement(jE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SC(t){let{routeContext:e,match:n,children:i}=t,r=q.useContext(Ed);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(Ur.Provider,{value:e},i)}function CC(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let l=t,h=(r=n)==null?void 0:r.errors;if(h!=null){let _=l.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);_>=0||je(!1),l=l.slice(0,Math.min(l.length,_+1))}let d=!1,p=-1;if(n&&i&&i.v7_partialHydration)for(let _=0;_<l.length;_++){let y=l[_];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=_),y.route.id){let{loaderData:w,errors:N}=n,O=y.route.loader&&w[y.route.id]===void 0&&(!N||N[y.route.id]===void 0);if(y.route.lazy||O){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((_,y,w)=>{let N,O=!1,k=null,z=null;n&&(N=h&&y.route.id?h[y.route.id]:void 0,k=y.route.errorElement||IC,d&&(p<0&&w===0?(NC("route-fallback"),O=!0,z=null):p===w&&(O=!0,z=y.route.hydrateFallbackElement||null)));let A=e.concat(l.slice(0,w+1)),P=()=>{let R;return N?R=k:O?R=z:y.route.Component?R=q.createElement(y.route.Component,null):y.route.element?R=y.route.element:R=_,q.createElement(SC,{match:y,routeContext:{outlet:_,matches:A,isDataRoute:n!=null},children:R})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?q.createElement(PC,{location:n.location,revalidation:n.revalidation,component:k,error:N,children:P(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):P()},null)}var zE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zE||{}),Vh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vh||{});function RC(t){let e=q.useContext(Ed);return e||je(!1),e}function AC(t){let e=q.useContext(VE);return e||je(!1),e}function kC(t){let e=q.useContext(Ur);return e||je(!1),e}function BE(t){let e=kC(),n=e.matches[e.matches.length-1];return n.route.id||je(!1),n.route.id}function bC(){var t;let e=q.useContext(jE),n=AC(Vh.UseRouteError),i=BE(Vh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function LC(){let{router:t}=RC(zE.UseNavigateStable),e=BE(Vh.UseNavigateStable),n=q.useRef(!1);return FE(()=>{n.current=!0}),q.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Mh({fromRouteId:e},o)))},[t,e])}const Hv={};function NC(t,e,n){Hv[t]||(Hv[t]=!0)}function DC(t){return wC(t.context)}function OC(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Vt.Pop,navigator:o,static:l=!1,future:h}=t;ju()&&je(!1);let d=e.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:d,navigator:o,static:l,future:Mh({v7_relativeSplatPath:!1},h)}),[d,h,o,l]);typeof i=="string"&&(i=Fs(i));let{pathname:_="/",search:y="",hash:w="",state:N=null,key:O="default"}=i,k=q.useMemo(()=>{let z=Ba(_,d);return z==null?null:{location:{pathname:z,search:y,hash:w,state:N,key:O},navigationType:r}},[d,_,y,w,N,O,r]);return k==null?null:q.createElement(Io.Provider,{value:p},q.createElement(sg.Provider,{children:n,value:k}))}new Promise(()=>{});function MC(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:q.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:q.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:q.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yu.apply(this,arguments)}function VC(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function jC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FC(t,e){return t.button===0&&(!e||e==="_self")&&!jC(t)}const UC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],zC="6";try{window.__reactRouterVersion=zC}catch{}function BC(t,e){return QS({basename:void 0,future:yu({},void 0,{v7_prependBasename:!0}),history:wS({window:void 0}),hydrationData:$C(),routes:t,mapRouteProperties:MC,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function $C(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=yu({},e,{errors:HC(e.errors)})),e}function HC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new ng(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let o=window[r.__subType];if(typeof o=="function")try{let l=new o(r.message);l.stack="",n[i]=l}catch{}}if(n[i]==null){let o=new Error(r.message);o.stack="",n[i]=o}}else n[i]=r;return n}const WC=q.createContext({isTransitioning:!1}),qC=q.createContext(new Map),KC="startTransition",Wv=aI[KC],ZC="flushSync",qv=yS[ZC];function GC(t){Wv?Wv(t):t()}function Sl(t){qv?qv(t):t()}let QC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function YC(t){let{fallbackElement:e,router:n,future:i}=t,[r,o]=q.useState(n.state),[l,h]=q.useState(),[d,p]=q.useState({isTransitioning:!1}),[_,y]=q.useState(),[w,N]=q.useState(),[O,k]=q.useState(),z=q.useRef(new Map),{v7_startTransition:A}=i||{},P=q.useCallback(C=>{A?GC(C):C()},[A]),R=q.useCallback((C,x)=>{let{deletedFetchers:S,unstable_flushSync:b,unstable_viewTransitionOpts:M}=x;S.forEach(D=>z.current.delete(D)),C.fetchers.forEach((D,Ie)=>{D.data!==void 0&&z.current.set(Ie,D.data)});let U=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||U){b?Sl(()=>o(C)):P(()=>o(C));return}if(b){Sl(()=>{w&&(_&&_.resolve(),w.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let D=n.window.document.startViewTransition(()=>{Sl(()=>o(C))});D.finished.finally(()=>{Sl(()=>{y(void 0),N(void 0),h(void 0),p({isTransitioning:!1})})}),Sl(()=>N(D));return}w?(_&&_.resolve(),w.skipTransition(),k({state:C,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(h(C),p({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,w,_,z,P]);q.useLayoutEffect(()=>n.subscribe(R),[n,R]),q.useEffect(()=>{d.isTransitioning&&!d.flushSync&&y(new QC)},[d]),q.useEffect(()=>{if(_&&l&&n.window){let C=l,x=_.promise,S=n.window.document.startViewTransition(async()=>{P(()=>o(C)),await x});S.finished.finally(()=>{y(void 0),N(void 0),h(void 0),p({isTransitioning:!1})}),N(S)}},[P,l,_,n.window]),q.useEffect(()=>{_&&l&&r.location.key===l.location.key&&_.resolve()},[_,w,r.location,l]),q.useEffect(()=>{!d.isTransitioning&&O&&(h(O.state),p({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}),k(void 0))},[d.isTransitioning,O]),q.useEffect(()=>{},[]);let $=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,x,S)=>n.navigate(C,{state:x,preventScrollReset:S==null?void 0:S.preventScrollReset}),replace:(C,x,S)=>n.navigate(C,{replace:!0,state:x,preventScrollReset:S==null?void 0:S.preventScrollReset})}),[n]),X=n.basename||"/",j=q.useMemo(()=>({router:n,navigator:$,static:!1,basename:X}),[n,$,X]);return q.createElement(q.Fragment,null,q.createElement(Ed.Provider,{value:j},q.createElement(VE.Provider,{value:r},q.createElement(qC.Provider,{value:z.current},q.createElement(WC.Provider,{value:d},q.createElement(OC,{basename:X,location:r.location,navigationType:r.historyAction,navigator:$,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},r.initialized||n.future.v7_partialHydration?q.createElement(XC,{routes:n.routes,future:n.future,state:r}):e))))),null)}function XC(t){let{routes:e,future:n,state:i}=t;return TC(e,void 0,i,n)}const JC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=q.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:o,replace:l,state:h,target:d,to:p,preventScrollReset:_,unstable_viewTransition:y}=e,w=VC(e,UC),{basename:N}=q.useContext(Io),O,k=!1;if(typeof p=="string"&&eR.test(p)&&(O=p,JC))try{let R=new URL(window.location.href),$=p.startsWith("//")?new URL(R.protocol+p):new URL(p),X=Ba($.pathname,N);$.origin===R.origin&&X!=null?p=X+$.search+$.hash:k=!0}catch{}let z=gC(p,{relative:r}),A=tR(p,{replace:l,state:h,target:d,preventScrollReset:_,relative:r,unstable_viewTransition:y});function P(R){i&&i(R),R.defaultPrevented||A(R)}return q.createElement("a",yu({},w,{href:O||z,onClick:k||o?i:P,ref:n,target:d}))});var Kv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Kv||(Kv={}));var Zv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zv||(Zv={}));function tR(t,e){let{target:n,replace:i,state:r,preventScrollReset:o,relative:l,unstable_viewTransition:h}=e===void 0?{}:e,d=_C(),p=Td(),_=UE(t,{relative:l});return q.useCallback(y=>{if(FC(y,n)){y.preventDefault();let w=i!==void 0?i:po(p)===po(_);d(t,{replace:w,state:r,preventScrollReset:o,relative:l,unstable_viewTransition:h})}},[p,d,_,i,r,n,t,o,l,h])}const Gv=[{title:"Home",url:"/",id:1},{title:"Listings",url:"/listings",id:2},{title:"Contact",url:"/contact",id:3}];var Qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},nR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],h=t[n++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,h=l?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0,_=o>>2,y=(o&3)<<4|h>>4;let w=(h&15)<<2|p>>6,N=p&63;d||(N=64,l||(w=64)),i.push(n[_],n[y],n[w],n[N])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const y=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||h==null||p==null||y==null)throw new iR;const w=o<<2|h>>4;if(i.push(w),p!==64){const N=h<<4&240|p>>2;if(i.push(N),y!==64){const O=p<<6&192|y;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rR=function(t){const e=$E(t);return HE.encodeByteArray(e,!0)},jh=function(t){return rR(t).replace(/\./g,"")},WE=function(t){try{return HE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>sR().__FIREBASE_DEFAULTS__,aR=()=>{if(typeof process>"u"||typeof Qv>"u")return;const t=Qv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WE(t[1]);return e&&JSON.parse(e)},xd=()=>{try{return oR()||aR()||lR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qE=t=>{var e,n;return(n=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KE=t=>{const e=qE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ZE=()=>{var t;return(t=xd())===null||t===void 0?void 0:t.config},GE=t=>{var e;return(e=xd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jh(JSON.stringify(n)),jh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function hR(){var t;const e=(t=xd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pR(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mR(){return!hR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function _R(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="FirebaseError";class rr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=vR,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?yR(o,i):"Error",h=`${this.serviceName}: ${l} (${r}).`;return new rr(r,h,i)}}function yR(t,e){return t.replace(wR,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const wR=/\{\$([^}]+)}/g;function ER(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fh(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],l=e[r];if(Yv(o)&&Yv(l)){if(!Fh(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Yv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Dl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TR(t,e){const n=new xR(t,e);return n.subscribe.bind(n)}class xR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");IR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Sf),r.error===void 0&&(r.error=Sf),r.complete===void 0&&(r.complete=Sf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t){return t&&t._delegate?t._delegate:t}class Ls{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new uR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CR(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&l.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:SR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SR(t){return t===Qs?void 0:t}function CR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const AR={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},kR=We.INFO,bR={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},LR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=bR[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class og{constructor(e){this.name=e,this._logLevel=kR,this._logHandler=LR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const NR=(t,e)=>e.some(n=>t instanceof n);let Xv,Jv;function DR(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OR(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,Dp=new WeakMap,XE=new WeakMap,Cf=new WeakMap,ag=new WeakMap;function MR(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Cs(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,t)}).catch(()=>{}),ag.set(e,t),e}function VR(t){if(Dp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Dp.set(t,e)}let Op={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jR(t){Op=t(Op)}function FR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Rf(this),e,...n);return XE.set(i,e.sort?e.sort():[e]),Cs(i)}:OR().includes(t)?function(...e){return t.apply(Rf(this),e),Cs(YE.get(this))}:function(...e){return Cs(t.apply(Rf(this),e))}}function UR(t){return typeof t=="function"?FR(t):(t instanceof IDBTransaction&&VR(t),NR(t,DR())?new Proxy(t,Op):t)}function Cs(t){if(t instanceof IDBRequest)return MR(t);if(Cf.has(t))return Cf.get(t);const e=UR(t);return e!==t&&(Cf.set(t,e),ag.set(e,t)),e}const Rf=t=>ag.get(t);function zR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),h=Cs(l);return i&&l.addEventListener("upgradeneeded",d=>{i(Cs(l.result),d.oldVersion,d.newVersion,Cs(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const BR=["get","getKey","getAll","getAllKeys","count"],$R=["put","add","delete","clear"],Af=new Map;function ey(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=$R.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||BR.includes(n)))return;const o=async function(l,...h){const d=this.transaction(l,r?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),r&&d.done]))[0]};return Af.set(e,o),o}jR(t=>({...t,get:(e,n,i)=>ey(e,n)||t.get(e,n,i),has:(e,n)=>!!ey(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function WR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mp="@firebase/app",ty="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new og("@firebase/app"),qR="@firebase/app-compat",KR="@firebase/analytics-compat",ZR="@firebase/analytics",GR="@firebase/app-check-compat",QR="@firebase/app-check",YR="@firebase/auth",XR="@firebase/auth-compat",JR="@firebase/database",eA="@firebase/database-compat",tA="@firebase/functions",nA="@firebase/functions-compat",iA="@firebase/installations",rA="@firebase/installations-compat",sA="@firebase/messaging",oA="@firebase/messaging-compat",aA="@firebase/performance",lA="@firebase/performance-compat",uA="@firebase/remote-config",cA="@firebase/remote-config-compat",hA="@firebase/storage",dA="@firebase/storage-compat",fA="@firebase/firestore",pA="@firebase/vertexai-preview",mA="@firebase/firestore-compat",gA="firebase",_A="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="[DEFAULT]",vA={[Mp]:"fire-core",[qR]:"fire-core-compat",[ZR]:"fire-analytics",[KR]:"fire-analytics-compat",[QR]:"fire-app-check",[GR]:"fire-app-check-compat",[YR]:"fire-auth",[XR]:"fire-auth-compat",[JR]:"fire-rtdb",[eA]:"fire-rtdb-compat",[tA]:"fire-fn",[nA]:"fire-fn-compat",[iA]:"fire-iid",[rA]:"fire-iid-compat",[sA]:"fire-fcm",[oA]:"fire-fcm-compat",[aA]:"fire-perf",[lA]:"fire-perf-compat",[uA]:"fire-rc",[cA]:"fire-rc-compat",[hA]:"fire-gcs",[dA]:"fire-gcs-compat",[fA]:"fire-fst",[mA]:"fire-fst-compat",[pA]:"fire-vertex","fire-js":"fire-js",[gA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,yA=new Map,jp=new Map;function ny(t,e){try{t.container.addComponent(e)}catch(n){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(jp.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;jp.set(e,t);for(const n of Uh.values())ny(n,t);for(const n of yA.values())ny(n,t);return!0}function Id(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ki(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new Fu("app","Firebase",wA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=_A;function JE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Vp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Rs.create("bad-app-name",{appName:String(r)});if(n||(n=ZE()),!n)throw Rs.create("no-options");const o=Uh.get(r);if(o){if(Fh(n,o.options)&&Fh(i,o.config))return o;throw Rs.create("duplicate-app",{appName:r})}const l=new RR(r);for(const d of jp.values())l.addComponent(d);const h=new EA(n,i,l);return Uh.set(r,h),h}function lg(t=Vp){const e=Uh.get(t);if(!e&&t===Vp&&ZE())return JE();if(!e)throw Rs.create("no-app",{appName:t});return e}function Qi(t,e,n){var i;let r=(i=vA[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(h.join(" "));return}go(new Ls(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebase-heartbeat-database",xA=1,wu="firebase-heartbeat-store";let kf=null;function eT(){return kf||(kf=zR(TA,xA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rs.create("idb-open",{originalErrorMessage:t.message})})),kf}async function IA(t){try{const n=(await eT()).transaction(wu),i=await n.objectStore(wu).get(tT(t));return await n.done,i}catch(e){if(e instanceof rr)mo.warn(e.message);else{const n=Rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mo.warn(n.message)}}}async function iy(t,e){try{const i=(await eT()).transaction(wu,"readwrite");await i.objectStore(wu).put(e,tT(t)),await i.done}catch(n){if(n instanceof rr)mo.warn(n.message);else{const i=Rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mo.warn(i.message)}}}function tT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=1024,SA=30*24*60*60*1e3;class CA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ry();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const h=new Date(l.date).valueOf();return Date.now()-h<=SA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ry(),{heartbeatsToSend:i,unsentEntries:r}=RA(this._heartbeatsCache.heartbeats),o=jh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function ry(){return new Date().toISOString().substring(0,10)}function RA(t,e=PA){const n=[];let i=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),sy(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),sy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class AA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?_R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return iy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return iy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sy(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){go(new Ls("platform-logger",e=>new HR(e),"PRIVATE")),go(new Ls("heartbeat",e=>new CA(e),"PRIVATE")),Qi(Mp,ty,t),Qi(Mp,ty,"esm2017"),Qi("fire-js","")}kA("");var bA="firebase",LA="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(bA,LA,"app");var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,nT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function S(){}S.prototype=x.prototype,C.D=x.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(b,M,U){for(var D=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)D[Ie-2]=arguments[Ie];return x.prototype[M].apply(b,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,x,S){S||(S=0);var b=Array(16);if(typeof x=="string")for(var M=0;16>M;++M)b[M]=x.charCodeAt(S++)|x.charCodeAt(S++)<<8|x.charCodeAt(S++)<<16|x.charCodeAt(S++)<<24;else for(M=0;16>M;++M)b[M]=x[S++]|x[S++]<<8|x[S++]<<16|x[S++]<<24;x=C.g[0],S=C.g[1],M=C.g[2];var U=C.g[3],D=x+(U^S&(M^U))+b[0]+3614090360&4294967295;x=S+(D<<7&4294967295|D>>>25),D=U+(M^x&(S^M))+b[1]+3905402710&4294967295,U=x+(D<<12&4294967295|D>>>20),D=M+(S^U&(x^S))+b[2]+606105819&4294967295,M=U+(D<<17&4294967295|D>>>15),D=S+(x^M&(U^x))+b[3]+3250441966&4294967295,S=M+(D<<22&4294967295|D>>>10),D=x+(U^S&(M^U))+b[4]+4118548399&4294967295,x=S+(D<<7&4294967295|D>>>25),D=U+(M^x&(S^M))+b[5]+1200080426&4294967295,U=x+(D<<12&4294967295|D>>>20),D=M+(S^U&(x^S))+b[6]+2821735955&4294967295,M=U+(D<<17&4294967295|D>>>15),D=S+(x^M&(U^x))+b[7]+4249261313&4294967295,S=M+(D<<22&4294967295|D>>>10),D=x+(U^S&(M^U))+b[8]+1770035416&4294967295,x=S+(D<<7&4294967295|D>>>25),D=U+(M^x&(S^M))+b[9]+2336552879&4294967295,U=x+(D<<12&4294967295|D>>>20),D=M+(S^U&(x^S))+b[10]+4294925233&4294967295,M=U+(D<<17&4294967295|D>>>15),D=S+(x^M&(U^x))+b[11]+2304563134&4294967295,S=M+(D<<22&4294967295|D>>>10),D=x+(U^S&(M^U))+b[12]+1804603682&4294967295,x=S+(D<<7&4294967295|D>>>25),D=U+(M^x&(S^M))+b[13]+4254626195&4294967295,U=x+(D<<12&4294967295|D>>>20),D=M+(S^U&(x^S))+b[14]+2792965006&4294967295,M=U+(D<<17&4294967295|D>>>15),D=S+(x^M&(U^x))+b[15]+1236535329&4294967295,S=M+(D<<22&4294967295|D>>>10),D=x+(M^U&(S^M))+b[1]+4129170786&4294967295,x=S+(D<<5&4294967295|D>>>27),D=U+(S^M&(x^S))+b[6]+3225465664&4294967295,U=x+(D<<9&4294967295|D>>>23),D=M+(x^S&(U^x))+b[11]+643717713&4294967295,M=U+(D<<14&4294967295|D>>>18),D=S+(U^x&(M^U))+b[0]+3921069994&4294967295,S=M+(D<<20&4294967295|D>>>12),D=x+(M^U&(S^M))+b[5]+3593408605&4294967295,x=S+(D<<5&4294967295|D>>>27),D=U+(S^M&(x^S))+b[10]+38016083&4294967295,U=x+(D<<9&4294967295|D>>>23),D=M+(x^S&(U^x))+b[15]+3634488961&4294967295,M=U+(D<<14&4294967295|D>>>18),D=S+(U^x&(M^U))+b[4]+3889429448&4294967295,S=M+(D<<20&4294967295|D>>>12),D=x+(M^U&(S^M))+b[9]+568446438&4294967295,x=S+(D<<5&4294967295|D>>>27),D=U+(S^M&(x^S))+b[14]+3275163606&4294967295,U=x+(D<<9&4294967295|D>>>23),D=M+(x^S&(U^x))+b[3]+4107603335&4294967295,M=U+(D<<14&4294967295|D>>>18),D=S+(U^x&(M^U))+b[8]+1163531501&4294967295,S=M+(D<<20&4294967295|D>>>12),D=x+(M^U&(S^M))+b[13]+2850285829&4294967295,x=S+(D<<5&4294967295|D>>>27),D=U+(S^M&(x^S))+b[2]+4243563512&4294967295,U=x+(D<<9&4294967295|D>>>23),D=M+(x^S&(U^x))+b[7]+1735328473&4294967295,M=U+(D<<14&4294967295|D>>>18),D=S+(U^x&(M^U))+b[12]+2368359562&4294967295,S=M+(D<<20&4294967295|D>>>12),D=x+(S^M^U)+b[5]+4294588738&4294967295,x=S+(D<<4&4294967295|D>>>28),D=U+(x^S^M)+b[8]+2272392833&4294967295,U=x+(D<<11&4294967295|D>>>21),D=M+(U^x^S)+b[11]+1839030562&4294967295,M=U+(D<<16&4294967295|D>>>16),D=S+(M^U^x)+b[14]+4259657740&4294967295,S=M+(D<<23&4294967295|D>>>9),D=x+(S^M^U)+b[1]+2763975236&4294967295,x=S+(D<<4&4294967295|D>>>28),D=U+(x^S^M)+b[4]+1272893353&4294967295,U=x+(D<<11&4294967295|D>>>21),D=M+(U^x^S)+b[7]+4139469664&4294967295,M=U+(D<<16&4294967295|D>>>16),D=S+(M^U^x)+b[10]+3200236656&4294967295,S=M+(D<<23&4294967295|D>>>9),D=x+(S^M^U)+b[13]+681279174&4294967295,x=S+(D<<4&4294967295|D>>>28),D=U+(x^S^M)+b[0]+3936430074&4294967295,U=x+(D<<11&4294967295|D>>>21),D=M+(U^x^S)+b[3]+3572445317&4294967295,M=U+(D<<16&4294967295|D>>>16),D=S+(M^U^x)+b[6]+76029189&4294967295,S=M+(D<<23&4294967295|D>>>9),D=x+(S^M^U)+b[9]+3654602809&4294967295,x=S+(D<<4&4294967295|D>>>28),D=U+(x^S^M)+b[12]+3873151461&4294967295,U=x+(D<<11&4294967295|D>>>21),D=M+(U^x^S)+b[15]+530742520&4294967295,M=U+(D<<16&4294967295|D>>>16),D=S+(M^U^x)+b[2]+3299628645&4294967295,S=M+(D<<23&4294967295|D>>>9),D=x+(M^(S|~U))+b[0]+4096336452&4294967295,x=S+(D<<6&4294967295|D>>>26),D=U+(S^(x|~M))+b[7]+1126891415&4294967295,U=x+(D<<10&4294967295|D>>>22),D=M+(x^(U|~S))+b[14]+2878612391&4294967295,M=U+(D<<15&4294967295|D>>>17),D=S+(U^(M|~x))+b[5]+4237533241&4294967295,S=M+(D<<21&4294967295|D>>>11),D=x+(M^(S|~U))+b[12]+1700485571&4294967295,x=S+(D<<6&4294967295|D>>>26),D=U+(S^(x|~M))+b[3]+2399980690&4294967295,U=x+(D<<10&4294967295|D>>>22),D=M+(x^(U|~S))+b[10]+4293915773&4294967295,M=U+(D<<15&4294967295|D>>>17),D=S+(U^(M|~x))+b[1]+2240044497&4294967295,S=M+(D<<21&4294967295|D>>>11),D=x+(M^(S|~U))+b[8]+1873313359&4294967295,x=S+(D<<6&4294967295|D>>>26),D=U+(S^(x|~M))+b[15]+4264355552&4294967295,U=x+(D<<10&4294967295|D>>>22),D=M+(x^(U|~S))+b[6]+2734768916&4294967295,M=U+(D<<15&4294967295|D>>>17),D=S+(U^(M|~x))+b[13]+1309151649&4294967295,S=M+(D<<21&4294967295|D>>>11),D=x+(M^(S|~U))+b[4]+4149444226&4294967295,x=S+(D<<6&4294967295|D>>>26),D=U+(S^(x|~M))+b[11]+3174756917&4294967295,U=x+(D<<10&4294967295|D>>>22),D=M+(x^(U|~S))+b[2]+718787259&4294967295,M=U+(D<<15&4294967295|D>>>17),D=S+(U^(M|~x))+b[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+U&4294967295}i.prototype.u=function(C,x){x===void 0&&(x=C.length);for(var S=x-this.blockSize,b=this.B,M=this.h,U=0;U<x;){if(M==0)for(;U<=S;)r(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<x;)if(b[M++]=C.charCodeAt(U++),M==this.blockSize){r(this,b),M=0;break}}else for(;U<x;)if(b[M++]=C[U++],M==this.blockSize){r(this,b),M=0;break}}this.h=M,this.o+=x},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;var S=8*this.o;for(x=C.length-8;x<C.length;++x)C[x]=S&255,S/=256;for(this.u(C),C=Array(16),x=S=0;4>x;++x)for(var b=0;32>b;b+=8)C[S++]=this.g[x]>>>b&255;return C};function o(C,x){var S=h;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=x(C)}function l(C,x){this.h=x;for(var S=[],b=!0,M=C.length-1;0<=M;M--){var U=C[M]|0;b&&U==x||(S[M]=U,b=!1)}this.g=S}var h={};function d(C){return-128<=C&&128>C?o(C,function(x){return new l([x|0],0>x?-1:0)}):new l([C|0],0>C?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return z(p(-C));for(var x=[],S=1,b=0;C>=S;b++)x[b]=C/S|0,S*=4294967296;return new l(x,0)}function _(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return z(_(C.substring(1),x));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=p(Math.pow(x,8)),b=y,M=0;M<C.length;M+=8){var U=Math.min(8,C.length-M),D=parseInt(C.substring(M,M+U),x);8>U?(U=p(Math.pow(x,U)),b=b.j(U).add(p(D))):(b=b.j(S),b=b.add(p(D)))}return b}var y=d(0),w=d(1),N=d(16777216);t=l.prototype,t.m=function(){if(k(this))return-z(this).m();for(var C=0,x=1,S=0;S<this.g.length;S++){var b=this.i(S);C+=(0<=b?b:4294967296+b)*x,x*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(k(this))return"-"+z(this).toString(C);for(var x=p(Math.pow(C,6)),S=this,b="";;){var M=$(S,x).g;S=A(S,M.j(x));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=M,O(S))return U+b;for(;6>U.length;)U="0"+U;b=U+b}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(var x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function k(C){return C.h==-1}t.l=function(C){return C=A(this,C),k(C)?-1:O(C)?0:1};function z(C){for(var x=C.g.length,S=[],b=0;b<x;b++)S[b]=~C.g[b];return new l(S,~C.h).add(w)}t.abs=function(){return k(this)?z(this):this},t.add=function(C){for(var x=Math.max(this.g.length,C.g.length),S=[],b=0,M=0;M<=x;M++){var U=b+(this.i(M)&65535)+(C.i(M)&65535),D=(U>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);b=D>>>16,U&=65535,D&=65535,S[M]=D<<16|U}return new l(S,S[S.length-1]&-2147483648?-1:0)};function A(C,x){return C.add(z(x))}t.j=function(C){if(O(this)||O(C))return y;if(k(this))return k(C)?z(this).j(z(C)):z(z(this).j(C));if(k(C))return z(this.j(z(C)));if(0>this.l(N)&&0>C.l(N))return p(this.m()*C.m());for(var x=this.g.length+C.g.length,S=[],b=0;b<2*x;b++)S[b]=0;for(b=0;b<this.g.length;b++)for(var M=0;M<C.g.length;M++){var U=this.i(b)>>>16,D=this.i(b)&65535,Ie=C.i(M)>>>16,_t=C.i(M)&65535;S[2*b+2*M]+=D*_t,P(S,2*b+2*M),S[2*b+2*M+1]+=U*_t,P(S,2*b+2*M+1),S[2*b+2*M+1]+=D*Ie,P(S,2*b+2*M+1),S[2*b+2*M+2]+=U*Ie,P(S,2*b+2*M+2)}for(b=0;b<x;b++)S[b]=S[2*b+1]<<16|S[2*b];for(b=x;b<2*x;b++)S[b]=0;return new l(S,0)};function P(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function R(C,x){this.g=C,this.h=x}function $(C,x){if(O(x))throw Error("division by zero");if(O(C))return new R(y,y);if(k(C))return x=$(z(C),x),new R(z(x.g),z(x.h));if(k(x))return x=$(C,z(x)),new R(z(x.g),x.h);if(30<C.g.length){if(k(C)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var S=w,b=x;0>=b.l(C);)S=X(S),b=X(b);var M=j(S,1),U=j(b,1);for(b=j(b,2),S=j(S,2);!O(b);){var D=U.add(b);0>=D.l(C)&&(M=M.add(S),U=D),b=j(b,1),S=j(S,1)}return x=A(C,M.j(x)),new R(M,x)}for(M=y;0<=C.l(x);){for(S=Math.max(1,Math.floor(C.m()/x.m())),b=Math.ceil(Math.log(S)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),U=p(S),D=U.j(x);k(D)||0<D.l(C);)S-=b,U=p(S),D=U.j(x);O(U)&&(U=w),M=M.add(U),C=A(C,D)}return new R(M,C)}t.A=function(C){return $(this,C).h},t.and=function(C){for(var x=Math.max(this.g.length,C.g.length),S=[],b=0;b<x;b++)S[b]=this.i(b)&C.i(b);return new l(S,this.h&C.h)},t.or=function(C){for(var x=Math.max(this.g.length,C.g.length),S=[],b=0;b<x;b++)S[b]=this.i(b)|C.i(b);return new l(S,this.h|C.h)},t.xor=function(C){for(var x=Math.max(this.g.length,C.g.length),S=[],b=0;b<x;b++)S[b]=this.i(b)^C.i(b);return new l(S,this.h^C.h)};function X(C){for(var x=C.g.length+1,S=[],b=0;b<x;b++)S[b]=C.i(b)<<1|C.i(b-1)>>>31;return new l(S,C.h)}function j(C,x){var S=x>>5;x%=32;for(var b=C.g.length-S,M=[],U=0;U<b;U++)M[U]=0<x?C.i(U+S)>>>x|C.i(U+S+1)<<32-x:C.i(U+S);return new l(M,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,nT=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=_,oo=l}).apply(typeof oy<"u"?oy:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iT,rT,Ol,sT,ih,Fp,oT,aT,lT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function r(u,m){if(m)e:{var v=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var W=u[I];if(!(W in v))break e;v=v[W]}u=u[u.length-1],I=v[u],m=m(I),m!=I&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function o(u,m){u instanceof String&&(u+="");var v=0,I=!1,W={next:function(){if(!I&&v<u.length){var Q=v++;return{value:m(Q,u[Q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}r("Array.prototype.values",function(u){return u||function(){return o(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function d(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),u.apply(m,W)}}return function(){return u.apply(m,arguments)}}function w(u,m,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:y,w.apply(null,arguments)}function N(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function O(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,W,Q){for(var se=Array(arguments.length-2),et=2;et<arguments.length;et++)se[et-2]=arguments[et];return m.prototype[W].apply(I,se)}}function k(u){const m=u.length;if(0<m){const v=Array(m);for(let I=0;I<m;I++)v[I]=u[I];return v}return[]}function z(u,m){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(d(I)){const W=u.length||0,Q=I.length||0;u.length=W+Q;for(let se=0;se<Q;se++)u[W+se]=I[se]}else u.push(I)}}class A{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(u){return/^[\s\xa0]*$/.test(u)}function R(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function $(u){return $[" "](u),u}$[" "]=function(){};var X=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function j(u,m,v){for(const I in u)m.call(v,u[I],I,u)}function C(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let v,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(v in I)u[v]=I[v];for(let Q=0;Q<S.length;Q++)v=S[Q],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function U(u){h.setTimeout(()=>{throw u},0)}function D(){var u=pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ie{constructor(){this.h=this.g=null}add(m,v){const I=_t.get();I.set(m,v),this.h?this.h.next=I:this.g=I,this.h=I}}var _t=new A(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,Y=!1,pe=new Ie,ee=()=>{const u=h.Promise.resolve(void 0);Ae=()=>{u.then(ue)}};var ue=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(v){U(v)}var m=_t;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}Y=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u}();function ve(u,m){if(ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(X){e:{try{$(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ge[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ve.aa.h.call(this)}}O(ve,ye);var ge={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),sn=0;function Ao(u,m,v,I,W){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!I,this.ha=W,this.key=++sn,this.da=this.fa=!1}function Oi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mi(u){this.src=u,this.g={},this.h=0}Mi.prototype.add=function(u,m,v,I,W){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var se=In(u,m,I,W);return-1<se?(m=u[se],v||(m.fa=!1)):(m=new Ao(m,this.src,Q,!!I,W),m.fa=v,u.push(m)),m};function ht(u,m){var v=m.type;if(v in u.g){var I=u.g[v],W=Array.prototype.indexOf.call(I,m,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(I,W,1),Q&&(Oi(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function In(u,m,v,I){for(var W=0;W<u.length;++W){var Q=u[W];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==I)return W}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),Br={};function On(u,m,v,I,W){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)On(u,m[Q],v,I,W);return null}return v=Vi(v),u&&u[st]?u.K(m,v,p(I)?!!I.capture:!!I,W):Bs(u,m,v,!1,I,W)}function Bs(u,m,v,I,W,Q){if(!m)throw Error("Invalid event type");var se=p(W)?!!W.capture:!!W,et=qr(u);if(et||(u[zr]=et=new Mi(u)),v=et.add(m,v,I,se,Q),v.proxy)return v;if(I=$r(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)Ee||(W=se),W===void 0&&(W=!1),u.addEventListener(m.toString(),I,W);else if(u.attachEvent)u.attachEvent(Wr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $r(){function u(v){return m.call(u.src,u.listener,v)}const m=ko;return u}function $s(u,m,v,I,W){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)$s(u,m[Q],v,I,W);else I=p(I)?!!I.capture:!!I,v=Vi(v),u&&u[st]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],v=In(Q,v,I,W),-1<v&&(Oi(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=qr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=In(m,v,I,W)),(v=-1<u?m[u]:null)&&Hr(v))}function Hr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[st])ht(m.i,u);else{var v=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(v,I,u.capture):m.detachEvent?m.detachEvent(Wr(v),I):m.addListener&&m.removeListener&&m.removeListener(I),(v=qr(m))?(ht(v,u),v.h==0&&(v.src=null,m[zr]=null)):Oi(u)}}}function Wr(u){return u in Br?Br[u]:Br[u]="on"+u}function ko(u,m){if(u.da)u=!0;else{m=new ve(m,this);var v=u.listener,I=u.ha||u.src;u.fa&&Hr(u),u=v.call(I,m)}return u}function qr(u){return u=u[zr],u instanceof Mi?u:null}var pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vi(u){return typeof u=="function"?u:(u[pi]||(u[pi]=function(m){return u.handleEvent(m)}),u[pi])}function vt(){me.call(this),this.i=new Mi(this),this.M=this,this.F=null}O(vt,me),vt.prototype[st]=!0,vt.prototype.removeEventListener=function(u,m,v,I){$s(this,u,m,v,I)};function Ct(u,m){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new ye(m,u);else if(m instanceof ye)m.target=m.target||u;else{var W=m;m=new ye(I,u),b(m,W)}if(W=!0,v)for(var Q=v.length-1;0<=Q;Q--){var se=m.g=v[Q];W=on(se,I,!0,m)&&W}if(se=m.g=u,W=on(se,I,!0,m)&&W,W=on(se,I,!1,m)&&W,v)for(Q=0;Q<v.length;Q++)se=m.g=v[Q],W=on(se,I,!1,m)&&W}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],I=0;I<v.length;I++)Oi(v[I]);delete u.g[m],u.h--}}this.F=null},vt.prototype.K=function(u,m,v,I){return this.i.add(String(u),m,!1,v,I)},vt.prototype.L=function(u,m,v,I){return this.i.add(String(u),m,!0,v,I)};function on(u,m,v,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,Q=0;Q<m.length;++Q){var se=m[Q];if(se&&!se.da&&se.capture==v){var et=se.listener,Dt=se.ha||se.src;se.fa&&ht(u.i,se),W=et.call(Dt,I)!==!1&&W}}return W&&!I.defaultPrevented}function Pn(u,m,v){if(typeof u=="function")v&&(u=w(u,v));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function Kr(u){u.g=Pn(()=>{u.g=null,u.i&&(u.i=!1,Kr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class or extends me{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){me.call(this),this.h=u,this.g={}}O(ar,me);var Sn=[];function lr(u){j(u.g,function(m,v){this.g.hasOwnProperty(v)&&Hr(m)},u),u.g={}}ar.prototype.N=function(){ar.aa.N.call(this),lr(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=h.JSON.stringify,bo=h.JSON.parse,cr=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Zr(){}Zr.prototype.h=null;function hr(u){return u.h||(u.h=u.i())}function Gr(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){ye.call(this,"d")}O(mi,ye);function dr(){ye.call(this,"c")}O(dr,ye);var gi={},Hs=null;function Qr(){return Hs=Hs||new vt}gi.La="serverreachability";function Ws(u){ye.call(this,gi.La,u)}O(Ws,ye);function _i(u){const m=Qr();Ct(m,new Ws(m))}gi.STAT_EVENT="statevent";function vi(u,m){ye.call(this,gi.STAT_EVENT,u),this.stat=m}O(vi,ye);function Ut(u){const m=Qr();Ct(m,new vi(m,u))}gi.Ma="timingevent";function Lo(u,m){ye.call(this,gi.Ma,u),this.size=m}O(Lo,ye);function F(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function B(){this.g=!0}B.prototype.xa=function(){this.g=!1};function Z(u,m,v,I,W,Q){u.info(function(){if(u.g)if(Q)for(var se="",et=Q.split("&"),Dt=0;Dt<et.length;Dt++){var qe=et[Dt].split("=");if(1<qe.length){var rt=qe[0];qe=qe[1];var Et=rt.split("_");se=2<=Et.length&&Et[1]=="type"?se+(rt+"="+qe+"&"):se+(rt+"=redacted&")}}else se=null;else se=Q;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+m+`
`+v+`
`+se})}function H(u,m,v,I,W,Q,se){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+m+`
`+v+`
`+Q+" "+se})}function oe(u,m,v,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(u,v)+(I?" "+I:"")})}function de(u,m){u.info(function(){return"TIMEOUT: "+m})}B.prototype.info=function(){};function we(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var se=1;se<W.length;se++)W[se]=""}}}}return ur(v)}catch{return m}}var re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function ce(){}O(ce,Zr),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},_e=new ce;function Me(u,m,v,I){this.j=u,this.i=m,this.l=v,this.R=I||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}var Ge={},$e={};function yt(u,m,v){u.L=1,u.v=ei(At(m)),u.m=v,u.P=!0,ot(u,null)}function ot(u,m){u.F=Date.now(),Mn(u),u.A=At(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Ju(v.i,"t",I),u.C=0,v=u.j.J,u.h=new Be,u.g=oc(u.j,v?m:null,!u.m),0<u.O&&(u.M=new or(w(u.Y,u,u.g),u.O)),m=u.U,v=u.g,I=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(Sn[0]=W.toString()),W=Sn);for(var Q=0;Q<W.length;Q++){var se=On(v,W[Q],I||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),_i(),Z(u.i,u.u,u.A,u.l,u.R,u.m)}Me.prototype.ca=function(u){u=u.target;const m=this.M;m&&gn(u)==3?m.j():this.Y(u)},Me.prototype.Y=function(u){try{if(u==this.g)e:{const Et=gn(this.g);var m=this.g.Ba();const ns=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||al(this.g)))){this.J||Et!=4||m==7||(m==8||0>=ns?_i(3):_i(2)),Qn(this);var v=this.g.Z();this.X=v;t:if(ji(this)){var I=al(this.g);u="";var W=I.length,Q=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),Wt(this);var se="";break t}this.h.i=new h.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(Q&&m==W-1)});I.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,H(this.i,this.u,this.A,this.l,this.R,Et,v),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Dt=this.g;if((et=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(et)){var qe=et;break t}}qe=null}if(v=qe)oe(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yn(this,v);else{this.o=!1,this.s=3,Ut(12),Cn(this),Wt(this);break e}}if(this.P){v=!0;let Lt;for(;!this.J&&this.C<se.length;)if(Lt=mn(this,se),Lt==$e){Et==4&&(this.s=4,Ut(14),v=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Ge){this.s=4,Ut(15),oe(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else oe(this.i,this.l,Lt,null),Yn(this,Lt);if(ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||se.length!=0||this.h.h||(this.s=1,Ut(16),v=!1),this.o=this.o&&v,!v)oe(this.i,this.l,se,"[Invalid Chunked Response]"),Cn(this),Wt(this);else if(0<se.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),zo(rt),rt.M=!0,Ut(11))}}else oe(this.i,this.l,se,null),Yn(this,se);Et==4&&Cn(this),this.o&&!this.J&&(Et==4?ul(this.j,this):(this.o=!1,Mn(this)))}else $d(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Cn(this),Wt(this)}}}catch{}finally{}};function ji(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function mn(u,m){var v=u.C,I=m.indexOf(`
`,v);return I==-1?$e:(v=Number(m.substring(v,I)),isNaN(v)?Ge:(I+=1,I+v>m.length?$e:(m=m.slice(I,I+v),u.C=I+v,m)))}Me.prototype.cancel=function(){this.J=!0,Cn(this)};function Mn(u){u.S=Date.now()+u.I,yi(u,u.I)}function yi(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=F(w(u.ba,u),m)}function Qn(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Me.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(de(this.i,this.A),this.L!=2&&(_i(),Ut(17)),Cn(this),this.s=2,Wt(this)):yi(this,this.S-u)};function Wt(u){u.j.G==0||u.J||ul(u.j,u)}function Cn(u){Qn(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,lr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Yn(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||he(v.h,u))){if(!u.K&&he(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)$o(v),Fo(v);else break e;Uo(v),Ut(18)}}else v.za=W[1],0<v.za-v.T&&37500>W[2]&&v.F&&v.v==0&&!v.C&&(v.C=F(w(v.Za,v),6e3));if(1>=Rt(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else gr(v,11)}else if((u.K||v.g==u)&&$o(v),!P(m))for(W=v.Da.g.parse(m),m=0;m<W.length;m++){let qe=W[m];if(v.T=qe[0],qe=qe[1],v.G==2)if(qe[0]=="c"){v.K=qe[1],v.ia=qe[2];const rt=qe[3];rt!=null&&(v.la=rt,v.j.info("VER="+v.la));const Et=qe[4];Et!=null&&(v.Aa=Et,v.j.info("SVER="+v.Aa));const ns=qe[5];ns!=null&&typeof ns=="number"&&0<ns&&(I=1.5*ns,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Lt=u.g;if(Lt){const Wo=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wo){var Q=I.h;Q.g||Wo.indexOf("spdy")==-1&&Wo.indexOf("quic")==-1&&Wo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Fe(Q,Q.h),Q.h=null))}if(I.D){const Bi=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bi&&(I.ya=Bi,ke(I.I,I.D,Bi))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var se=u;if(I.qa=Ho(I,I.J?I.ia:null,I.W),se.K){Fi(I.h,se);var et=se,Dt=I.L;Dt&&(et.I=Dt),et.B&&(Qn(et),Mn(et)),I.g=se}else xi(I);0<v.i.length&&ts(v)}else qe[0]!="stop"&&qe[0]!="close"||gr(v,7);else v.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?gr(v,7):jo(v):qe[0]!="noop"&&v.l&&v.l.ta(qe),v.v=0)}}_i(4)}catch{}}var Xn=class{constructor(u,m){this.g=u,this.map=m}};function be(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nt(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rt(u){return u.h?1:u.g?u.g.size:0}function he(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fe(u,m){u.g?u.g.add(m):u.h=m}function Fi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}be.prototype.cancel=function(){if(this.i=wi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wi(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return k(u.i)}function Yr(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(d(u)){for(var m=[],v=u.length,I=0;I<v;I++)m.push(u[I]);return m}m=[],v=0;for(I in u)m[v++]=u[I];return m}function Ga(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(d(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const I in u)m[v++]=I;return m}}}function De(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(d(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ga(u),I=Yr(u),W=I.length,Q=0;Q<W;Q++)m.call(void 0,I[Q],v&&v[Q],u)}var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),W=null;if(0<=I){var Q=u[v].substring(0,I);W=u[v].substring(I+1)}else Q=u[v];m(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Jn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Jn){this.h=u.h,No(this,u.j),this.o=u.o,this.g=u.g,fr(this,u.s),this.l=u.l;var m=u.i,v=new pr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ui(this,v),this.m=u.m}else u&&(m=String(u).match(pt))?(this.h=!1,No(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),fr(this,m[4]),this.l=Ei(m[5]||"",!0),Ui(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}Jn.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ti(m,Xr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ti(m,Xr,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ti(v,v.charAt(0)=="/"?Ja:Xa,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ti(v,el)),u.join("")};function At(u){return new Jn(u)}function No(u,m,v){u.j=v?Ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ui(u,m,v){m instanceof pr?(u.i=m,ti(u.i,u.h)):(v||(m=Ti(m,Do)),u.i=new pr(m,u.h))}function ke(u,m,v){u.i.set(m,v)}function ei(u){return ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ti(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Ya),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ya(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xr=/[#\/\?@]/g,Xa=/[#\?:]/g,Ja=/[#\?]/g,Do=/[#\?@]/g,el=/#/g;function pr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=pr.prototype,t.add=function(u,m){Vn(this),this.i=null,u=Pe(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function tl(u,m){Vn(u),m=Pe(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return Vn(u),m=Pe(u,m),u.g.has(m)}t.forEach=function(u,m){Vn(this),this.g.forEach(function(v,I){v.forEach(function(W){u.call(m,W,I,this)},this)},this)},t.na=function(){Vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let I=0;I<m.length;I++){const W=u[I];for(let Q=0;Q<W.length;Q++)v.push(m[I])}return v},t.V=function(u){Vn(this);let m=[];if(typeof u=="string")Oo(this,u)&&(m=m.concat(this.g.get(Pe(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},t.set=function(u,m){return Vn(this),this.i=null,u=Pe(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ju(u,m,v){tl(u,m),0<v.length&&(u.i=null,u.g.set(Pe(u,m),k(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var I=m[v];const Q=encodeURIComponent(String(I)),se=this.V(I);for(I=0;I<se.length;I++){var W=Q;se[I]!==""&&(W+="="+encodeURIComponent(String(se[I]))),u.push(W)}}return this.i=u.join("&")};function Pe(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ti(u,m){m&&!u.j&&(Vn(u),u.i=null,u.g.forEach(function(v,I){var W=I.toLowerCase();I!=W&&(tl(this,I),Ju(this,W,v))},u)),u.j=m}function it(u,m){const v=new B;if(h.Image){const I=new Image;I.onload=N(ni,v,"TestLoadImage: loaded",!0,m,I),I.onerror=N(ni,v,"TestLoadImage: error",!1,m,I),I.onabort=N(ni,v,"TestLoadImage: abort",!1,m,I),I.ontimeout=N(ni,v,"TestLoadImage: timeout",!1,m,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function ec(u,m){const v=new B,I=new AbortController,W=setTimeout(()=>{I.abort(),ni(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(Q=>{clearTimeout(W),Q.ok?ni(v,"TestPingServer: ok",!0,m):ni(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),ni(v,"TestPingServer: error",!1,m)})}function ni(u,m,v,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(v)}catch{}}function nl(){this.g=new cr}function il(u,m,v){const I=v||"";try{De(u,function(W,Q){let se=W;p(W)&&(se=ur(W)),m.push(I+Q+"="+encodeURIComponent(se))})}catch(W){throw m.push(I+"type="+encodeURIComponent("_badmap")),W}}function jn(u){this.l=u.Ub||null,this.j=u.eb||!1}O(jn,Zr),jn.prototype.g=function(){return new Jr(this.l,this.j)},jn.prototype.i=function(u){return function(){return u}}({});function Jr(u,m){vt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Jr,vt),t=Jr.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wt(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;es(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function es(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?wt(this):Fn(this),this.readyState==3&&es(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,wt(this))},t.Qa=function(u){this.g&&(this.response=u,wt(this))},t.ga=function(){this.g&&wt(this)};function wt(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function rl(u){let m="";return j(u,function(v,I){m+=I,m+=":",m+=v,m+=`\r
`}),m}function Mo(u,m,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=rl(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ke(u,m,v))}function mt(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(mt,vt);var tc=/^https?$/i,sl=["POST","PUT"];t=mt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?hr(this.o):hr(_e),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){nc(this,Q);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)v.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())v.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(sl,m,void 0))||I||W||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of v)this.g.setRequestHeader(Q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rn(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){nc(this,Q)}};function nc(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ol(u),Vo(u)}function ol(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ct(this,"complete"),Ct(this,"abort"),Vo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vo(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ue(this):this.bb())},t.bb=function(){Ue(this)};function Ue(u){if(u.h&&typeof l<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)Pn(u.Ea,0,u);else if(Ct(u,"readystatechange"),gn(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var I;if(I=se===0){var W=String(u.D).match(pt)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),I=!tc.test(W?W.toLowerCase():"")}v=I}if(v)Ct(u,"complete"),Ct(u,"success");else{u.m=6;try{var Q=2<gn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",ol(u)}}finally{Vo(u)}}}}function Vo(u,m){if(u.g){Rn(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ct(u,"ready");try{v.onreadystatechange=I}catch{}}}function Rn(u){u.I&&(h.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bo(m)}};function al(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $d(u){const m={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(P(u[I]))continue;var v=M(u[I]);const W=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[W]||[];m[W]=Q,Q.push(v)}C(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ic(u){this.Aa=0,this.i=[],this.j=new B,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mr("baseRetryDelayMs",5e3,u),this.cb=mr("retryDelaySeedMs",1e4,u),this.Wa=mr("forwardChannelMaxRetries",2,u),this.wa=mr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new be(u&&u.concurrentRequestLimit),this.Da=new nl,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ic.prototype,t.la=8,t.G=1,t.connect=function(u,m,v,I){Ut(0),this.W=u,this.H=m||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Ho(this,null,this.W),ts(this)};function jo(u){if(rc(u),u.G==3){var m=u.U++,v=At(u.I);if(ke(v,"SID",u.K),ke(v,"RID",m),ke(v,"TYPE","terminate"),qs(u,v),m=new Me(u,u.j,m),m.L=2,m.v=ei(At(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.v,v=!0),v||(m.g=oc(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Mn(m)}sc(u)}function Fo(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function rc(u){Fo(u),u.u&&(h.clearTimeout(u.u),u.u=null),$o(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function ts(u){if(!nt(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ae||ee(),Y||(Ae(),Y=!0),pe.add(m,u),u.B=0}}function Hd(u,m){return Rt(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=F(w(u.Ga,u,m),cl(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new Me(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=x(Q),b(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ll(this,W,m),v=At(this.I),ke(v,"RID",u),ke(v,"CVER",22),this.D&&ke(v,"X-HTTP-Session-Id",this.D),qs(this,v),Q&&(this.O?m="headers="+encodeURIComponent(String(rl(Q)))+"&"+m:this.m&&Mo(v,this.m,Q)),Fe(this.h,W),this.Ua&&ke(v,"TYPE","init"),this.P?(ke(v,"$req",m),ke(v,"SID","null"),W.T=!0,yt(W,v,null)):yt(W,v,m),this.G=2}}else this.G==3&&(u?Un(this,u):this.i.length==0||nt(this.h)||Un(this))};function Un(u,m){var v;m?v=m.l:v=u.U++;const I=At(u.I);ke(I,"SID",u.K),ke(I,"RID",v),ke(I,"AID",u.T),qs(u,I),u.m&&u.o&&Mo(I,u.m,u.o),v=new Me(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ll(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fe(u.h,v),yt(v,I,m)}function qs(u,m){u.H&&j(u.H,function(v,I){ke(m,I,v)}),u.l&&De({},function(v,I){ke(m,I,v)})}function ll(u,m,v){v=Math.min(u.i.length,v);var I=u.l?w(u.l.Na,u.l,u):null;e:{var W=u.i;let Q=-1;for(;;){const se=["count="+v];Q==-1?0<v?(Q=W[0].g,se.push("ofs="+Q)):Q=0:se.push("ofs="+Q);let et=!0;for(let Dt=0;Dt<v;Dt++){let qe=W[Dt].g;const rt=W[Dt].map;if(qe-=Q,0>qe)Q=Math.max(0,W[Dt].g-100),et=!1;else try{il(rt,se,"req"+qe+"_")}catch{I&&I(rt)}}if(et){I=se.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,I}function xi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ae||ee(),Y||(Ae(),Y=!0),pe.add(m,u),u.v=0}}function Uo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=F(w(u.Fa,u),cl(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Bo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=F(w(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Fo(this),Bo(this))};function zo(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Bo(u){u.g=new Me(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=At(u.qa);ke(m,"RID","rpc"),ke(m,"SID",u.K),ke(m,"AID",u.T),ke(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ke(m,"TO",u.ja),ke(m,"TYPE","xmlhttp"),qs(u,m),u.m&&u.o&&Mo(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ei(At(m)),v.m=null,v.P=!0,ot(v,u)}t.Za=function(){this.C!=null&&(this.C=null,Fo(this),Uo(this),Ut(19))};function $o(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function ul(u,m){var v=null;if(u.g==m){$o(u),zo(u),u.g=null;var I=2}else if(he(u.h,m))v=m.D,Fi(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var W=u.B;I=Qr(),Ct(I,new Lo(I,v)),ts(u)}else xi(u);else if(W=m.s,W==3||W==0&&0<m.X||!(I==1&&Hd(u,m)||I==2&&Uo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),W){case 1:gr(u,5);break;case 4:gr(u,10);break;case 3:gr(u,6);break;default:gr(u,2)}}}function cl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function gr(u,m){if(u.j.info("Error code "+m),m==2){var v=w(u.fb,u),I=u.Xa;const W=!I;I=new Jn(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||No(I,"https"),ei(I),W?it(I.toString(),v):ec(I.toString(),v)}else Ut(2);u.G=0,u.l&&u.l.sa(m),sc(u),rc(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function sc(u){if(u.G=0,u.ka=[],u.l){const m=wi(u.h);(m.length!=0||u.i.length!=0)&&(z(u.ka,m),z(u.ka,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.ra()}}function Ho(u,m,v){var I=v instanceof Jn?At(v):new Jn(v);if(I.g!="")m&&(I.g=m+"."+I.g),fr(I,I.s);else{var W=h.location;I=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var Q=new Jn(null);I&&No(Q,I),m&&(Q.g=m),W&&fr(Q,W),v&&(Q.l=v),I=Q}return v=u.D,m=u.ya,v&&m&&ke(I,v,m),ke(I,"VER",u.la),qs(u,I),I}function oc(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new mt(new jn({eb:v})):new mt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hl(){}t=hl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ks(){}Ks.prototype.g=function(u,m){return new qt(u,m)};function qt(u,m){vt.call(this),this.g=new ic(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!P(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!P(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ii(this)}O(qt,vt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){jo(this.g)},qt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ur(u),u=v);m.i.push(new Xn(m.Ya++,u)),m.G==3&&ts(m)},qt.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,qt.aa.N.call(this)};function zi(u){mi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(zi,mi);function ac(){dr.call(this),this.status=1}O(ac,dr);function ii(u){this.g=u}O(ii,hl),ii.prototype.ua=function(){Ct(this.g,"a")},ii.prototype.ta=function(u){Ct(this.g,new zi(u))},ii.prototype.sa=function(u){Ct(this.g,new ac)},ii.prototype.ra=function(){Ct(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,lT=function(){return new Ks},aT=function(){return Qr()},oT=gi,Fp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},re.NO_ERROR=0,re.TIMEOUT=8,re.HTTP_ERROR=6,ih=re,Ce.COMPLETE="complete",sT=Ce,Gr.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ol=Gr,rT=jn,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,iT=mt}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const ay="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new og("@firebase/firestore");function Cl(){return _o.logLevel}function fe(t,...e){if(_o.logLevel<=We.DEBUG){const n=e.map(ug);_o.debug(`Firestore (${$a}): ${t}`,...n)}}function Or(t,...e){if(_o.logLevel<=We.ERROR){const n=e.map(ug);_o.error(`Firestore (${$a}): ${t}`,...n)}}function La(t,...e){if(_o.logLevel<=We.WARN){const n=e.map(ug);_o.warn(`Firestore (${$a}): ${t}`,...n)}}function ug(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t="Unexpected state"){const e=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+t;throw Or(e),new Error(e)}function ct(t,e){t||Le()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class DA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OA{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new As;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new As,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new As)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string"),new uT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new cn(e)}}class MA{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VA{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new MA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string"),this.R=n.token,new jA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=UA(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}}function Ye(t,e){return t<e?-1:t>e?1:0}function Na(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new xe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Ht(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Ht(0,0))}static max(){return new Ne(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,i){n===void 0?n=0:n>e.length&&Le(),i===void 0?i=e.length-n:i>e.length-n&&Le(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Eu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Eu?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=e.get(r),l=n.get(r);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class bt extends Eu{construct(e,n,i){return new bt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new xe(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const zA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Eu{construct(e,n,i){return new Jt(e,n,i)}static isValidIdentifier(e){return zA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new xe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new xe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else h==="`"?(l=!l,r++):h!=="."||l?(i+=h,r++):(o(),r++)}if(o(),l)throw new xe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(bt.fromString(e))}static fromName(e){return new Te(bt.fromString(e).popFirst(5))}static empty(){return new Te(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new bt(e.slice()))}}function BA(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ne.fromTimestamp(i===1e9?new Ht(n+1,0):new Ht(n,i));return new Ns(r,Te.empty(),e)}function $A(t){return new Ns(t.readTime,t.key,-1)}class Ns{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ns(Ne.min(),Te.empty(),-1)}static max(){return new Ns(Ne.max(),Te.empty(),-1)}}function HA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==WA)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,i)=>{n(e)})}static reject(e){return new te((n,i)=>{i(e)})}static waitFor(e){return new te((n,i)=>{let r=0,o=0,l=!1;e.forEach(h=>{++r,h.next(()=>{++o,l&&o===r&&n()},d=>i(d))}),l=!0,o===r&&n()})}static or(e){let n=te.resolve(!1);for(const i of e)n=n.next(r=>r?te.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new te((i,r)=>{const o=e.length,l=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next(_=>{l[p]=_,++h,h===o&&i(l)},_=>r(_))}})}static doWhile(e,n){return new te((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}function KA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}cg.oe=-1;function Pd(t){return t==null}function zh(t){return t===0&&1/t==-1/0}function ZA(t){return typeof t=="number"&&Number.isInteger(t)&&!zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??Xt.RED,this.left=r??Xt.EMPTY,this.right=o??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new Xt(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Xt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uy(this.data.getIterator())}getIteratorFrom(e){return new uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Ai([])}unionWith(e){let n=new tn(Jt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dT("Invalid base64 string: "+o):o}}(e);return new pn(n)}static fromUint8Array(e){const n=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const GA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(t){if(ct(!!t),typeof t=="string"){let e=0;const n=GA.exec(t);if(ct(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vo(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dg(t){const e=t.mapValue.fields.__previous_value__;return hg(e)?dg(e):e}function Tu(t){const e=Ds(t.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,i,r,o,l,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}class xu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hg(t)?4:YA(t)?9007199254740991:10:Le()}function tr(t,e){if(t===e)return!0;const n=yo(t);if(n!==yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tu(t).isEqual(Tu(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Ds(r.timestampValue),h=Ds(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return vo(r.bytesValue).isEqual(vo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return jt(r.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(r.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return jt(r.integerValue)===jt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=jt(r.doubleValue),h=jt(o.doubleValue);return l===h?zh(l)===zh(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return Na(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(ly(l)!==ly(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!tr(l[d],h[d])))return!1;return!0}(t,e);default:return Le()}}function Iu(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function Da(t,e){if(t===e)return 0;const n=yo(t),i=yo(e);if(n!==i)return Ye(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(o,l){const h=jt(o.integerValue||o.doubleValue),d=jt(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return cy(t.timestampValue,e.timestampValue);case 4:return cy(Tu(t),Tu(e));case 5:return Ye(t.stringValue,e.stringValue);case 6:return function(o,l){const h=vo(o),d=vo(l);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),d=l.split("/");for(let p=0;p<h.length&&p<d.length;p++){const _=Ye(h[p],d[p]);if(_!==0)return _}return Ye(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Ye(jt(o.latitude),jt(l.latitude));return h!==0?h:Ye(jt(o.longitude),jt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],d=l.values||[];for(let p=0;p<h.length&&p<d.length;++p){const _=Da(h[p],d[p]);if(_)return _}return Ye(h.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===jc.mapValue&&l===jc.mapValue)return 0;if(o===jc.mapValue)return 1;if(l===jc.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=l.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let y=0;y<d.length&&y<_.length;++y){const w=Ye(d[y],_[y]);if(w!==0)return w;const N=Da(h[d[y]],p[_[y]]);if(N!==0)return N}return Ye(d.length,_.length)}(t.mapValue,e.mapValue);default:throw Le()}}function cy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=Ds(t),i=Ds(e),r=Ye(n.seconds,i.seconds);return r!==0?r:Ye(n.nanos,i.nanos)}function Oa(t){return Up(t)}function Up(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ds(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=Up(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${Up(n.fields[l])}`;return r+"}"}(t.mapValue):Le()}function zp(t){return!!t&&"integerValue"in t}function fg(t){return!!t&&"arrayValue"in t}function hy(t){return!!t&&"nullValue"in t}function dy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rh(t){return!!t&&"mapValue"in t}function Zl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ha(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Zl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=Jt.emptyPath(),i={},r=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=h.popLast()}l?i[h.lastSegment()]=Zl(l):r.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];rh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Ha(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new ai(Zl(this.value))}}function fT(t){const e=[];return Ha(t.fields,(n,i)=>{const r=new Jt([n]);if(rh(i)){const o=fT(i.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)}),new Ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,i,r,o,l,h){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new dn(e,0,Ne.min(),Ne.min(),Ne.min(),ai.empty(),0)}static newFoundDocument(e,n,i,r){return new dn(e,1,n,Ne.min(),i,r,0)}static newNoDocument(e,n){return new dn(e,2,n,Ne.min(),Ne.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Ne.min(),Ne.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function fy(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],l=t.position[r];if(o.field.isKeyField()?i=Te.comparator(Te.fromName(l.referenceValue),n.key):i=Da(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function py(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n="asc"){this.field=e,this.dir=n}}function XA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{}class Bt extends pT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new ek(e,n,i):n==="array-contains"?new ik(e,i):n==="in"?new rk(e,i):n==="not-in"?new sk(e,i):n==="array-contains-any"?new ok(e,i):new Bt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new tk(e,i):new nk(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Da(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(Da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends pT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nr(e,n)}matches(e){return mT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mT(t){return t.op==="and"}function gT(t){return JA(t)&&mT(t)}function JA(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Bp(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+Oa(t.value);if(gT(t))return t.filters.map(e=>Bp(e)).join(",");{const e=t.filters.map(n=>Bp(n)).join(",");return`${t.op}(${e})`}}function _T(t,e){return t instanceof Bt?function(i,r){return r instanceof Bt&&i.op===r.op&&i.field.isEqual(r.field)&&tr(i.value,r.value)}(t,e):t instanceof nr?function(i,r){return r instanceof nr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,l,h)=>o&&_T(l,r.filters[h]),!0):!1}(t,e):void Le()}function vT(t){return t instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Oa(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(vT).join(" ,")+"}"}(t):"Filter"}class ek extends Bt{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class tk extends Bt{constructor(e,n){super(e,"in",n),this.keys=yT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nk extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=yT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Te.fromName(i.referenceValue))}class ik extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&Iu(n.arrayValue,this.value)}}class rk extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class sk extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Iu(this.value.arrayValue,n)}}class ok extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Iu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n=null,i=[],r=[],o=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=h,this.ue=null}}function my(t,e=null,n=[],i=[],r=null,o=null,l=null){return new ak(t,e,n,i,r,o,l)}function pg(t){const e=Oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Bp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Oa(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Oa(i)).join(",")),e.ue=n}return e.ue}function mg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_T(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!py(t.startAt,e.startAt)&&py(t.endAt,e.endAt)}function $p(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n=null,i=[],r=[],o=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=h,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lk(t,e,n,i,r,o,l,h){return new Sd(t,e,n,i,r,o,l,h)}function gg(t){return new Sd(t)}function gy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uk(t){return t.collectionGroup!==null}function Gl(t){const e=Oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new tn(Jt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new $h(o,i))}),n.has(Jt.keyField().canonicalString())||e.ce.push(new $h(Jt.keyField(),i))}return e.ce}function Yi(t){const e=Oe(t);return e.le||(e.le=ck(e,Gl(t))),e.le}function ck(t,e){if(t.limitType==="F")return my(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new $h(r.field,o)});const n=t.endAt?new Bh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Bh(t.startAt.position,t.startAt.inclusive):null;return my(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Hp(t,e,n){return new Sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cd(t,e){return mg(Yi(t),Yi(e))&&t.limitType===e.limitType}function wT(t){return`${pg(Yi(t))}|lt:${t.limitType}`}function Xo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>vT(r)).join(", ")}]`),Pd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Oa(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Oa(r)).join(",")),`Target(${i})`}(Yi(t))}; limitType=${t.limitType})`}function Rd(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Te.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of Gl(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(l,h,d){const p=fy(l,h,d);return l.inclusive?p<=0:p<0}(i.startAt,Gl(i),r)||i.endAt&&!function(l,h,d){const p=fy(l,h,d);return l.inclusive?p>=0:p>0}(i.endAt,Gl(i),r))}(t,e)}function hk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ET(t){return(e,n)=>{let i=!1;for(const r of Gl(t)){const o=dk(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function dk(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):function(o,l,h){const d=l.data.field(o),p=h.data.field(o);return d!==null&&p!==null?Da(d,p):Le()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return hT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new St(Te.comparator);function Mr(){return fk}const TT=new St(Te.comparator);function Ml(...t){let e=TT;for(const n of t)e=e.insert(n.key,n);return e}function xT(t){let e=TT;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function io(){return Ql()}function IT(){return Ql()}function Ql(){return new Wa(t=>t.toString(),(t,e)=>t.isEqual(e))}const pk=new St(Te.comparator),mk=new tn(Te.comparator);function He(...t){let e=mk;for(const n of t)e=e.add(n);return e}const gk=new tn(Ye);function _k(){return gk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function ST(t){return{integerValue:""+t}}function vk(t,e){return ZA(e)?ST(e):PT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function yk(t,e,n){return t instanceof Hh?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&hg(o)&&(o=dg(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof Pu?RT(t,e):t instanceof Su?AT(t,e):function(r,o){const l=CT(r,o),h=_y(l)+_y(r.Pe);return zp(l)&&zp(r.Pe)?ST(h):PT(r.serializer,h)}(t,e)}function wk(t,e,n){return t instanceof Pu?RT(t,e):t instanceof Su?AT(t,e):n}function CT(t,e){return t instanceof Wh?function(i){return zp(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Hh extends Ad{}class Pu extends Ad{constructor(e){super(),this.elements=e}}function RT(t,e){const n=kT(e);for(const i of t.elements)n.some(r=>tr(r,i))||n.push(i);return{arrayValue:{values:n}}}class Su extends Ad{constructor(e){super(),this.elements=e}}function AT(t,e){let n=kT(e);for(const i of t.elements)n=n.filter(r=>!tr(r,i));return{arrayValue:{values:n}}}class Wh extends Ad{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function _y(t){return jt(t.integerValue||t.doubleValue)}function kT(t){return fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ek(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Pu&&r instanceof Pu||i instanceof Su&&r instanceof Su?Na(i.elements,r.elements,tr):i instanceof Wh&&r instanceof Wh?tr(i.Pe,r.Pe):i instanceof Hh&&r instanceof Hh}(t.transform,e.transform)}class Tk{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kd{}function bT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new NT(t.key,Ar.none()):new $u(t.key,t.data,Ar.none());{const n=t.data,i=ai.empty();let r=new tn(Jt.comparator);for(let o of e.fields)if(!r.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new So(t.key,i,new Ai(r.toArray()),Ar.none())}}function xk(t,e,n){t instanceof $u?function(r,o,l){const h=r.value.clone(),d=yy(r.fieldTransforms,o,l.transformResults);h.setAll(d),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof So?function(r,o,l){if(!sh(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=yy(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(LT(r)),d.setAll(h),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Yl(t,e,n,i){return t instanceof $u?function(o,l,h,d){if(!sh(o.precondition,l))return h;const p=o.value.clone(),_=wy(o.fieldTransforms,d,l);return p.setAll(_),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof So?function(o,l,h,d){if(!sh(o.precondition,l))return h;const p=wy(o.fieldTransforms,d,l),_=l.data;return _.setAll(LT(o)),_.setAll(p),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,i):function(o,l,h){return sh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function Ik(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=CT(i.transform,r||null);o!=null&&(n===null&&(n=ai.empty()),n.set(i.field,o))}return n||null}function vy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Na(i,r,(o,l)=>Ek(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $u extends kd{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class So extends kd{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function yy(t,e,n){const i=new Map;ct(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],l=o.transform,h=e.data.field(o.field);i.set(o.field,wk(l,h,n[r]))}return i}function wy(t,e,n){const i=new Map;for(const r of t){const o=r.transform,l=n.data.field(r.field);i.set(r.field,yk(o,l,e))}return i}class NT extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pk extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&xk(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Yl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Yl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=IT();return this.mutations.forEach(r=>{const o=e.get(r.key),l=o.overlayedDocument;let h=this.applyToLocalView(l,o.mutatedFields);h=n.has(r.key)?null:h;const d=bT(l,h);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,(n,i)=>vy(n,i))&&Na(this.baseMutations,e.baseMutations,(n,i)=>vy(n,i))}}class _g{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ct(e.mutations.length===i.length);let r=function(){return pk}();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new _g(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ke;function Ak(t){switch(t){default:return Le();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function DT(t){if(t===void 0)return Or("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Mt.OK:return ne.OK;case Mt.CANCELLED:return ne.CANCELLED;case Mt.UNKNOWN:return ne.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ne.INTERNAL;case Mt.UNAVAILABLE:return ne.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ne.NOT_FOUND;case Mt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Mt.ABORTED:return ne.ABORTED;case Mt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Mt.DATA_LOSS:return ne.DATA_LOSS;default:return Le()}}(Ke=Mt||(Mt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new oo([4294967295,4294967295],0);function Ey(t){const e=kk().encode(t),n=new nT;return n.update(e),new Uint8Array(n.digest())}function Ty(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oo([n,i],0),new oo([r,o],0)]}class vg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(i<0)throw new Vl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=oo.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(oo.fromNumber(i)));return r.compare(bk)===1&&(r=new oo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ey(e),[i,r]=Ty(n);for(let o=0;o<this.hashCount;o++){const l=this.Ee(i,r,o);if(!this.de(l))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new vg(o,r,n);return i.forEach(h=>l.insert(h)),l}insert(e){if(this.Ie===0)return;const n=Ey(e),[i,r]=Ty(n);for(let o=0;o<this.hashCount;o++){const l=this.Ee(i,r,o);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new bd(Ne.min(),r,new St(Ye),Mr(),He())}}class Hu{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Hu(i,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class OT{constructor(e,n){this.targetId=e,this.me=n}}class MT{constructor(e,n,i=pn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class xy{constructor(){this.fe=0,this.ge=Py(),this.pe=pn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=He(),n=He(),i=He();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Le()}}),new Hu(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=Py()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Lk{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=Iy(),this.Qe=new St(Ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const o=r.target;if($p(o))if(i===0){const l=new Te(o.path);this.Ue(n,l,dn.newNoDocument(l,Ne.min()))}else ct(i===1);else{const l=this.Ye(n);if(l!==i){const h=this.Ze(e),d=h?this.Xe(h,e,l):1;if(d!==0){this.je(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let l,h;try{l=vo(i).toUint8Array()}catch(d){if(d instanceof dT)return La("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new vg(l,r,o)}catch(d){return La(d instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ie===0?null:h}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const l=this.Le.tt(),h=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,o,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((o,l)=>{const h=this.Je(l);if(h){if(o.current&&$p(h.target)){const d=new Te(h.target.path);this.ke.get(d)!==null||this.it(l,d)||this.Ue(l,d,dn.newNoDocument(d,e))}o.be&&(n.set(l,o.Ce()),o.ve())}});let i=He();this.qe.forEach((o,l)=>{let h=!0;l.forEachWhile(d=>{const p=this.Je(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const r=new bd(e,n,this.Qe,this.ke,i);return this.ke=Mr(),this.qe=Iy(),this.Qe=new St(Ye),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new xy,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(Ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Iy(){return new St(Te.comparator)}function Py(){return new St(Te.comparator)}const Nk={asc:"ASCENDING",desc:"DESCENDING"},Dk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ok={and:"AND",or:"OR"};class Mk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wp(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vk(t,e){return qh(t,e.toTimestamp())}function Xi(t){return ct(!!t),Ne.fromTimestamp(function(n){const i=Ds(n);return new Ht(i.seconds,i.nanos)}(t))}function yg(t,e){return qp(t,e).canonicalString()}function qp(t,e){const n=function(r){return new bt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jT(t){const e=bt.fromString(t);return ct($T(e)),e}function Kp(t,e){return yg(t.databaseId,e.path)}function bf(t,e){const n=jT(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(UT(n))}function FT(t,e){return yg(t.databaseId,e)}function jk(t){const e=jT(t);return e.length===4?bt.emptyPath():UT(e)}function Zp(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UT(t){return ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Sy(t,e,n){return{name:Kp(t,e),fields:n.value.mapValue.fields}}function Fk(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(p,_){return p.useProto3Json?(ct(_===void 0||typeof _=="string"),pn.fromBase64String(_||"")):(ct(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),pn.fromUint8Array(_||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const _=p.code===void 0?ne.UNKNOWN:DT(p.code);return new xe(_,p.message||"")}(l);n=new MT(i,r,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=bf(t,i.document.name),o=Xi(i.document.updateTime),l=i.document.createTime?Xi(i.document.createTime):Ne.min(),h=new ai({mapValue:{fields:i.document.fields}}),d=dn.newFoundDocument(r,o,l,h),p=i.targetIds||[],_=i.removedTargetIds||[];n=new oh(p,_,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=bf(t,i.document),o=i.readTime?Xi(i.readTime):Ne.min(),l=dn.newNoDocument(r,o),h=i.removedTargetIds||[];n=new oh([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=bf(t,i.document),o=i.removedTargetIds||[];n=new oh([],o,r,null)}else{if(!("filter"in e))return Le();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new Rk(r,o),h=i.targetId;n=new OT(h,l)}}return n}function Uk(t,e){let n;if(e instanceof $u)n={update:Sy(t,e.key,e.value)};else if(e instanceof NT)n={delete:Kp(t,e.key)};else if(e instanceof So)n={update:Sy(t,e.key,e.data),updateMask:Gk(e.fieldMask)};else{if(!(e instanceof Pk))return Le();n={verify:Kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const h=l.transform;if(h instanceof Hh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Pu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Su)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Wh)return{fieldPath:l.field.canonicalString(),increment:h.Pe};throw Le()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Vk(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le()}(t,e.precondition)),n}function zk(t,e){return t&&t.length>0?(ct(e!==void 0),t.map(n=>function(r,o){let l=r.updateTime?Xi(r.updateTime):Xi(o);return l.isEqual(Ne.min())&&(l=Xi(o)),new Tk(l,r.transformResults||[])}(n,e))):[]}function Bk(t,e){return{documents:[FT(t,e.path)]}}function $k(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=FT(t,r);const o=function(p){if(p.length!==0)return BT(nr.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(_=>function(w){return{field:Jo(w.field),direction:qk(w.dir)}}(_))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=Wp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{_t:n,parent:r}}function Hk(t){let e=jk(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ct(i===1);const _=n.from[0];_.allDescendants?r=_.collectionId:e=e.child(_.collectionId)}let o=[];n.where&&(o=function(y){const w=zT(y);return w instanceof nr&&gT(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(w=>function(O){return new $h(ea(O.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(w))}(n.orderBy));let h=null;n.limit&&(h=function(y){let w;return w=typeof y=="object"?y.value:y,Pd(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(y){const w=!!y.before,N=y.values||[];return new Bh(N,w)}(n.startAt));let p=null;return n.endAt&&(p=function(y){const w=!y.before,N=y.values||[];return new Bh(N,w)}(n.endAt)),lk(e,r,l,o,h,"F",d,p)}function Wk(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ea(n.unaryFilter.field);return Bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ea(n.unaryFilter.field);return Bt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ea(n.unaryFilter.field);return Bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ea(n.unaryFilter.field);return Bt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(t):t.fieldFilter!==void 0?function(n){return Bt.create(ea(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(i=>zT(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Le()}}(n.compositeFilter.op))}(t):Le()}function qk(t){return Nk[t]}function Kk(t){return Dk[t]}function Zk(t){return Ok[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function ea(t){return Jt.fromServerFormat(t.fieldPath)}function BT(t){return t instanceof Bt?function(n){if(n.op==="=="){if(dy(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(hy(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dy(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(hy(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:Kk(n.op),value:n.value}}}(t):t instanceof nr?function(n){const i=n.getFilters().map(r=>BT(r));return i.length===1?i[0]:{compositeFilter:{op:Zk(n.op),filters:i}}}(t):Le()}function Gk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $T(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,i,r,o=Ne.min(),l=Ne.min(),h=pn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.ct=e}}function Yk(t){const e=Hk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this._n=new Jk}addToCollectionParentIndex(e,n){return this._n.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ns.min())}updateCollectionGroup(e,n,i){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class Jk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new tn(bt.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new tn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ma(0)}static Ln(){return new Ma(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.changes=new Wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Yl(i.mutation,r,Ai.empty(),Ht.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,n,i=He()){const r=io();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let l=Ml();return o.forEach((h,d)=>{l=l.insert(h,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=io();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,He()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,i,r){let o=Mr();const l=Ql(),h=function(){return Ql()}();return n.forEach((d,p)=>{const _=i.get(p.key);r.has(p.key)&&(_===void 0||_.mutation instanceof So)?o=o.insert(p.key,p):_!==void 0?(l.set(p.key,_.mutation.getFieldMask()),Yl(_.mutation,p,_.mutation.getFieldMask(),Ht.now())):l.set(p.key,Ai.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,_)=>l.set(p,_)),n.forEach((p,_)=>{var y;return h.set(p,new tb(_,(y=l.get(p))!==null&&y!==void 0?y:null))}),h))}recalculateAndSaveOverlays(e,n){const i=Ql();let r=new St((l,h)=>l-h),o=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let _=i.get(d)||Ai.empty();_=h.applyToLocalView(p,_),i.set(d,_);const y=(r.get(h.batchId)||He()).add(d);r=r.insert(h.batchId,y)})}).next(()=>{const l=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,_=d.value,y=IT();_.forEach(w=>{if(!o.has(w)){const N=bT(n.get(w),i.get(w));N!==null&&y.set(w,N),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return te.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(l){return Te.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):te.resolve(io());let h=-1,d=o;return l.next(p=>te.forEach(p,(_,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{d=d.insert(_,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,He())).next(_=>({batchId:h,changes:xT(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(i=>{let r=Ml();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let l=Ml();return this.indexManager.getCollectionParents(e,o).next(h=>te.forEach(h,d=>{const p=function(y,w){return new Sd(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,i,r).next(_=>{_.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(l=>{o.forEach((d,p)=>{const _=p.getKey();l.get(_)===null&&(l=l.insert(_,dn.newInvalidDocument(_)))});let h=Ml();return l.forEach((d,p)=>{const _=o.get(d);_!==void 0&&Yl(_.mutation,p,Ai.empty(),Ht.now()),Rd(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return te.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Xi(r.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:Yk(r.bundledQuery),readTime:Xi(r.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.overlays=new St(Te.comparator),this.hr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=io();return te.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),te.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),te.resolve()}getOverlaysForCollection(e,n,i){const r=io(),o=n.length+1,l=new Te(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return te.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new St((p,_)=>p-_);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let _=o.get(p.largestBatchId);_===null&&(_=io(),o=o.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const h=io(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,_)=>h.set(p,_)),!(h.size()>=r)););return te.resolve(h)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Ck(n,i));let o=this.hr.get(n);o===void 0&&(o=He(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.Pr=new tn(Zt.Ir),this.Tr=new tn(Zt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new Zt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Zt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new Te(new bt([])),i=new Zt(n,e),r=new Zt(n,e+1),o=[];return this.Tr.forEachInRange([i,r],l=>{this.Ar(l),o.push(l.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Te(new bt([])),i=new Zt(n,e),r=new Zt(n,e+1);let o=He();return this.Tr.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Zt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Zt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Te.comparator(e.key,n.key)||Ye(e.pr,n.pr)}static Er(e,n){return Ye(e.pr,n.pr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new tn(Zt.Ir)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Sk(o,n,i,r);this.mutationQueue.push(l);for(const h of r)this.wr=this.wr.add(new Zt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.br(i),o=r<0?0:r;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Zt(n,0),r=new Zt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],l=>{const h=this.Sr(l.pr);o.push(h)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new tn(Ye);return n.forEach(r=>{const o=new Zt(r,0),l=new Zt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,l],h=>{i=i.add(h.pr)})}),te.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;Te.isDocumentKey(o)||(o=o.child(""));const l=new Zt(new Te(o),0);let h=new tn(Ye);return this.wr.forEachWhile(d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(h=h.add(d.pr)),!0)},l),te.resolve(this.Dr(h))}Dr(e){const n=[];return e.forEach(i=>{const r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ct(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return te.forEach(n.mutations,r=>{const o=new Zt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new Zt(n,0),r=this.wr.firstAfterOrEqual(i);return te.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.vr=e,this.docs=function(){return new St(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,l=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return te.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let i=Mr();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():dn.newInvalidDocument(r))}),te.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Mr();const l=n.path,h=new Te(l.child("")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:_}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||HA($A(_),i)<=0||(r.has(_.key)||Rd(n,_))&&(o=o.insert(_.key,_.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Le()}Fr(e,n){return te.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new ab(this)}getSize(e){return te.resolve(this.size)}}class ab extends eb{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),te.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.persistence=e,this.Mr=new Wa(n=>pg(n),mg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new wg,this.targetCount=0,this.Lr=Ma.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),te.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ma(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.qn(n),te.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.Mr.forEach((l,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Mr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),te.waitFor(o).next(()=>r)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return te.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),te.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(l=>{o.push(r.markPotentiallyOrphaned(e,l))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return te.resolve(i)}containsKey(e,n){return te.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.Br={},this.overlays={},this.kr=new cg(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new lb(this),this.indexManager=new Xk,this.remoteDocumentCache=function(r){return new ob(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Qk(n),this.$r=new ib(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new sb(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const r=new cb(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return te.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class cb extends qA{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.zr=new wg,this.jr=null}static Hr(e){return new Eg(e)}get Jr(){if(this.jr)return this.jr;throw Le()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),te.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),te.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Jr,i=>{const r=Te.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,Ne.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return te.or([()=>te.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=He(),r=He();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Tg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return mR()?8:KA(rn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.ji(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new hb;return this.Ji(e,n,l).next(h=>{if(o.result=h,this.Ui)return this.Yi(e,n,l,h.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Cl()<=We.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),te.resolve()):(Cl()<=We.DEBUG&&fe("QueryEngine","Query:",Xo(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Cl()<=We.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):te.resolve())}ji(e,n){if(gy(n))return te.resolve(null);let i=Yi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Hp(n,null,"F"),i=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=He(...o);return this.zi.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,i).next(d=>{const p=this.Zi(n,h);return this.Xi(n,p,l,d.readTime)?this.ji(e,Hp(n,null,"F")):this.es(e,p,n,d)}))})))}Hi(e,n,i,r){return gy(n)||r.isEqual(Ne.min())?te.resolve(null):this.zi.getDocuments(e,i).next(o=>{const l=this.Zi(n,o);return this.Xi(n,l,i,r)?te.resolve(null):(Cl()<=We.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xo(n)),this.es(e,l,n,BA(r,-1)).next(h=>h))})}Zi(e,n){let i=new tn(ET(e));return n.forEach((r,o)=>{Rd(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return Cl()<=We.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Xo(n)),this.zi.getDocumentsMatchingQuery(e,n,Ns.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new St(Ye),this.rs=new Wa(o=>pg(o),mg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nb(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function mb(t,e,n,i){return new pb(t,e,n,i)}async function HT(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],h=[];let d=He();for(const p of r){l.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}for(const p of o){h.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}return n.localDocuments.getDocuments(i,d).next(p=>({us:p,removedBatchIds:l,addedBatchIds:h}))})})}function gb(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(h,d,p,_){const y=p.batch,w=y.keys();let N=te.resolve();return w.forEach(O=>{N=N.next(()=>_.getEntry(d,O)).next(k=>{const z=p.docVersions.get(O);ct(z!==null),k.version.compareTo(z)<0&&(y.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),_.addEntry(k)))})}),N.next(()=>h.mutationQueue.removeMutationBatch(d,y))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=He();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function WT(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function _b(t,e){const n=Oe(t),i=e.snapshotVersion;let r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;const h=[];e.targetChanges.forEach((_,y)=>{const w=r.get(y);if(!w)return;h.push(n.Qr.removeMatchingKeys(o,_.removedDocuments,y).next(()=>n.Qr.addMatchingKeys(o,_.addedDocuments,y)));let N=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?N=N.withResumeToken(pn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,i)),r=r.insert(y,N),function(k,z,A){return k.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(w,N,_)&&h.push(n.Qr.updateTargetData(o,N))});let d=Mr(),p=He();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,_))}),h.push(vb(o,l,e.documentUpdates).next(_=>{d=_.cs,p=_.ls})),!i.isEqual(Ne.min())){const _=n.Qr.getLastRemoteSnapshotVersion(o).next(y=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(_)}return te.waitFor(h).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(n.ns=r,o))}function vb(t,e,n){let i=He(),r=He();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Mr();return n.forEach((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(Ne.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):fe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{cs:l,ls:r}})}function yb(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function wb(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,te.resolve(r)):n.Qr.allocateTargetId(i).next(l=>(r=new _s(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}async function Gp(t,e,n){const i=Oe(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!Bu(l))throw l;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)}function Cy(t,e,n){const i=Oe(t);let r=Ne.min(),o=He();return i.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,_){const y=Oe(d),w=y.rs.get(_);return w!==void 0?te.resolve(y.ns.get(w)):y.Qr.getTargetData(p,_)}(i,l,Yi(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(l,h.targetId).next(d=>{o=d})}).next(()=>i.ts.getDocumentsMatchingQuery(l,e,n?r:Ne.min(),n?o:He())).next(h=>(Eb(i,hk(e),h),{documents:h,hs:o})))}function Eb(t,e,n){let i=t.ss.get(e)||Ne.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}class Ry{constructor(){this.activeTargetIds=_k()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tb{constructor(){this.no=new Ry,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ry,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function Lf(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class Sb extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(n,i,r,o,l){const h=Lf(),d=this.vo(n,i.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(p,o,l),this.Mo(n,d,p,r).then(_=>(fe("RestConnection",`Received RPC '${n}' ${h}: `,_),_),_=>{throw La("RestConnection",`RPC '${n}' ${h} failed with error: `,_,"url: ",d,"request:",r),_})}xo(n,i,r,o,l,h){return this.Co(n,i,r,o,l)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>n[l]=o),r&&r.headers.forEach((o,l)=>n[l]=o)}vo(n,i){const r=Ib[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){const o=Lf();return new Promise((l,h)=>{const d=new iT;d.setWithCredentials(!0),d.listenOnce(sT.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ih.NO_ERROR:const _=d.getResponseJson();fe(un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(_)),l(_);break;case ih.TIMEOUT:fe(un,`RPC '${e}' ${o} timed out`),h(new xe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const y=d.getStatus();if(fe(un,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const N=w==null?void 0:w.error;if(N&&N.status&&N.message){const O=function(z){const A=z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(A)>=0?A:ne.UNKNOWN}(N.status);h(new xe(O,N.message))}else h(new xe(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new xe(ne.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{fe(un,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(r);fe(un,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",p,i,15)})}Oo(e,n,i){const r=Lf(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=lT(),h=aT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.xmlHttpFactory=new rT({})),this.Fo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const _=o.join("");fe(un,`Creating RPC '${e}' stream ${r}: ${_}`,d);const y=l.createWebChannel(_,d);let w=!1,N=!1;const O=new Pb({lo:z=>{N?fe(un,`Not sending because RPC '${e}' stream ${r} is closed:`,z):(w||(fe(un,`Opening RPC '${e}' stream ${r} transport.`),y.open(),w=!0),fe(un,`RPC '${e}' stream ${r} sending:`,z),y.send(z))},ho:()=>y.close()}),k=(z,A,P)=>{z.listen(A,R=>{try{P(R)}catch($){setTimeout(()=>{throw $},0)}})};return k(y,Ol.EventType.OPEN,()=>{N||(fe(un,`RPC '${e}' stream ${r} transport opened.`),O.mo())}),k(y,Ol.EventType.CLOSE,()=>{N||(N=!0,fe(un,`RPC '${e}' stream ${r} transport closed`),O.po())}),k(y,Ol.EventType.ERROR,z=>{N||(N=!0,La(un,`RPC '${e}' stream ${r} transport errored:`,z),O.po(new xe(ne.UNAVAILABLE,"The operation could not be completed")))}),k(y,Ol.EventType.MESSAGE,z=>{var A;if(!N){const P=z.data[0];ct(!!P);const R=P,$=R.error||((A=R[0])===null||A===void 0?void 0:A.error);if($){fe(un,`RPC '${e}' stream ${r} received error:`,$);const X=$.status;let j=function(S){const b=Mt[S];if(b!==void 0)return DT(b)}(X),C=$.message;j===void 0&&(j=ne.INTERNAL,C="Unknown error status: "+X+" with message "+$.message),N=!0,O.po(new xe(j,C)),y.close()}else fe(un,`RPC '${e}' stream ${r} received:`,P),O.yo(P)}}),k(h,oT.STAT_EVENT,z=>{z.stat===Fp.PROXY?fe(un,`RPC '${e}' stream ${r} detected buffering proxy`):z.stat===Fp.NOPROXY&&fe(un,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.fo()},0),O}}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t){return new Mk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,i,r,o,l,h,d){this.oi=e,this.Go=i,this.zo=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new qT(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{const r=new xe(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){const i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cb extends KT{constructor(e,n,i,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=Fk(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ne.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?Xi(l.readTime):Ne.min()}(e);return this.listener.h_(n,i)}P_(e){const n={};n.database=Zp(this.serializer),n.addTarget=function(o,l){let h;const d=l.target;if(h=$p(d)?{documents:Bk(o,d)}:{query:$k(o,d)._t},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=VT(o,l.resumeToken);const p=Wp(o,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ne.min())>0){h.readTime=qh(o,l.snapshotVersion.toTimestamp());const p=Wp(o,l.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=Wk(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){const n={};n.database=Zp(this.serializer),n.removeTarget=e,this.i_(n)}}class Rb extends KT{constructor(e,n,i,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=zk(e.writeResults,e.commitTime),i=Xi(e.commitTime);return this.listener.A_(i,n)}return ct(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Zp(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Uk(this.serializer,i))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new xe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,qp(n,i),r,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ne.UNKNOWN,o.toString())})}xo(e,n,i,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.xo(e,qp(n,i),r,l,h,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(ne.UNKNOWN,l.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class kb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Or(n),this.y_=!1):fe("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(l=>{i.enqueueAndForget(async()=>{Co(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=Oe(d);p.M_.add(4),await Wu(p),p.N_.set("Unknown"),p.M_.delete(4),await Nd(p)}(this))})}),this.N_=new kb(i,r)}}async function Nd(t){if(Co(t))for(const e of t.x_)await e(!0)}async function Wu(t){for(const e of t.x_)await e(!1)}function ZT(t,e){const n=Oe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Sg(n)?Pg(n):qa(n).Xo()&&Ig(n,e))}function xg(t,e){const n=Oe(t),i=qa(n);n.F_.delete(e),i.Xo()&&GT(n,e),n.F_.size===0&&(i.Xo()?i.n_():Co(n)&&n.N_.set("Unknown"))}function Ig(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qa(t).P_(e)}function GT(t,e){t.L_.xe(e),qa(t).I_(e)}function Pg(t){t.L_=new Lk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qa(t).start(),t.N_.w_()}function Sg(t){return Co(t)&&!qa(t).Zo()&&t.F_.size>0}function Co(t){return Oe(t).M_.size===0}function QT(t){t.L_=void 0}async function Lb(t){t.N_.set("Online")}async function Nb(t){t.F_.forEach((e,n)=>{Ig(t,e)})}async function Db(t,e){QT(t),Sg(t)?(t.N_.D_(e),Pg(t)):t.N_.set("Unknown")}async function Ob(t,e,n){if(t.N_.set("Online"),e instanceof MT&&e.state===2&&e.cause)try{await async function(r,o){const l=o.cause;for(const h of o.targetIds)r.F_.has(h)&&(await r.remoteSyncer.rejectListen(h,l),r.F_.delete(h),r.L_.removeTarget(h))}(t,e)}catch(i){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Kh(t,i)}else if(e instanceof oh?t.L_.Ke(e):e instanceof OT?t.L_.He(e):t.L_.We(e),!n.isEqual(Ne.min()))try{const i=await WT(t.localStore);n.compareTo(i)>=0&&await function(o,l){const h=o.L_.rt(l);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=o.F_.get(p);_&&o.F_.set(p,_.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach((d,p)=>{const _=o.F_.get(d);if(!_)return;o.F_.set(d,_.withResumeToken(pn.EMPTY_BYTE_STRING,_.snapshotVersion)),GT(o,d);const y=new _s(_.target,d,p,_.sequenceNumber);Ig(o,y)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){fe("RemoteStore","Failed to raise snapshot:",i),await Kh(t,i)}}async function Kh(t,e,n){if(!Bu(e))throw e;t.M_.add(1),await Wu(t),t.N_.set("Offline"),n||(n=()=>WT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Nd(t)})}function YT(t,e){return e().catch(n=>Kh(t,n,e))}async function Dd(t){const e=Oe(t),n=Os(e);let i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Mb(e);)try{const r=await yb(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,Vb(e,r)}catch(r){await Kh(e,r)}XT(e)&&JT(e)}function Mb(t){return Co(t)&&t.v_.length<10}function Vb(t,e){t.v_.push(e);const n=Os(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function XT(t){return Co(t)&&!Os(t).Zo()&&t.v_.length>0}function JT(t){Os(t).start()}async function jb(t){Os(t).V_()}async function Fb(t){const e=Os(t);for(const n of t.v_)e.d_(n.mutations)}async function Ub(t,e,n){const i=t.v_.shift(),r=_g.from(i,e,n);await YT(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Dd(t)}async function zb(t,e){e&&Os(t).E_&&await async function(i,r){if(function(l){return Ak(l)&&l!==ne.ABORTED}(r.code)){const o=i.v_.shift();Os(i).t_(),await YT(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Dd(i)}}(t,e),XT(t)&&JT(t)}async function ky(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const i=Co(n);n.M_.add(3),await Wu(n),i&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Nd(n)}async function Bb(t,e){const n=Oe(t);e?(n.M_.delete(2),await Nd(n)):e||(n.M_.add(2),await Wu(n),n.N_.set("Unknown"))}function qa(t){return t.B_||(t.B_=function(n,i,r){const o=Oe(n);return o.f_(),new Cb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:Lb.bind(null,t),To:Nb.bind(null,t),Ao:Db.bind(null,t),h_:Ob.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Sg(t)?Pg(t):t.N_.set("Unknown")):(await t.B_.stop(),QT(t))})),t.B_}function Os(t){return t.k_||(t.k_=function(n,i,r){const o=Oe(n);return o.f_(),new Rb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:jb.bind(null,t),Ao:zb.bind(null,t),R_:Fb.bind(null,t),A_:Ub.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Dd(t)):(await t.k_.stop(),t.v_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const l=Date.now()+i,h=new Cg(e,n,l,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(t,e){if(Or("AsyncQueue",`${e}: ${t}`),Bu(t))return new xe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=Ml(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new wa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new wa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.q_=new St(Te.comparator)}track(e){const n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Va{constructor(e,n,i,r,o,l,h,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,r,o){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new Va(e,n,wa.emptySet(n),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Hb{constructor(){this.queries=new Wa(e=>wT(e),Cd),this.onlineState="Unknown",this.z_=new Set}}async function Wb(t,e){const n=Oe(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.W_()&&e.G_()&&(i=2):(o=new $b,i=e.G_()?0:1);try{switch(i){case 0:o.K_=await n.onListen(r,!0);break;case 1:o.K_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(l){const h=Rg(l,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Ag(n)}async function qb(t,e){const n=Oe(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const l=o.U_.indexOf(e);l>=0&&(o.U_.splice(l,1),o.U_.length===0?r=e.G_()?0:1:!o.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Kb(t,e){const n=Oe(t);let i=!1;for(const r of e){const o=r.query,l=n.queries.get(o);if(l){for(const h of l.U_)h.H_(r)&&(i=!0);l.K_=r}}i&&Ag(n)}function Zb(t,e,n){const i=Oe(t),r=i.queries.get(e);if(r)for(const o of r.U_)o.onError(n);i.queries.delete(e)}function Ag(t){t.z_.forEach(e=>{e.next()})}var Qp,Ly;(Ly=Qp||(Qp={})).J_="default",Ly.Cache="cache";class Gb{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Va(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.key=e}}class t1{constructor(e){this.key=e}}class Qb{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=He(),this.mutatedKeys=He(),this.Ia=ET(e),this.Ta=new wa(this.Ia)}get Ea(){return this.la}da(e,n){const i=n?n.Aa:new by,r=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,l=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,p=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((_,y)=>{const w=r.get(_),N=Rd(this.query,y)?y:null,O=!!w&&this.mutatedKeys.has(w.key),k=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let z=!1;w&&N?w.data.isEqual(N.data)?O!==k&&(i.track({type:3,doc:N}),z=!0):this.Ra(w,N)||(i.track({type:2,doc:N}),z=!0,(d&&this.Ia(N,d)>0||p&&this.Ia(N,p)<0)&&(h=!0)):!w&&N?(i.track({type:0,doc:N}),z=!0):w&&!N&&(i.track({type:1,doc:w}),z=!0,(d||p)&&(h=!0)),z&&(N?(l=l.add(N),o=k?o.add(_):o.delete(_)):(l=l.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const _=this.query.limitType==="F"?l.last():l.first();l=l.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{Ta:l,Aa:i,Xi:h,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const l=e.Aa.Q_();l.sort((_,y)=>function(N,O){const k=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return k(N)-k(O)}(_.type,y.type)||this.Ia(_.doc,y.doc)),this.Va(i),r=r!=null&&r;const h=n&&!r?this.ma():[],d=this.Pa.size===0&&this.current&&!r?1:0,p=d!==this.ha;return this.ha=d,l.length!==0||p?{snapshot:new Va(this.query,e.Ta,o,l,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:h}:{fa:h}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new by,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=He(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new t1(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new e1(i))}),n}pa(e){this.la=e.hs,this.Pa=He();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Va.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class Yb{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Xb{constructor(e){this.key=e,this.wa=!1}}class Jb{constructor(e,n,i,r,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Sa={},this.ba=new Wa(h=>wT(h),Cd),this.Da=new Map,this.Ca=new Set,this.va=new St(Te.comparator),this.Fa=new Map,this.Ma=new wg,this.xa={},this.Oa=new Map,this.Na=Ma.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function eL(t,e,n=!0){const i=a1(t);let r;const o=i.ba.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=await n1(i,e,n,!0),r}async function tL(t,e){const n=a1(t);await n1(n,e,!0,!1)}async function n1(t,e,n,i){const r=await wb(t.localStore,Yi(e)),o=r.targetId,l=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let h;return i&&(h=await nL(t,e,o,l==="current",r.resumeToken)),t.isPrimaryClient&&n&&ZT(t.remoteStore,r),h}async function nL(t,e,n,i,r){t.Ba=(y,w,N)=>async function(k,z,A,P){let R=z.view.da(A);R.Xi&&(R=await Cy(k.localStore,z.query,!1).then(({documents:C})=>z.view.da(C,R)));const $=P&&P.targetChanges.get(z.targetId),X=P&&P.targetMismatches.get(z.targetId)!=null,j=z.view.applyChanges(R,k.isPrimaryClient,$,X);return Dy(k,z.targetId,j.fa),j.snapshot}(t,y,w,N);const o=await Cy(t.localStore,e,!0),l=new Qb(e,o.hs),h=l.da(o.documents),d=Hu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),p=l.applyChanges(h,t.isPrimaryClient,d);Dy(t,n,p.fa);const _=new Yb(e,n,l);return t.ba.set(e,_),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),p.snapshot}async function iL(t,e,n){const i=Oe(t),r=i.ba.get(e),o=i.Da.get(r.targetId);if(o.length>1)return i.Da.set(r.targetId,o.filter(l=>!Cd(l,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Gp(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&xg(i.remoteStore,r.targetId),Yp(i,r.targetId)}).catch(zu)):(Yp(i,r.targetId),await Gp(i.localStore,r.targetId,!0))}async function rL(t,e){const n=Oe(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),xg(n.remoteStore,i.targetId))}async function sL(t,e,n){const i=dL(t);try{const r=await function(l,h){const d=Oe(l),p=Ht.now(),_=h.reduce((N,O)=>N.add(O.key),He());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",N=>{let O=Mr(),k=He();return d.os.getEntries(N,_).next(z=>{O=z,O.forEach((A,P)=>{P.isValidDocument()||(k=k.add(A))})}).next(()=>d.localDocuments.getOverlayedDocuments(N,O)).next(z=>{y=z;const A=[];for(const P of h){const R=Ik(P,y.get(P.key).overlayedDocument);R!=null&&A.push(new So(P.key,R,fT(R.value.mapValue),Ar.exists(!0)))}return d.mutationQueue.addMutationBatch(N,p,A,h)}).next(z=>{w=z;const A=z.applyToLocalDocumentSet(y,k);return d.documentOverlayCache.saveOverlays(N,z.batchId,A)})}).then(()=>({batchId:w.batchId,changes:xT(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,h,d){let p=l.xa[l.currentUser.toKey()];p||(p=new St(Ye)),p=p.insert(h,d),l.xa[l.currentUser.toKey()]=p}(i,r.batchId,n),await qu(i,r.changes),await Dd(i.remoteStore)}catch(r){const o=Rg(r,"Failed to persist write");n.reject(o)}}async function i1(t,e){const n=Oe(t);try{const i=await _b(n.localStore,e);e.targetChanges.forEach((r,o)=>{const l=n.Fa.get(o);l&&(ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.wa=!0:r.modifiedDocuments.size>0?ct(l.wa):r.removedDocuments.size>0&&(ct(l.wa),l.wa=!1))}),await qu(n,i,e)}catch(i){await zu(i)}}function Ny(t,e,n){const i=Oe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ba.forEach((o,l)=>{const h=l.view.j_(e);h.snapshot&&r.push(h.snapshot)}),function(l,h){const d=Oe(l);d.onlineState=h;let p=!1;d.queries.forEach((_,y)=>{for(const w of y.U_)w.j_(h)&&(p=!0)}),p&&Ag(d)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function oL(t,e,n){const i=Oe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Fa.get(e),o=r&&r.key;if(o){let l=new St(Te.comparator);l=l.insert(o,dn.newNoDocument(o,Ne.min()));const h=He().add(o),d=new bd(Ne.min(),new Map,new St(Ye),l,h);await i1(i,d),i.va=i.va.remove(o),i.Fa.delete(e),kg(i)}else await Gp(i.localStore,e,!1).then(()=>Yp(i,e,n)).catch(zu)}async function aL(t,e){const n=Oe(t),i=e.batch.batchId;try{const r=await gb(n.localStore,e);s1(n,i,null),r1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await qu(n,r)}catch(r){await zu(r)}}async function lL(t,e,n){const i=Oe(t);try{const r=await function(l,h){const d=Oe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,h).next(y=>(ct(y!==null),_=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,e);s1(i,e,n),r1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await qu(i,r)}catch(r){await zu(r)}}function r1(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function s1(t,e,n){const i=Oe(t);let r=i.xa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function Yp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||o1(t,i)})}function o1(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(xg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),kg(t))}function Dy(t,e,n){for(const i of n)i instanceof e1?(t.Ma.addReference(i.key,e),uL(t,i)):i instanceof t1?(fe("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||o1(t,i.key)):Le()}function uL(t,e){const n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(fe("SyncEngine","New document in limbo: "+n),t.Ca.add(i),kg(t))}function kg(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Te(bt.fromString(e)),i=t.Na.next();t.Fa.set(i,new Xb(n)),t.va=t.va.insert(n,i),ZT(t.remoteStore,new _s(Yi(gg(n.path)),i,"TargetPurposeLimboResolution",cg.oe))}}async function qu(t,e,n){const i=Oe(t),r=[],o=[],l=[];i.ba.isEmpty()||(i.ba.forEach((h,d)=>{l.push(i.Ba(d,e,n).then(p=>{var _;if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:(_=n==null?void 0:n.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){r.push(p);const y=Tg.Ki(d.targetId,p);o.push(y)}}))}),await Promise.all(l),i.Sa.h_(r),await async function(d,p){const _=Oe(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>te.forEach(p,w=>te.forEach(w.qi,N=>_.persistence.referenceDelegate.addReference(y,w.targetId,N)).next(()=>te.forEach(w.Qi,N=>_.persistence.referenceDelegate.removeReference(y,w.targetId,N)))))}catch(y){if(!Bu(y))throw y;fe("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const N=_.ns.get(w),O=N.snapshotVersion,k=N.withLastLimboFreeSnapshotVersion(O);_.ns=_.ns.insert(w,k)}}}(i.localStore,o))}async function cL(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const i=await HT(n.localStore,e);n.currentUser=e,function(o,l){o.Oa.forEach(h=>{h.forEach(d=>{d.reject(new xe(ne.CANCELLED,l))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await qu(n,i.us)}}function hL(t,e){const n=Oe(t),i=n.Fa.get(e);if(i&&i.wa)return He().add(i.key);{let r=He();const o=n.Da.get(e);if(!o)return r;for(const l of o){const h=n.ba.get(l);r=r.unionWith(h.view.Ea)}return r}}function a1(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oL.bind(null,e),e.Sa.h_=Kb.bind(null,e.eventManager),e.Sa.ka=Zb.bind(null,e.eventManager),e}function dL(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lL.bind(null,e),e}class Oy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ld(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return mb(this.persistence,new fb,e.initialUser,this.serializer)}createPersistence(e){return new ub(Eg.Hr,this.serializer)}createSharedClientState(e){return new Tb}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class fL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ny(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cL.bind(null,this.syncEngine),await Bb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hb}()}createDatastore(e){const n=Ld(e.databaseInfo.databaseId),i=function(o){return new Sb(o)}(e.databaseInfo);return function(o,l,h,d){return new Ab(o,l,h,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,l,h){return new bb(i,r,o,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>Ny(this.syncEngine,n,0),function(){return Ay.D()?new Ay:new xb}())}createSyncEngine(e,n){return function(r,o,l,h,d,p,_){const y=new Jb(r,o,l,h,d,p);return _&&(y.La=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const r=Oe(i);fe("RemoteStore","RemoteStore shutting down."),r.M_.add(5),await Wu(r),r.O_.shutdown(),r.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=cn.UNAUTHENTICATED,this.clientId=cT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Rg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Df(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await HT(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function My(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _L(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>ky(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>ky(e.remoteStore,r)),t._onlineComponents=e}function gL(t){return t.name==="FirebaseError"?t.code===ne.FAILED_PRECONDITION||t.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _L(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Df(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!gL(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await Df(t,new Oy)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await Df(t,new Oy);return t._offlineComponents}async function l1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await My(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await My(t,new fL))),t._onlineComponents}function vL(t){return l1(t).then(e=>e.syncEngine)}async function yL(t){const e=await l1(t),n=e.eventManager;return n.onListen=eL.bind(null,e.syncEngine),n.onUnlisten=iL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rL.bind(null,e.syncEngine),n}function wL(t,e,n={}){const i=new As;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,h,d,p){const _=new pL({next:w=>{l.enqueueAndForget(()=>qb(o,y));const N=w.docs.has(h);!N&&w.fromCache?p.reject(new xe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&d&&d.source==="server"?p.reject(new xe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new Gb(gg(h.path),_,{includeMetadataChanges:!0,ra:!0});return Wb(o,y)}(await yL(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e,n){if(!n)throw new xe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TL(t,e,n,i){if(e===!0&&i===!0)throw new xe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jy(t){if(!Te.isDocumentKey(t))throw new xe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le()}function Cu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bg(t);throw new xe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new xe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new xe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new xe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lg{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new xe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new NA;switch(i.type){case"firstParty":return new VA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Vy.get(n);i&&(fe("ComponentProvider","Removing Datastore"),Vy.delete(n),i.terminate())}(this),Promise.resolve()}}function xL(t,e,n,i={}){var r;const o=(t=Cu(t,Lg))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=cn.MOCK_USER;else{h=QE(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new xe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new cn(p)}t._authCredentials=new DA(new uT(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ng(this.firestore,e,this._query)}}class ci{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ci(this.firestore,e,this._key)}}class Ru extends Ng{constructor(e,n,i){super(e,n,gg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ci(this.firestore,null,new Te(e))}withConverter(e){return new Ru(this.firestore,e,this._path)}}function Ka(t,e,...n){if(t=fi(t),arguments.length===1&&(e=cT.newId()),EL("doc","path",e),t instanceof Lg){const i=bt.fromString(e,...n);return jy(i),new ci(t,null,new Te(i))}{if(!(t instanceof ci||t instanceof Ru))throw new xe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(bt.fromString(e,...n));return jy(i),new ci(t.firestore,t instanceof Ru?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new qT(this,"async_queue_retry"),this.hu=()=>{const n=Nf();n&&fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Nf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new As;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Bu(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;const r=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(i);throw Or("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const r=Cg.createAndSchedule(this,e,n,i,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&Le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Dg extends Lg{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new IL}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||h1(this),this._firestoreClient.terminate()}}function PL(t,e){const n=typeof t=="object"?t:lg(),i=typeof t=="string"?t:"(default)",r=Id(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=KE("firestore");o&&xL(r,...o)}return r}function c1(t){return t._firestoreClient||h1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function h1(t){var e,n,i;const r=t._freezeSettings(),o=function(h,d,p,_){return new QA(h,d,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,u1(_.experimentalLongPollingOptions),_.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new mL(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ja(pn.fromBase64String(e))}catch(n){throw new xe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ja(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=/^__.*__$/;class CL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new So(e,this.data,this.fieldMask,n,this.fieldTransforms):new $u(e,this.data,n,this.fieldTransforms)}}function f1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class Vg{constructor(e,n,i,r,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Zh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(f1(this.fu)&&SL.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class RL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ld(e)}Fu(e,n,i,r=!1){return new Vg({fu:e,methodName:n,vu:i,path:Jt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AL(t){const e=t._freezeSettings(),n=Ld(t._databaseId);return new RL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kL(t,e,n,i,r,o={}){const l=t.Fu(o.merge||o.mergeFields?2:0,e,n,r);_1("Data must be an object, but it was:",l,i);const h=m1(i,l);let d,p;if(o.merge)d=new Ai(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const _=[];for(const y of o.mergeFields){const w=bL(e,y,n);if(!l.contains(w))throw new xe(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);NL(_,w)||_.push(w)}d=new Ai(_),p=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,p=l.fieldTransforms;return new CL(new ai(h),d,p)}function p1(t,e){if(g1(t=fi(t)))return _1("Unsupported field value:",e,t),m1(t,e);if(t instanceof d1)return function(i,r){if(!f1(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){const o=[];let l=0;for(const h of i){let d=p1(h,r.bu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=fi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return vk(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ht.fromDate(i);return{timestampValue:qh(r.serializer,o)}}if(i instanceof Ht){const o=new Ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qh(r.serializer,o)}}if(i instanceof Mg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ja)return{bytesValue:VT(r.serializer,i._byteString)};if(i instanceof ci){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Du(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yg(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${bg(i)}`)}(t,e)}function m1(t,e){const n={};return hT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(t,(i,r)=>{const o=p1(r,e.pu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function g1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ht||t instanceof Mg||t instanceof ja||t instanceof ci||t instanceof d1)}function _1(t,e,n){if(!g1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=bg(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function bL(t,e,n){if((e=fi(e))instanceof Og)return e._internalPath;if(typeof e=="string")return v1(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const LL=new RegExp("[~\\*/\\[\\]]");function v1(t,e,n){if(e.search(LL)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Og(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zh(t,e,n,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new xe(ne.INVALID_ARGUMENT,h+t+d)}function NL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(w1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DL extends y1{data(){return super.data()}}function w1(t,e){return typeof e=="string"?v1(t,e):e instanceof Og?e._internalPath:e._delegate._internalPath}class OL{convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ha(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new Mg(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=dg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=Ds(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=bt.fromString(e);ct($T(i));const r=new xu(i.get(1),i.get(3)),o=new Te(i.popFirst(5));return r.isEqual(n)||Or(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E1 extends y1{constructor(e,n,i,r,o,l){super(e,n,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(w1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class jL extends E1{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){t=Cu(t,ci);const e=Cu(t.firestore,Dg);return wL(c1(e),t._key).then(n=>BL(e,t,n))}class FL extends OL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,n)}}function UL(t,e,n){t=Cu(t,ci);const i=Cu(t.firestore,Dg),r=ML(t.converter,e);return zL(i,[kL(AL(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Ar.none())])}function zL(t,e){return function(i,r){const o=new As;return i.asyncQueue.enqueueAndForget(async()=>sL(await vL(i),r,o)),o.promise}(c1(t),e)}function BL(t,e,n){const i=n.docs.get(e._key),r=new FL(t);return new E1(t,r,e._key,i,new VL(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){$a=r})(Po),go(new Ls("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),h=new Dg(new OA(i.getProvider("auth-internal")),new FA(i.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(p.options.projectId,_)}(l,r),l);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Qi(ay,"4.6.4",e),Qi(ay,"4.6.4","esm2017")})();function jg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function T1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $L=T1,x1=new Fu("auth","Firebase",T1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new og("@firebase/auth");function HL(t,...e){Gh.logLevel<=We.WARN&&Gh.warn(`Auth (${Po}): ${t}`,...e)}function ah(t,...e){Gh.logLevel<=We.ERROR&&Gh.error(`Auth (${Po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,...e){throw Fg(t,...e)}function Ji(t,...e){return Fg(t,...e)}function I1(t,e,n){const i=Object.assign(Object.assign({},$L()),{[e]:n});return new Fu("auth","Firebase",i).create(e,{appName:t.name})}function kr(t){return I1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return x1.create(t,...e)}function Re(t,e,...n){if(!t)throw Fg(e,...n)}function Ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ah(e),new Error(e)}function Vr(t,e){t||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WL(){return Uy()==="http:"||Uy()==="https:"}function Uy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WL()||dR()||"connection"in navigator)?navigator.onLine:!0}function KL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=cR()||fR()}get(){return qL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t,e){Vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new Zu(3e4,6e4);function Us(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zs(t,e,n,i,r={}){return S1(t,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const h=Uu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),P1.fetch()(C1(t,t.config.apiHost,n,h),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},o))})}async function S1(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},ZL),e);try{const r=new YL(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Uc(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const h=o.ok?l.errorMessage:l.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Uc(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Uc(t,"user-disabled",l);const _=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw I1(t,_,p);Di(t,_)}}catch(r){if(r instanceof rr)throw r;Di(t,"network-request-failed",{message:String(r)})}}async function Gu(t,e,n,i,r={}){const o=await zs(t,e,n,i,r);return"mfaPendingCredential"in o&&Di(t,"multi-factor-auth-required",{_serverResponse:o}),o}function C1(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Ug(t.config,r):`${t.config.apiScheme}://${r}`}function QL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ji(this.auth,"network-request-failed")),GL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Ji(t,e,i);return r.customData._tokenResponse=n,r}function zy(t){return t!==void 0&&t.enterprise!==void 0}class XL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function JL(t,e){return zs(t,"GET","/v2/recaptchaConfig",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(t,e){return zs(t,"POST","/v1/accounts:delete",e)}async function R1(t,e){return zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tN(t,e=!1){const n=fi(t),i=await n.getIdToken(e),r=zg(i);Re(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Xl(Of(r.auth_time)),issuedAtTime:Xl(Of(r.iat)),expirationTime:Xl(Of(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Of(t){return Number(t)*1e3}function zg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const r=WE(n);return r?JSON.parse(r):(ah("Failed to decode base64 JWT payload"),null)}catch(r){return ah("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function By(t){const e=zg(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof rr&&nN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function nN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Au(t,R1(n,{idToken:i}));Re(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?A1(o.providerUserInfo):[],h=sN(t.providerData,l),d=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(h!=null&&h.length),_=d?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Jp(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(t,y)}async function rN(t){const e=fi(t);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sN(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function A1(t){return t.map(e=>{var{providerId:n}=e,i=jg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(t,e){const n=await S1(t,{},async()=>{const i=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=C1(t,r,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",P1.fetch()(l,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aN(t,e){return zs(t,"POST","/v2/accounts:revokeToken",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):By(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=By(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await oN(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new Ea;return i&&(Re(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(Re(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(Re(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=jg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Au(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tN(this,e)}reload(){return rN(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Qh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ki(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await Au(this,eN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,l,h,d,p,_;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(r=n.email)!==null&&r!==void 0?r:void 0,N=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,O=(l=n.photoURL)!==null&&l!==void 0?l:void 0,k=(h=n.tenantId)!==null&&h!==void 0?h:void 0,z=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,A=(p=n.createdAt)!==null&&p!==void 0?p:void 0,P=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:R,emailVerified:$,isAnonymous:X,providerData:j,stsTokenManager:C}=n;Re(R&&C,e,"internal-error");const x=Ea.fromJSON(this.name,C);Re(typeof R=="string",e,"internal-error"),ss(y,e.name),ss(w,e.name),Re(typeof $=="boolean",e,"internal-error"),Re(typeof X=="boolean",e,"internal-error"),ss(N,e.name),ss(O,e.name),ss(k,e.name),ss(z,e.name),ss(A,e.name),ss(P,e.name);const S=new Pr({uid:R,auth:e,email:w,emailVerified:$,displayName:y,isAnonymous:X,photoURL:O,phoneNumber:N,tenantId:k,stsTokenManager:x,createdAt:A,lastLoginAt:P});return j&&Array.isArray(j)&&(S.providerData=j.map(b=>Object.assign({},b))),z&&(S._redirectEventId=z),S}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ea;r.updateFromServerResponse(n);const o=new Pr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Qh(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Re(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?A1(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new Ea;h.updateFromIdToken(i);const d=new Pr({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Jp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map;function Sr(t){Vr(t instanceof Function,"Expected a class definition");let e=$y.get(t);return e?(Vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$y.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k1.type="NONE";const Hy=k1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ta{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=lh(this.userKey,r.apiKey,o),this.fullPersistenceKey=lh("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ta(Sr(Hy),e,i);const r=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=r[0]||Sr(Hy);const l=lh(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const _=await p._get(l);if(_){const y=Pr._fromJSON(e,_);p!==o&&(h=y),o=p;break}}catch{}const d=r.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ta(o,e,i):(o=d[0],h&&await o._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Ta(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O1(e))return"Blackberry";if(M1(e))return"Webos";if(Bg(e))return"Safari";if((e.includes("chrome/")||L1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function b1(t=rn()){return/firefox\//i.test(t)}function Bg(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L1(t=rn()){return/crios\//i.test(t)}function N1(t=rn()){return/iemobile/i.test(t)}function D1(t=rn()){return/android/i.test(t)}function O1(t=rn()){return/blackberry/i.test(t)}function M1(t=rn()){return/webos/i.test(t)}function Od(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lN(t=rn()){var e;return Od(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uN(){return pR()&&document.documentMode===10}function V1(t=rn()){return Od(t)||D1(t)||M1(t)||O1(t)||/windows phone/i.test(t)||N1(t)}function cN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e=[]){let n;switch(t){case"Browser":n=Wy(rn());break;case"Worker":n=`${Wy(rn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,h)=>{try{const d=e(o);l(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e={}){return zs(t,"GET","/v2/passwordPolicy",Us(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=6;class pN{constructor(e){var n,i,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:fN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,l,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qy(this),this.idTokenSubscription=new qy(this),this.beforeStateQueue=new hN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await R1(this,{idToken:e}),i=await Pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ki(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===h)&&(d!=null&&d.user)&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ki(this.app))return Promise.reject(kr(this));const n=e?fi(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ki(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ki(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dN(this),n=new pN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await aN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,r);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ro(t){return fi(t)}class qy{constructor(e){this.auth=e,this.observer=null,this.addObserver=TR(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gN(t){Md=t}function F1(t){return Md.loadJS(t)}function _N(){return Md.recaptchaEnterpriseScript}function vN(){return Md.gapiScript}function yN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const wN="recaptcha-enterprise",EN="NO_RECAPTCHA";class TN{constructor(e){this.type=wN,this.auth=Ro(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,h)=>{JL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new XL(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{h(d)})})}function r(o,l,h){const d=window.grecaptcha;zy(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(EN)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(h=>{if(!n&&zy(window.grecaptcha))r(h,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=_N();d.length!==0&&(d+=h),F1(d).then(()=>{r(h,o,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function Ky(t,e,n,i=!1){const r=new TN(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function em(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ky(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Ky(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e){const n=Id(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Fh(o,e??{}))return r;Di(r,"already-initialized")}return n.initialize({options:e})}function IN(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Sr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function PN(t,e,n){const i=Ro(t);Re(i._canInitEmulator,i,"emulator-config-failed"),Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=U1(e),{host:l,port:h}=SN(e),d=h===null?"":`:${h}`;i.config.emulator={url:`${o}//${l}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),CN()}function U1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SN(t){const e=U1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Zy(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:Zy(l)}}}function Zy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,n){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function RN(t,e){return zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e){return Gu(t,"POST","/v1/accounts:signInWithPassword",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e){return Gu(t,"POST","/v1/accounts:signInWithEmailLink",Us(t,e))}async function bN(t,e){return Gu(t,"POST","/v1/accounts:signInWithEmailLink",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends $g{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new ku(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new ku(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(e,n,"signInWithPassword",AN);case"emailLink":return kN(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(e,i,"signUpPassword",RN);case"emailLink":return bN(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e){return Gu(t,"POST","/v1/accounts:signInWithIdp",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="http://localhost";class wo extends $g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=jg(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new wo(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return xa(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,xa(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xa(e,n)}buildRequest(){const e={requestUri:LN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DN(t){const e=Nl(Dl(t)).link,n=e?Nl(Dl(e)).deep_link_id:null,i=Nl(Dl(t)).deep_link_id;return(i?Nl(Dl(i)).link:null)||i||n||e||t}class Hg{constructor(e){var n,i,r,o,l,h;const d=Nl(Dl(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,_=(i=d.oobCode)!==null&&i!==void 0?i:null,y=NN((r=d.mode)!==null&&r!==void 0?r:null);Re(p&&_&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=_,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=DN(e);try{return new Hg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(e,n){return ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Hg.parseLink(n);return Re(i,"argument-error"),ku._fromEmailAndCode(e,i.code,i.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends z1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Qu{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ds.credential(n,i)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Qu{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Qu{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ps.credential(n,i)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e){return Gu(t,"POST","/v1/accounts:signUp",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Pr._fromIdTokenResponse(e,i,r),l=Gy(i);return new Eo({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Gy(i);return new Eo({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Gy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends rr{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Yh(e,n,i,r)}}function B1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(t,o,e,i):o})}async function MN(t,e,n=!1){const i=await Au(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Eo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(t,e,n=!1){const{auth:i}=t;if(Ki(i.app))return Promise.reject(kr(i));const r="reauthenticate";try{const o=await Au(t,B1(i,r,e,t),n);Re(o.idToken,i,"internal-error");const l=zg(o.idToken);Re(l,i,"internal-error");const{sub:h}=l;return Re(t.uid===h,i,"user-mismatch"),Eo._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Di(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(t,e,n=!1){if(Ki(t.app))return Promise.reject(kr(t));const i="signIn",r=await B1(t,i,e),o=await Eo._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function jN(t,e){return $1(Ro(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(t){const e=Ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FN(t,e,n){if(Ki(t.app))return Promise.reject(kr(t));const i=Ro(t),l=await em(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ON).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&H1(t),d}),h=await Eo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(h.user),h}function UN(t,e,n){return Ki(t.app)?Promise.reject(kr(t)):jN(fi(t),Za.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&H1(t),i})}function zN(t,e,n,i){return fi(t).onIdTokenChanged(e,n,i)}function BN(t,e,n){return fi(t).beforeAuthStateChanged(e,n)}const Xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){const t=rn();return Bg(t)||Od(t)}const HN=1e3,WN=10;class q1 extends W1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$N()&&cN(),this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,d)=>{this.notifyListeners(l,d)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);uN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,WN):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}q1.type="LOCAL";const qN=q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends W1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}K1.type="SESSION";const Z1=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Vd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(l).map(async p=>p(n.origin,o)),d=await KN(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((h,d)=>{const p=Wg("",20);r.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(_),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function GN(t){er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function QN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XN(){return G1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firebaseLocalStorageDb",JN=1,Jh="firebaseLocalStorage",Y1="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jd(t,e){return t.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function e2(){const t=indexedDB.deleteDatabase(Q1);return new Yu(t).toPromise()}function tm(){const t=indexedDB.open(Q1,JN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Jh,{keyPath:Y1})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Jh)?e(i):(i.close(),await e2(),e(await tm()))})})}async function Qy(t,e,n){const i=jd(t,!0).put({[Y1]:e,value:n});return new Yu(i).toPromise()}async function t2(t,e){const n=jd(t,!1).get(e),i=await new Yu(n).toPromise();return i===void 0?null:i.value}function Yy(t,e){const n=jd(t,!0).delete(e);return new Yu(n).toPromise()}const n2=800,i2=3;class X1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>i2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(XN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QN(),!this.activeServiceWorker)return;this.sender=new ZN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tm();return await Qy(e,Xh,"1"),await Yy(e,Xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qy(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>t2(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=jd(r,!1).getAll();return new Yu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X1.type="LOCAL";const r2=X1;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t,e){return e?Sr(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends $g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function o2(t){return $1(t.auth,new qg(t),t.bypassAuthState)}function a2(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),VN(n,new qg(t),t.bypassAuthState)}async function l2(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),MN(n,new qg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:h}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o2;case"linkViaPopup":case"linkViaRedirect":return l2;case"reauthViaPopup":case"reauthViaRedirect":return a2;default:Di(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Zu(2e3,1e4);class fa extends J1{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u2.get())};e()}}fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="pendingRedirect",uh=new Map;class h2 extends J1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const i=await d2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d2(t,e){const n=m2(e),i=p2(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function f2(t,e){uh.set(t._key(),e)}function p2(t){return Sr(t._redirectPersistence)}function m2(t){return lh(c2,t.config.apiKey,t.name)}async function g2(t,e,n=!1){if(Ki(t.app))return Promise.reject(kr(t));const i=Ro(t),r=s2(i,e),l=await new h2(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=10*60*1e3;class v2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ex(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ji(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xy(e))}saveEventToCache(e){this.cachedEventUids.add(Xy(e)),this.lastProcessedEventTime=Date.now()}}function Xy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ex({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ex(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(t,e={}){return zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T2=/^https?/;async function x2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w2(t);for(const n of e)try{if(I2(n))return}catch{}Di(t,"unauthorized-domain")}function I2(t){const e=Xp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!T2.test(n))return!1;if(E2.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new Zu(3e4,6e4);function Jy(){const t=er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S2(t){return new Promise((e,n)=>{var i,r,o;function l(){Jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jy(),n(Ji(t,"network-request-failed"))},timeout:P2.get()})}if(!((r=(i=er().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=er().gapi)===null||o===void 0)&&o.load)l();else{const h=yN("iframefcb");return er()[h]=()=>{gapi.load?l():n(Ji(t,"network-request-failed"))},F1(`${vN()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw ch=null,e})}let ch=null;function C2(t){return ch=ch||S2(t),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Zu(5e3,15e3),A2="__/auth/iframe",k2="emulator/auth/iframe",b2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N2(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ug(e,k2):`https://${t.config.authDomain}/${A2}`,i={apiKey:e.apiKey,appName:t.name,v:Po},r=L2.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Uu(i).slice(1)}`}async function D2(t){const e=await C2(t),n=er().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:N2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b2,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Ji(t,"network-request-failed"),h=er().setTimeout(()=>{o(l)},R2.get());function d(){er().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M2=500,V2=600,j2="_blank",F2="http://localhost";class e0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U2(t,e,n,i=M2,r=V2){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},O2),{width:i.toString(),height:r.toString(),top:o,left:l}),p=rn().toLowerCase();n&&(h=L1(p)?j2:n),b1(p)&&(e=e||F2,d.scrollbars="yes");const _=Object.entries(d).reduce((w,[N,O])=>`${w}${N}=${O},`,"");if(lN(p)&&h!=="_self")return z2(e||"",h),new e0(null);const y=window.open(e||"",h,_);Re(y,t,"popup-blocked");try{y.focus()}catch{}return new e0(y)}function z2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="__/auth/handler",$2="emulator/auth/handler",H2=encodeURIComponent("fac");async function t0(t,e,n,i,r,o){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Po,eventId:r};if(e instanceof z1){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",ER(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,y]of Object.entries({}))l[_]=y}if(e instanceof Qu){const _=e.getScopes().filter(y=>y!=="");_.length>0&&(l.scopes=_.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await t._getAppCheckToken(),p=d?`#${H2}=${encodeURIComponent(d)}`:"";return`${W2(t)}?${Uu(h).slice(1)}${p}`}function W2({config:t}){return t.emulator?Ug(t,$2):`https://${t.authDomain}/${B2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="webStorageSupport";class q2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z1,this._completeRedirectFn=g2,this._overrideRedirectResult=f2}async _openPopup(e,n,i,r){var o;Vr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await t0(e,n,i,Xp(),r);return U2(e,l,Wg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await t0(e,n,i,Xp(),r);return GN(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Vr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await D2(e),i=new v2(e);return n.register("authEvent",r=>(Re(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mf,{type:Mf},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Mf];l!==void 0&&n(!!l),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V1()||Bg()||Od()}}const K2=q2;var n0="@firebase/auth",i0="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q2(t){go(new Ls("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=i.options;Re(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(t)},p=new mN(i,r,o,d);return IN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),go(new Ls("auth-internal",e=>{const n=Ro(e.getProvider("auth").getImmediate());return(i=>new Z2(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(n0,i0,G2(t)),Qi(n0,i0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=5*60,X2=GE("authIdTokenMaxAge")||Y2;let r0=null;const J2=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>X2)return;const r=n==null?void 0:n.token;r0!==r&&(r0=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function eD(t=lg()){const e=Id(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xN(t,{popupRedirectResolver:K2,persistence:[r2,qN,Z1]}),i=GE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=J2(o.toString());BN(n,l,()=>l(n.currentUser)),zN(n,h=>l(h))}}const r=qE("auth");return r&&PN(n,`http://${r}`),n}function tD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Ji("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",tD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q2("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="firebasestorage.googleapis.com",nD="storageBucket",iD=2*60*1e3,rD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends rr{constructor(e,n,i=0){super(Vf(e),`Firebase Storage: ${n} (${Vf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ir;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ir||(ir={}));function Vf(t){return"storage/"+t}function sD(){const t="An unknown error occurred, please check the error payload for server response.";return new sr(ir.UNKNOWN,t)}function oD(){return new sr(ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aD(){return new sr(ir.CANCELED,"User canceled the upload/download.")}function lD(t){return new sr(ir.INVALID_URL,"Invalid URL '"+t+"'.")}function uD(t){return new sr(ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function s0(t){return new sr(ir.INVALID_ARGUMENT,t)}function nx(){return new sr(ir.APP_DELETED,"The Firebase app was deleted.")}function cD(t){return new sr(ir.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ki.makeFromUrl(e,n)}catch{return new ki(e,"")}if(i.path==="")return i;throw uD(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+r+l,"i"),d={bucket:1,path:3};function p($){$.path_=decodeURIComponent($.path)}const _="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",N=new RegExp(`^https?://${y}/${_}/b/${r}/o${w}`,"i"),O={bucket:1,path:3},k=n===tx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",A=new RegExp(`^https?://${k}/${r}/${z}`,"i"),R=[{regex:h,indices:d,postModify:o},{regex:N,indices:O,postModify:p},{regex:A,indices:{bucket:1,path:2},postModify:p}];for(let $=0;$<R.length;$++){const X=R[$],j=X.regex.exec(e);if(j){const C=j[X.indices.bucket];let x=j[X.indices.path];x||(x=""),i=new ki(C,x),X.postModify(i);break}}if(i==null)throw lD(e);return i}}class hD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t,e,n){let i=1,r=null,o=null,l=!1,h=0;function d(){return h===2}let p=!1;function _(...z){p||(p=!0,e.apply(null,z))}function y(z){r=setTimeout(()=>{r=null,t(N,d())},z)}function w(){o&&clearTimeout(o)}function N(z,...A){if(p){w();return}if(z){w(),_.call(null,z,...A);return}if(d()||l){w(),_.call(null,z,...A);return}i<64&&(i*=2);let R;h===1?(h=2,R=0):R=(i+Math.random())*1e3,y(R)}let O=!1;function k(z){O||(O=!0,w(),!p&&(r!==null?(z||(h=2),clearTimeout(r),y(0)):z||(h=1)))}return y(0),o=setTimeout(()=>{l=!0,k(!0)},n),k}function fD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){return t!==void 0}function o0(t,e,n,i){if(i<e)throw s0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw s0(`Invalid value for '${t}'. Expected ${n} or less.`)}function mD(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ed;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ed||(ed={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,i,r,o,l,h,d,p,_,y,w=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=y,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,O)=>{this.resolve_=N,this.reject_=O,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new zc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=h=>{const d=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const h=o.getErrorCode()===ed.NO_ERROR,d=o.getStatus();if(!h||gD(d,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===ed.ABORT;i(!1,new zc(!1,null,_));return}const p=this.successCodes_.indexOf(d)!==-1;i(!0,new zc(p,o))})},n=(i,r)=>{const o=this.resolve_,l=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());pD(d)?o(d):o()}catch(d){l(d)}else if(h!==null){const d=sD();d.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,d)):l(d)}else if(r.canceled){const d=this.appDelete_?nx():aD();l(d)}else{const d=oD();l(d)}};this.canceled_?n(!1,new zc(!1,null,!0)):this.backoffId_=dD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zc{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function vD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ED(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function TD(t,e,n,i,r,o,l=!0){const h=mD(t.urlParams),d=t.url+h,p=Object.assign({},t.headers);return wD(p,e),vD(p,n),yD(p,o),ED(p,i),new _D(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ID(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this._service=e,n instanceof ki?this._location=n:this._location=ki.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new td(e,n)}get root(){const e=new ki(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ID(this._location.path)}get storage(){return this._service}get parent(){const e=xD(this._location.path);if(e===null)return null;const n=new ki(this._location.bucket,e);return new td(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cD(e)}}function a0(t,e){const n=e==null?void 0:e[nD];return n==null?null:ki.makeFromBucketSpec(n,t)}function PD(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:QE(r,t.app.options.projectId))}class SD{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=tx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iD,this._maxUploadRetryTime=rD,this._requests=new Set,r!=null?this._bucket=ki.makeFromBucketSpec(r,this._host):this._bucket=a0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ki.makeFromBucketSpec(this._url,e):this._bucket=a0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){o0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){o0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new td(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new hD(nx());{const l=TD(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const l0="@firebase/storage",u0="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="storage";function CD(t=lg(),e){t=fi(t);const i=Id(t,ix).getImmediate({identifier:e}),r=KE("storage");return r&&RD(i,...r),i}function RD(t,e,n,i={}){PD(t,e,n,i)}function AD(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new SD(n,i,r,e,Po)}function kD(){go(new Ls(ix,AD,"PUBLIC").setMultipleInstances(!0)),Qi(l0,u0,""),Qi(l0,u0,"esm2017")}kD();const bD={apiKey:"AIzaSyCQRYgSIBnnYnXRH9T-zeMfLjo7nNbPTCQ",authDomain:"havenhomes-a7ea5.firebaseapp.com",projectId:"havenhomes-a7ea5",storageBucket:"havenhomes-a7ea5.appspot.com",messagingSenderId:"418620835176",appId:"1:418620835176:web:71d14a2a4441e60a2fc2dd"},rx=JE(bD),jr=eD(),Xu=PL(rx);CD(rx);const LD=()=>{const[t,e]=q.useState(""),[n,i]=q.useState(!1),r=()=>{i(!n)},o=()=>{n&&i(!1)},l=async()=>{jr.onAuthStateChanged(async h=>{console.log(h);const d=Ka(Xu,"Users",h.uid),p=await Ku(d);p.exists()?(e(p.data()),console.log(p.data())):console.log("User is not logged in")})};return q.useEffect(()=>{l()},[]),E.jsx("div",{className:"bg-zinc-50 fixed top-0 w-[100%]",children:E.jsxs("section",{children:[E.jsxs("div",{className:"flex md:justify-around p-3 items-center font-medium text-lg justify-between px-5",children:[E.jsx("div",{children:E.jsx(at,{children:E.jsx("img",{src:"/haven2.jpg",alt:""})})}),E.jsx("div",{className:"hidden md:flex gap-20",children:Gv.map(h=>E.jsx(at,{to:h.url,children:h.title},h.id))}),E.jsx("div",{className:"md:flex gap-3 hidden",children:t?E.jsx("div",{children:E.jsx(at,{to:"/profile",children:E.jsx("img",{src:"/user.png",alt:"",width:30})})}):E.jsxs("div",{className:"flex gap-6",children:[E.jsx(at,{to:"/register",children:"Register"}),E.jsx(at,{to:"/login",children:"Login"})]})}),E.jsxs("div",{className:"flex md:hidden gap-3 items-center ",children:[E.jsx("div",{children:t?E.jsx("div",{children:E.jsx(at,{to:"/profile",children:E.jsx("img",{src:"/user.png",alt:"",width:30})})}):E.jsx("div",{className:"hidden"})}),E.jsx("div",{children:E.jsx("img",{src:"/menu.svg",alt:"",onClick:r})})]})]}),E.jsxs("div",{className:`${n?"flex":" hidden"} flex-col h-[350px] items-center justify-center gap-16 font-medium md:hidden animate-slideIn `,children:[Gv.map(h=>E.jsx(at,{to:h.url,onClick:o,children:h.title},h.id)),E.jsx("div",{children:t?E.jsx("div",{}):E.jsxs("div",{className:"flex gap-8 ",children:[E.jsx(at,{to:"/register",onClick:o,children:"Register"}),E.jsx(at,{to:"/login",onClick:o,children:"Login"})]})})]})]})})},ND=()=>E.jsxs("div",{children:[E.jsx("section",{children:E.jsx(LD,{})}),E.jsx("section",{className:"pt-48",children:E.jsx(DC,{})})]}),c0=["/house1.jpg","/house2.jpg","/house3.jpeg","/house4.jpg"],DD=()=>{const[t,e]=q.useState(0);return q.useEffect(()=>{const n=setInterval(()=>{e(i=>(i+1)%c0.length)},3e3);return()=>clearInterval(n)},[]),E.jsx("div",{className:" mx-auto mt-4 h-[100%] p-3 bg-blue-100 rounded-2xl ",children:E.jsx("div",{className:"",children:E.jsx("img",{src:c0[t],alt:`slide${t+1}`,className:"w-full h-[400px] md:h-[700px] rounded-lg object-cover"})})})},OD=()=>E.jsx("div",{children:E.jsxs("section",{className:"flex flex-col gap-16",children:[E.jsxs("div",{className:"w-[80%] mx-auto text-center p-3",children:[E.jsx("h1",{className:"text-xl md:text-3xl font-bold",children:"Welcome to HavenHomes"}),E.jsx("p",{className:"mt-5 font-medium text-base md:text-lg",children:"Discover exceptional properties and unparalleled service tailored to your needs."})]}),E.jsx("div",{className:"w-[90%]  mx-auto text-center p-3 rounded-3xl h-[100%]",children:E.jsx(DD,{})})]})}),MD=()=>{const[t,e]=q.useState("a"),n=async()=>{jr.onAuthStateChanged(async i=>{console.log(i);const r=Ka(Xu,"Users",i.uid),o=await Ku(r);o.exists()?(e(o.data()),console.log(o.data())):console.log("user is not login")})};return q.useEffect(()=>{n()},[]),E.jsx("div",{className:"mb-12 mt-12",children:E.jsx("section",{children:E.jsx("div",{children:E.jsxs("section",{className:"flex flex-col md:flex-row items-center justify-center md:gap-0 gap-9 mx-auto",children:[E.jsx("div",{className:"w-[80%] md:w-[20%] border-2 rounded-md md:rounded-lg lg: rounded-r-xl md:border-l-8 md:border-r-0 border-l-2 border-zinc-400 ",children:E.jsx("input",{type:"text",placeholder:"Search Terms",className:"w-[100%] p-3 outline-none "})}),E.jsx("div",{className:"w-[80%] md:w-[20%] border-2 md:rounded-none rounded-xl border-zinc-400",children:E.jsx("input",{type:"text",placeholder:"City Location",className:"w-[100%] p-3 outline-none"})}),E.jsx("div",{className:"w-[80%] md:w-[20%] border-2 md:rounded-none rounded-xl border-zinc-400",children:E.jsx("input",{type:"number",placeholder:"Price",className:"w-[100%] p-3 outline-none"})}),E.jsx("div",{className:"w-[80%] md:w-[20%]",children:E.jsx("button",{className:"p-3 md:rounded-r-xl bg-blue-800 text-white w-[100%] rounded-lg",children:t?E.jsx(at,{to:"/listings",className:"w-[100%]",children:"Search"}):E.jsx(at,{to:"/login",className:"w-[100%]",children:"Search"})})})]})})})})},VD=()=>{const[t,e]=q.useState(""),n=async()=>{jr.onAuthStateChanged(async i=>{console.log(i);const r=Ka(db,"Users",i.uid),o=await Ku(r);o.exists()?(e(o.data()),console.log(o.data())):console.log("user is not login")})};return q.useEffect(()=>{n()},[]),E.jsxs("div",{className:"mt-24 bg-zinc-50 flex flex-col gap-10 p-2",children:[E.jsx("section",{className:"text-xl text-center font-bold md:text-3xl",children:"Our Properties"}),E.jsxs("section",{className:"flex justify-around mt-12 flex-col md:flex-row items-center gap-10",children:[E.jsxs("div",{className:"w-[80%] md:w-[30%] shadow-3xl p-6 rounded-3xl flex flex-col items-center justify-center gap-7",children:[E.jsx("img",{src:"/house1.jpg",alt:"",width:350,className:"mx-auto"}),E.jsx("h2",{className:"font-medium text-xl",children:"A New Apartment in the City!"}),E.jsxs("div",{className:"flex justify-between gap-24",children:[E.jsxs("p",{children:[" ",E.jsx("img",{src:"/bath.png",alt:"",width:20})," ",E.jsx("span",{children:"4 Bathroom"})]}),E.jsxs("p",{children:[" ",E.jsx("img",{src:"/bed.png",alt:"",width:20})," ",E.jsx("span",{children:"4 Bedroom"})]})]}),E.jsx("h1",{className:"font-bold text-lg",children:"$4500"}),E.jsx("span",{className:"text-sm font-medium",children:"For rent"}),E.jsx("button",{className:"w-[80%]",children:E.jsx(at,{to:"/listings",className:"bg-blue-900 w-[100%] p-3 text-white rounded-xl",children:"View Properties"})})]}),E.jsxs("div",{className:"w-[80%] md:w-[30%] shadow-3xl p-6 rounded-3xl flex flex-col items-center justify-center gap-7",children:[E.jsx("img",{src:"/house2.jpg",alt:"",width:300,className:"mx-auto"}),E.jsx("h2",{className:"font-medium text-xl",children:"Cozy Cottage"}),E.jsxs("div",{className:"flex justify-between gap-24",children:[E.jsxs("p",{children:[" ",E.jsx("img",{src:"/bath.png",alt:"",width:20})," ",E.jsx("span",{children:"3 Bathroom"})]}),E.jsxs("p",{children:[" ",E.jsx("img",{src:"/bed.png",alt:"",width:20})," ",E.jsx("span",{children:"5 Bedroom"})]})]}),E.jsx("h1",{className:"font-bold text-lg",children:"$4500"}),E.jsx("span",{className:"text-sm font-medium",children:"For rent"}),E.jsx("button",{className:"w-[80%]",children:E.jsx(at,{to:"/listings",className:"bg-blue-900 w-[100%] p-3 text-white rounded-xl",children:"View Properties"})})]}),E.jsxs("div",{className:"w-[80%] md:w-[30%] shadow-3xl p-6 rounded-3xl flex flex-col items-center justify-center gap-7",children:[E.jsx("img",{src:"/house3.jpeg",alt:"",width:300,className:"mx-auto"}),E.jsx("h2",{className:"font-medium text-xl",children:"Modern Apartment"}),E.jsxs("div",{className:"flex justify-between gap-24",children:[E.jsxs("p",{children:[" ",E.jsx("img",{src:"/bath.png",alt:"",width:20})," ",E.jsx("span",{children:"5 Bathroom"})]}),E.jsxs("p",{children:[" ",E.jsx("img",{src:"/bed.png",alt:"",width:20})," ",E.jsx("span",{children:"6 Bedroom"})]})]}),E.jsx("h1",{className:"font-bold text-lg",children:"$204000"}),E.jsx("span",{className:"text-sm font-medium",children:"For Sale"}),E.jsx("button",{className:"w-[80%]",children:E.jsx(at,{to:"/listings",className:"bg-blue-900 w-[100%] p-3 text-white rounded-xl",children:"View Properties"})})]}),E.jsx("div",{})]})]})},jD=()=>E.jsx("div",{className:"mt-24 md:px-12 px-4",children:E.jsxs("section",{className:"flex justify-around flex-col md:flex-row items-center gap-7",children:[E.jsx("div",{className:"w-[80%] md:w-[40%]",children:E.jsxs("h1",{className:"text-xl  md:text-4xl font-bold",children:["Sign up for ",E.jsx("span",{className:"text-blue-800",children:"Updates"})," & Newsletter"]})}),E.jsx("div",{className:"w-[90%] md:w-[40%] ",children:E.jsx("form",{action:"",children:E.jsxs("div",{className:"w-[100%] border rounded-full p-2 flex  gap-10 px-4",children:[E.jsx("input",{type:"email",placeholder:"b@HavenHomes.com",className:"outline-none md:w-[80%] w-[60%] text-sm md:text-base"}),E.jsx("button",{className:"bg-blue-800 text-white w-[50%] rounded-3xl py-3 ",children:"Sign Up"})]})})})]})}),Fd=()=>E.jsx("div",{className:"bg-zinc-800 text-white mt-24",children:E.jsxs("section",{className:"p-8 flex flex-col gap-10",children:[E.jsxs("div",{className:"r",children:[E.jsx("img",{src:"/haven1.jpg",alt:"HavenHomes Logo",width:120,className:" mb-4"}),E.jsx("h1",{className:"text-sm  md:text-lg font-semibold",children:"Discover your dream home with HavenHomes. We offer a wide range of properties tailored to meet your unique needs and preferences. Explore our listings and find the perfect place to call home."})]}),E.jsxs("div",{className:"flex md:justify-around items-start justify-start flex-col md:flex-row gap-10",children:[E.jsx("div",{className:"w-[30%]",children:E.jsxs("div",{className:"flex flex-col gap-5",children:[E.jsx("h1",{className:"text-xl font-bold",children:"Listings"}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx(at,{to:"/listings",className:"text-white hover:text-slate-100",children:"Apartments"}),E.jsx(at,{to:"/listings",className:"text-white hover:text-slate-100",children:"Houses"}),E.jsx(at,{to:"/listings",className:"text-white hover:text-slate-100",children:"Villas"}),E.jsx(at,{to:"/listings",className:"text-white hover:text-slate-100",children:"Condos"}),E.jsx(at,{to:"/listings",className:"text-white hover:text-slate-100",children:"Townhouses"})]})]})}),E.jsxs("div",{className:"flex flex-col gap-5",children:[E.jsx("h1",{className:"text-xl font-bold",children:"Help"}),E.jsx("div",{className:"flex flex-col gap-3",children:E.jsx(at,{to:"/contact",className:"text-white hover:text-slate-300",children:"Contact Us"})})]}),E.jsxs("div",{className:"flex flex-col gap-5",children:[E.jsx("h1",{className:"font-bold",children:"Get in Touch"}),E.jsxs("div",{className:"flex flex-col gap-5",children:[E.jsx("a",{href:"mailto:haven@homes.com",className:"text-white hover:text-slate-300",children:"haven@homes.com"}),E.jsx("a",{href:"tel:+15563243457",className:"text-white hover:text-slate-300",children:"+1 556 324 3457"})]}),E.jsx("p",{children:"1234 Elm Street, New York, NY 10001"})]})]}),E.jsxs("div",{className:"flex md:justify-between justify-center items-center flex-col gap-2 md:flex-row ",children:[E.jsxs("div",{children:["© ",new Date().getFullYear()," HavenHomes. All rights reserved."]}),E.jsx("div",{children:E.jsx(at,{to:"/terms",className:"text-white hover:text-slate-300",children:"Terms & Conditions"})})]})]})});function FD(){return q.useState(0),E.jsxs(E.Fragment,{children:[E.jsx("section",{children:E.jsx(OD,{})}),E.jsx("section",{children:E.jsx(MD,{})}),E.jsx("section",{children:E.jsx(VD,{})}),E.jsx("section",{className:"mt-24 mb-24",children:E.jsx(jD,{})}),E.jsx("section",{children:E.jsx(Fd,{})})]})}function sx(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=sx(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function vs(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=sx(t))&&(i&&(i+=" "),i+=e);return i}const bu=t=>typeof t=="number"&&!isNaN(t),ao=t=>typeof t=="string",Hn=t=>typeof t=="function",hh=t=>ao(t)||Hn(t)?t:null,nm=t=>q.isValidElement(t)||ao(t)||Hn(t)||bu(t);function UD(t,e,n){n===void 0&&(n=300);const{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function Ud(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:r=!0,collapseDuration:o=300}=t;return function(l){let{children:h,position:d,preventExitTransition:p,done:_,nodeRef:y,isIn:w,playToast:N}=l;const O=i?`${e}--${d}`:e,k=i?`${n}--${d}`:n,z=q.useRef(0);return q.useLayoutEffect(()=>{const A=y.current,P=O.split(" "),R=$=>{$.target===y.current&&(N(),A.removeEventListener("animationend",R),A.removeEventListener("animationcancel",R),z.current===0&&$.type!=="animationcancel"&&A.classList.remove(...P))};A.classList.add(...P),A.addEventListener("animationend",R),A.addEventListener("animationcancel",R)},[]),q.useEffect(()=>{const A=y.current,P=()=>{A.removeEventListener("animationend",P),r?UD(A,_,o):_()};w||(p?P():(z.current=1,A.className+=` ${k}`,A.addEventListener("animationend",P)))},[w]),Qe.createElement(Qe.Fragment,null,h)}}function h0(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const wn=new Map;let Lu=[];const im=new Set,zD=t=>im.forEach(e=>e(t)),ox=()=>wn.size>0;function ax(t,e){var n;if(e)return!((n=wn.get(e))==null||!n.isToastActive(t));let i=!1;return wn.forEach(r=>{r.isToastActive(t)&&(i=!0)}),i}function lx(t,e){nm(t)&&(ox()||Lu.push({content:t,options:e}),wn.forEach(n=>{n.buildToast(t,e)}))}function d0(t,e){wn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function BD(t){const{subscribe:e,getSnapshot:n,setProps:i}=q.useRef(function(o){const l=o.containerId||1;return{subscribe(h){const d=function(_,y,w){let N=1,O=0,k=[],z=[],A=[],P=y;const R=new Map,$=new Set,X=()=>{A=Array.from(R.values()),$.forEach(x=>x())},j=x=>{z=x==null?[]:z.filter(S=>S!==x),X()},C=x=>{const{toastId:S,onOpen:b,updateId:M,children:U}=x.props,D=M==null;x.staleId&&R.delete(x.staleId),R.set(S,x),z=[...z,x.props.toastId].filter(Ie=>Ie!==x.staleId),X(),w(h0(x,D?"added":"updated")),D&&Hn(b)&&b(q.isValidElement(U)&&U.props)};return{id:_,props:P,observe:x=>($.add(x),()=>$.delete(x)),toggle:(x,S)=>{R.forEach(b=>{S!=null&&S!==b.props.toastId||Hn(b.toggle)&&b.toggle(x)})},removeToast:j,toasts:R,clearQueue:()=>{O-=k.length,k=[]},buildToast:(x,S)=>{if((me=>{let{containerId:ye,toastId:Ee,updateId:ve}=me;const ge=ye?ye!==_:_!==1,st=R.has(Ee)&&ve==null;return ge||st})(S))return;const{toastId:b,updateId:M,data:U,staleId:D,delay:Ie}=S,_t=()=>{j(b)},Je=M==null;Je&&O++;const Ae={...P,style:P.toastStyle,key:N++,...Object.fromEntries(Object.entries(S).filter(me=>{let[ye,Ee]=me;return Ee!=null})),toastId:b,updateId:M,data:U,closeToast:_t,isIn:!1,className:hh(S.className||P.toastClassName),bodyClassName:hh(S.bodyClassName||P.bodyClassName),progressClassName:hh(S.progressClassName||P.progressClassName),autoClose:!S.isLoading&&(Y=S.autoClose,pe=P.autoClose,Y===!1||bu(Y)&&Y>0?Y:pe),deleteToast(){const me=R.get(b),{onClose:ye,children:Ee}=me.props;Hn(ye)&&ye(q.isValidElement(Ee)&&Ee.props),w(h0(me,"removed")),R.delete(b),O--,O<0&&(O=0),k.length>0?C(k.shift()):X()}};var Y,pe;Ae.closeButton=P.closeButton,S.closeButton===!1||nm(S.closeButton)?Ae.closeButton=S.closeButton:S.closeButton===!0&&(Ae.closeButton=!nm(P.closeButton)||P.closeButton);let ee=x;q.isValidElement(x)&&!ao(x.type)?ee=q.cloneElement(x,{closeToast:_t,toastProps:Ae,data:U}):Hn(x)&&(ee=x({closeToast:_t,toastProps:Ae,data:U}));const ue={content:ee,props:Ae,staleId:D};P.limit&&P.limit>0&&O>P.limit&&Je?k.push(ue):bu(Ie)?setTimeout(()=>{C(ue)},Ie):C(ue)},setProps(x){P=x},setToggle:(x,S)=>{R.get(x).toggle=S},isToastActive:x=>z.some(S=>S===x),getSnapshot:()=>P.newestOnTop?A.reverse():A}}(l,o,zD);wn.set(l,d);const p=d.observe(h);return Lu.forEach(_=>lx(_.content,_.options)),Lu=[],()=>{p(),wn.delete(l)}},setProps(h){var d;(d=wn.get(l))==null||d.setProps(h)},getSnapshot(){var h;return(h=wn.get(l))==null?void 0:h.getSnapshot()}}}(t)).current;i(t);const r=q.useSyncExternalStore(e,n,n);return{getToastToRender:function(o){if(!r)return[];const l=new Map;return r.forEach(h=>{const{position:d}=h.props;l.has(d)||l.set(d,[]),l.get(d).push(h)}),Array.from(l,h=>o(h[0],h[1]))},isToastActive:ax,count:r==null?void 0:r.length}}function $D(t){const[e,n]=q.useState(!1),[i,r]=q.useState(!1),o=q.useRef(null),l=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:d,closeToast:p,onClick:_,closeOnClick:y}=t;var w,N;function O(){n(!0)}function k(){n(!1)}function z(R){const $=o.current;l.canDrag&&$&&(l.didMove=!0,e&&k(),l.delta=t.draggableDirection==="x"?R.clientX-l.start:R.clientY-l.start,l.start!==R.clientX&&(l.canCloseOnClick=!1),$.style.transform=`translate3d(${t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`},0)`,$.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function A(){document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",A);const R=o.current;if(l.canDrag&&l.didMove&&R){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return r(!0),t.closeToast(),void t.collapseAll();R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}(N=wn.get((w={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||N.setToggle(w.id,w.fn),q.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||k(),window.addEventListener("focus",O),window.addEventListener("blur",k),()=>{window.removeEventListener("focus",O),window.removeEventListener("blur",k)}},[t.pauseOnFocusLoss]);const P={onPointerDown:function(R){if(t.draggable===!0||t.draggable===R.pointerType){l.didMove=!1,document.addEventListener("pointermove",z),document.addEventListener("pointerup",A);const $=o.current;l.canCloseOnClick=!0,l.canDrag=!0,$.style.transition="none",t.draggableDirection==="x"?(l.start=R.clientX,l.removalDistance=$.offsetWidth*(t.draggablePercent/100)):(l.start=R.clientY,l.removalDistance=$.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(R){const{top:$,bottom:X,left:j,right:C}=o.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&t.pauseOnHover&&R.clientX>=j&&R.clientX<=C&&R.clientY>=$&&R.clientY<=X?k():O()}};return h&&d&&(P.onMouseEnter=k,t.stacked||(P.onMouseLeave=O)),y&&(P.onClick=R=>{_&&_(R),l.canCloseOnClick&&p()}),{playToast:O,pauseToast:k,isRunning:e,preventExitTransition:i,toastRef:o,eventHandlers:P}}function HD(t){let{delay:e,isRunning:n,closeToast:i,type:r="default",hide:o,className:l,style:h,controlledProgress:d,progress:p,rtl:_,isIn:y,theme:w}=t;const N=o||d&&p===0,O={...h,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};d&&(O.transform=`scaleX(${p})`);const k=vs("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":_}),z=Hn(l)?l({rtl:_,type:r,defaultClassName:k}):vs(k,l),A={[d&&p>=1?"onTransitionEnd":"onAnimationEnd"]:d&&p<1?null:()=>{y&&i()}};return Qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":N},Qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${w} Toastify__progress-bar--${r}`}),Qe.createElement("div",{role:"progressbar","aria-hidden":N?"true":"false","aria-label":"notification timer",className:z,style:O,...A}))}let WD=1;const ux=()=>""+WD++;function qD(t){return t&&(ao(t.toastId)||bu(t.toastId))?t.toastId:ux()}function Jl(t,e){return lx(t,e),e.toastId}function nd(t,e){return{...e,type:e&&e.type||t,toastId:qD(e)}}function Bc(t){return(e,n)=>Jl(e,nd(t,n))}function Xe(t,e){return Jl(t,nd("default",e))}Xe.loading=(t,e)=>Jl(t,nd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Xe.promise=function(t,e,n){let i,{pending:r,error:o,success:l}=e;r&&(i=ao(r)?Xe.loading(r,n):Xe.loading(r.render,{...n,...r}));const h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(_,y,w)=>{if(y==null)return void Xe.dismiss(i);const N={type:_,...h,...n,data:w},O=ao(y)?{render:y}:y;return i?Xe.update(i,{...N,...O}):Xe(O.render,{...N,...O}),w},p=Hn(t)?t():t;return p.then(_=>d("success",l,_)).catch(_=>d("error",o,_)),p},Xe.success=Bc("success"),Xe.info=Bc("info"),Xe.error=Bc("error"),Xe.warning=Bc("warning"),Xe.warn=Xe.warning,Xe.dark=(t,e)=>Jl(t,nd("default",{theme:"dark",...e})),Xe.dismiss=function(t){(function(e){var n;if(ox()){if(e==null||ao(n=e)||bu(n))wn.forEach(i=>{i.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const i=wn.get(e.containerId);i?i.removeToast(e.id):wn.forEach(r=>{r.removeToast(e.id)})}}else Lu=Lu.filter(i=>e!=null&&i.options.toastId!==e)})(t)},Xe.clearWaitingQueue=function(t){t===void 0&&(t={}),wn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Xe.isActive=ax,Xe.update=function(t,e){e===void 0&&(e={});const n=((i,r)=>{var o;let{containerId:l}=r;return(o=wn.get(l||1))==null?void 0:o.toasts.get(i)})(t,e);if(n){const{props:i,content:r}=n,o={delay:100,...i,...e,toastId:e.toastId||t,updateId:ux()};o.toastId!==t&&(o.staleId=t);const l=o.render||r;delete o.render,Jl(l,o)}},Xe.done=t=>{Xe.update(t,{progress:1})},Xe.onChange=function(t){return im.add(t),()=>{im.delete(t)}},Xe.play=t=>d0(!0,t),Xe.pause=t=>d0(!1,t);const KD=typeof window<"u"?q.useLayoutEffect:q.useEffect,$c=t=>{let{theme:e,type:n,isLoading:i,...r}=t;return Qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},jf={info:function(t){return Qe.createElement($c,{...t},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Qe.createElement($c,{...t},Qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Qe.createElement($c,{...t},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Qe.createElement($c,{...t},Qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Qe.createElement("div",{className:"Toastify__spinner"})}},ZD=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:o}=$D(t),{closeButton:l,children:h,autoClose:d,onClick:p,type:_,hideProgressBar:y,closeToast:w,transition:N,position:O,className:k,style:z,bodyClassName:A,bodyStyle:P,progressClassName:R,progressStyle:$,updateId:X,role:j,progress:C,rtl:x,toastId:S,deleteToast:b,isIn:M,isLoading:U,closeOnClick:D,theme:Ie}=t,_t=vs("Toastify__toast",`Toastify__toast-theme--${Ie}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":x},{"Toastify__toast--close-on-click":D}),Je=Hn(k)?k({rtl:x,position:O,type:_,defaultClassName:_t}):vs(_t,k),Ae=function(ue){let{theme:me,type:ye,isLoading:Ee,icon:ve}=ue,ge=null;const st={theme:me,type:ye};return ve===!1||(Hn(ve)?ge=ve({...st,isLoading:Ee}):q.isValidElement(ve)?ge=q.cloneElement(ve,st):Ee?ge=jf.spinner():(sn=>sn in jf)(ye)&&(ge=jf[ye](st))),ge}(t),Y=!!C||!d,pe={closeToast:w,type:_,theme:Ie};let ee=null;return l===!1||(ee=Hn(l)?l(pe):q.isValidElement(l)?q.cloneElement(l,pe):function(ue){let{closeToast:me,theme:ye,ariaLabel:Ee="close"}=ue;return Qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ye}`,type:"button",onClick:ve=>{ve.stopPropagation(),me(ve)},"aria-label":Ee},Qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(pe)),Qe.createElement(N,{isIn:M,done:b,position:O,preventExitTransition:n,nodeRef:i,playToast:o},Qe.createElement("div",{id:S,onClick:p,"data-in":M,className:Je,...r,style:z,ref:i},Qe.createElement("div",{...M&&{role:j},className:Hn(A)?A({type:_}):vs("Toastify__toast-body",A),style:P},Ae!=null&&Qe.createElement("div",{className:vs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!U})},Ae),Qe.createElement("div",null,h)),ee,Qe.createElement(HD,{...X&&!Y?{key:`pb-${X}`}:{},rtl:x,theme:Ie,delay:d,isRunning:e,isIn:M,closeToast:w,hide:y,type:_,style:$,className:R,controlledProgress:Y,progress:C||0})))},zd=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},GD=Ud(zd("bounce",!0));Ud(zd("slide",!0));Ud(zd("zoom"));Ud(zd("flip"));const QD={position:"top-right",transition:GD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function YD(t){let e={...QD,...t};const n=t.stacked,[i,r]=q.useState(!0),o=q.useRef(null),{getToastToRender:l,isToastActive:h,count:d}=BD(e),{className:p,style:_,rtl:y,containerId:w}=e;function N(k){const z=vs("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":y});return Hn(p)?p({position:k,rtl:y,defaultClassName:z}):vs(z,hh(p))}function O(){n&&(r(!0),Xe.play())}return KD(()=>{if(n){var k;const z=o.current.querySelectorAll('[data-in="true"]'),A=12,P=(k=e.position)==null?void 0:k.includes("top");let R=0,$=0;Array.from(z).reverse().forEach((X,j)=>{const C=X;C.classList.add("Toastify__toast--stacked"),j>0&&(C.dataset.collapsed=`${i}`),C.dataset.pos||(C.dataset.pos=P?"top":"bot");const x=R*(i?.2:1)+(i?0:A*j);C.style.setProperty("--y",`${P?x:-1*x}px`),C.style.setProperty("--g",`${A}`),C.style.setProperty("--s",""+(1-(i?$:0))),R+=C.offsetHeight,$+=.025})}},[i,d,n]),Qe.createElement("div",{ref:o,className:"Toastify",id:w,onMouseEnter:()=>{n&&(r(!1),Xe.pause())},onMouseLeave:O},l((k,z)=>{const A=z.length?{..._}:{..._,pointerEvents:"none"};return Qe.createElement("div",{className:N(k),style:A,key:`container-${k}`},z.map(P=>{let{content:R,props:$}=P;return Qe.createElement(ZD,{...$,stacked:n,collapseAll:O,isIn:h($.toastId,$.containerId),style:$.style,key:`toast-${$.key}`},R)}))}))}const cx=()=>{const[t,e]=q.useState(""),[n,i]=q.useState(""),r=async o=>{o.preventDefault();try{await UN(jr,t,n),console.log("user logged in successfully"),window.location.href="/",Xe.success("Success",{position:"top-center"})}catch(l){console.log(l.message),Xe.error(l.message,{position:"bottom-center"})}};return E.jsxs("div",{className:"flex justify-center items-center mt-12",children:[E.jsx("section",{className:"bg-blue-200 h-[500px] w-[40%] rounded-l-2xl hidden md:flex animate-slideIn items-center justify-center",children:E.jsxs("div",{children:[E.jsx("h1",{className:"text-black font-bold text-lg md:text-2xl mb-6",children:"WELCOME BACK"}),E.jsx("img",{src:"/haven3.jpg",alt:""})]})}),E.jsx("section",{className:"flex flex-col justify-center shadow-3xl h-[500px] md:w-[40%] w-[80%] rounded-r-xl animate-slideDown",children:E.jsxs("form",{onSubmit:r,className:"flex flex-col gap-10 items-center justify-center py-auto p-5",children:[E.jsx("div",{children:E.jsx("h2",{className:"text-xl md:text-2xl font-bold font-poppins",children:"Login"})}),E.jsxs("div",{className:"flex items-center gap-3 border p-2 rounded-xl w-[80%] font-medium",children:[E.jsx("img",{src:"/email.svg",alt:"",width:25}),E.jsx("input",{type:"email",placeholder:"n@example.com",className:"outline-none",required:!0,value:t,onChange:o=>e(o.target.value)})]}),E.jsxs("div",{className:"flex items-center gap-3 border p-2 rounded-xl w-[80%] font-medium",children:[E.jsx("img",{src:"/password.svg",alt:"",width:25}),E.jsx("input",{type:"password",placeholder:"Enter Password",className:"outline-none",required:!0,value:n,onChange:o=>i(o.target.value)})]}),E.jsx("div",{className:"w-[80%]",children:E.jsx("button",{type:"submit",className:"bg-black text-white font-bold w-[100%] p-2 rounded-xl",children:"Login"})}),E.jsx("div",{children:E.jsxs("h1",{className:"text-sm md:text-base",children:["Dont Have an account? ",E.jsx(at,{to:"/register",className:"text-blue-500",children:"Register"})]})})]})})]})},XD=()=>{const[t,e]=q.useState(""),[n,i]=q.useState(""),[r,o]=q.useState(""),[l,h]=q.useState(""),[d,p]=q.useState(""),[_,y]=q.useState(""),[w,N]=q.useState("https://www.logomaker.com/api/main/images/1j+ojlxEOMkX9Wyqfhe43D6kh...GIpRdLnR3EwXs1M3EMoAJtlyItg...Ft8fwyPExevg9C3ktKMcs8"),O=async k=>{k.preventDefault();try{await FN(jr,t,r,l,w,n,d,_);const z=jr.currentUser;console.log(z),z&&(await UL(Ka(Xu,"Users",z.uid),{email:z.email,phoneNumber:l,firstName:d,lastName:_,userName:n,imgURL:w}),window.location.href="/login"),console.log(`${n} registered successfully`),Xe.success(`${n} Registered successfully`,{position:"top-center"})}catch(z){console.log(z.message),Xe.error(z.message,{position:"bottom-center"})}};return E.jsxs("div",{className:"h-[100%] flex  justify-center items-center md:py-12 p-4",children:[E.jsx("section",{className:"bg-black w-[40%] h-[600px] items-center justify-center my-auto rounded-l-xl shadow-xl hidden md:flex animate-slideIn",children:E.jsx("div",{className:"text-center justify-center items-center  ",children:E.jsx("img",{src:"/haven1.jpg",alt:"",className:"mx-auto flex p-48 "})})}),E.jsx("section",{className:"flex flex-col gap-6 lg:p-4 items-center border-2 md:h-[600px] h-[100%] p-12 justify-center md:rounded-r-xl rounded-xl shadow-3xl md:w-[50%] mini:[w-80%] padAir:[w-80%] w-[100%] animate-slideDown",children:E.jsxs("form",{onSubmit:O,className:"flex flex-col items-center gap-10 w-[90%] justify-center mini:w-[100%] p-4",children:[E.jsx("div",{className:"mb-4",children:E.jsx("h1",{className:"w-[80%] mx-auto text-center font-bold font-poppins text-2xl ",children:"Register"})}),E.jsxs("div",{className:"flex flex-col padAir:flex-row gap-8 w-[100%] items-center justify-center mini:w-[full]",children:[E.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3 mini:w-[80%]",children:[E.jsx("img",{src:"/user.png",alt:"",width:30}),E.jsx("input",{type:"text",className:"outline-none w-[100%] ",required:!0,value:n,placeholder:"Enter Username",onChange:k=>i(k.target.value)})]}),E.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3 mini:w-[80%]",children:[E.jsx("img",{src:"/email.svg",alt:"",width:30}),E.jsx("input",{type:"email",className:"outline-none w-[100%]",required:!0,value:t,placeholder:"H@example.com",onChange:k=>e(k.target.value)})]})]}),E.jsxs("div",{className:"flex flex-col padAir:flex-row gap-8 w-[100%]  items-center justify-center",children:[E.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3 mini:w-[80%]",children:[E.jsx("img",{src:"/name.svg",alt:"",width:30}),E.jsx("input",{type:"text",className:"outline-none w-[100%]",required:!0,value:d,placeholder:"John",onChange:k=>p(k.target.value)})]}),E.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3 mini:w-[80%]",children:[E.jsx("img",{src:"/name.svg",alt:"",width:30}),E.jsx("input",{type:"text",className:"outline-none w-[100%]",required:!0,value:_,placeholder:"Doe",onChange:k=>y(k.target.value)})]})]}),E.jsxs("div",{className:"flex flex-col padAir:flex-row gap-8 w-[100%]  items-center justify-center",children:[E.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3 mini:w-[80%]",children:[E.jsx("img",{src:"/phone.svg",alt:"",width:30}),E.jsx("input",{type:"text",className:"outline-none w-[100%]",required:!0,value:l,placeholder:"+1(155)-676-0964",onChange:k=>h(k.target.value)})]}),E.jsxs("div",{className:"flex gap-2 items-center border-2 border-zinc-300 rounded-xl p-3 mini:w-[80%] ",children:[E.jsx("img",{src:"/password.svg",alt:"",width:30}),E.jsx("input",{type:"password",className:"outline-none w-[100%]",required:!0,value:r,placeholder:"Enter Password",onChange:k=>o(k.target.value)})]})]}),E.jsx("div",{className:"w-[100%] spro:w-[80%] mt-12",children:E.jsx("button",{className:"bg-blue-300 w-[100%] p-3 rounded-xl font-semibold font-montserrat",type:"submit",children:"Register"})}),E.jsx("div",{className:"text-sm md:text-base text-right ",children:E.jsxs("h2",{children:["Already Have an Account? ",E.jsx(at,{to:"/login",className:"text-blue-600  ",children:" Login"})]})})]})}),E.jsx(YD,{})]})},JD=()=>{const[t,e]=q.useState(""),n=async()=>{jr.onAuthStateChanged(async r=>{console.log(r);const o=Ka(Xu,"Users",r.uid),l=await Ku(o);l.exists()?(e(l.data()),console.log(l.data())):console.log("user is not login")})};q.useEffect(()=>{n()},[]);const i=async()=>{try{await jr.signOut(),console.log("User Logged Out successfully!"),window.location.href="/login",Xe.success(`${t.firstName} logged out successfully`,{position:"top-center"})}catch(r){console.log("Error logging out:",r.message)}};return E.jsx("div",{className:"flex flex-col items-center justify-center h-[500px] mt-12 ",children:t?E.jsxs("div",{className:"shadow-3xl md:h-[550px] flex flex-col items-center justify-center w-[80%] lg:w-[40%] lg:gap-10 gap-5 rounded-lg animate-slideDown   p-20 h-[100%]",children:[E.jsx("div",{className:"w-[50%]",children:E.jsx("img",{src:t.imgURL,alt:"",className:"rounded-full object-cover pt-8 w-[100%]"})}),E.jsxs("h1",{className:"font-semibold text-lg lg:text-xl mb-4",children:["Welcome ",t.userName]}),E.jsxs("div",{className:"flex flex-col gap-5 font-medium text-base lg:text-lg",children:[E.jsxs("p",{children:["Email: ",t.email]}),E.jsxs("p",{children:["First Name: ",t.firstName]}),E.jsxs("p",{children:["Last Name : ",t.lastName]}),E.jsxs("p",{children:["Phone Number: ",t.phoneNumber]})]}),E.jsx("button",{className:"p-4 bg-blue-600 font-bold rounded-xl text-white w-[80%]",onClick:i,children:"Logout"})]}):E.jsx("div",{className:"text-lg lg:text-xl ",children:E.jsxs("p",{children:["Sign in to Continue ",E.jsx(at,{to:"/login ",className:"font-medium text-coral-red",children:"Login"})]})})})},eO=({property:t})=>E.jsxs("div",{className:"border p-4 rounded-2xl bg-white-400 flex flex-col items-center justify-center gap-10 text-center mt-12 shadow-3xl",children:[E.jsx(at,{to:`${t.slug}`,className:"w-[100%]",children:E.jsx("img",{src:t.img,alt:"",className:"h-64 w-[70%] object-cover rounded-md mx-auto"})}),E.jsx("h2",{className:"font-medium text-lg md:text-xl",children:t.title}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("img",{src:"/pin.png",alt:"",width:20}),E.jsx("h2",{className:"text-sm",children:t.address})]}),E.jsxs("div",{className:"flex justify-between gap-24",children:[E.jsxs("p",{children:[" ",E.jsx("img",{src:"/bath.png",alt:"",width:20})," ",E.jsxs("span",{children:[t.bathroom," Bathroom"]})]}),E.jsxs("p",{children:[" ",E.jsx("img",{src:"/bed.png",alt:"",width:20})," ",E.jsxs("span",{children:[t.bathroom," Bedroom"]})]})]}),E.jsxs("h3",{className:"text-xl font-medium bg-blue-50 p-1",children:["$",t.price]}),E.jsx("button",{className:"w-[80%]",children:E.jsx(at,{to:t.slug,className:"bg-blue-900 w-[100%] p-2 text-blue-50 rounded-xl",children:"View More"})})]}),tO=({properties:t})=>E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map(e=>E.jsx(eO,{property:e},e.id))}),hx=[{id:1,title:"A Great Apartment Next to the Beach!",img:"https://images.pexels.com/photos/1918291/pexels-photo-1918291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:2,bathroom:1,price:"201000",address:"456 Park Avenue, London",latitude:51.5074,longitude:-.1278,status:"For Sale",type:"apartment",many:"sale",slug:"p-1",school:"200m away",bus:"100m away",restaurant:"30m away",description:"Nestled in the heart of the city, this sleek modern apartment offers a luxurious urban living experience. Boasting two spacious bedrooms and two pristine bathrooms, the open-concept living area seamlessly integrates with a fully-equipped kitchen, perfect for entertaining. Residents enjoy exclusive access to a rooftop terrace with stunning city views, a state-of-the-art gym, and round-the-clock security. Available for sale at $201000, this apartment is ideal for those seeking convenience and style.",img1:"https://i.pinimg.com/originals/26/58/06/265806abb62c82c7cfdaeb097d5245d2.jpg",img2:"https://i.ytimg.com/vi/-6EylAMOK9U/maxresdefault.jpg"},{id:2,title:"An Awesome Apartment Near the Park! Almost too good to be true!",img:"https://images.pexels.com/photos/1428348/pexels-photo-1428348.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:3,bathroom:2,price:"1500",address:"789 Oxford Street, London",latitude:52.4862,longitude:-1.8904,status:"for rent",type:"cottage",many:"rent",slug:"p-2",school:"280m away",bus:"160m away",restaurant:"100m away",description:"Located in a tranquil suburb, this charming cottage provides a cozy retreat from the hustle and bustle of city life. The home features three comfortable bedrooms, one and a half bathrooms, and a spacious backyard perfect for family gatherings. A modern kitchen with contemporary appliances complements the inviting living spaces. With parks, schools, and local shops just a stone's throw away,  Available for rent at $2,500 per month,offering a perfect blend of comfort and convenience.",img1:"https://i.pinimg.com/originals/9b/2a/41/9b2a41a75eef0ad4051a841f2d45b525.jpg",img2:"https://www.build-review.com/wp-content/uploads/2021/01/large-house.jpg"},{id:3,title:"A New Apartment in the City!",img:"https://images.pexels.com/photos/2062426/pexels-photo-2062426.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:1,bathroom:1,price:"6800",address:"101 Baker Street, London",latitude:53.4808,longitude:-2.2426,status:"for rent",type:"apartment",many:"rent",slug:"p-3",school:"350m away",bus:"150m away",restaurant:"80m away",description:"Embrace a tranquil countryside lifestyle with this charming farmhouse. The property includes three bedrooms, two bathrooms, a barn, and a large garden ideal for sustainable living. Enjoy the serenity of nearby vineyards and rolling hills while staying close to essential amenities. This farmhouse offers a unique blend of rustic charm and modern comforts, priced at $6800 per Month",img1:"https://i.pinimg.com/originals/18/9a/87/189a8770016da26197dc81b3e515d601.png",img2:"https://hgtvhome.sndimg.com/content/dam/images/hgtv/fullset/2019/3/27/0/HUHH2019-Waterfront_Osterville-MA_005.jpg.rend.hgtvcom.616.411.suffix/1553706598088.jpeg"},{id:4,title:"Great Location! Great Price! Great Apartment!",img:"https://images.pexels.com/photos/2467285/pexels-photo-2467285.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:2,bathroom:1,price:"800000",address:"234 Kingsway, London,",latitude:53.8008,longitude:-1.5491,status:"for sale",type:"apartment",many:"sale",slug:"p-4",school:"290m away",bus:"50m away",restaurant:"50m away",description:"Escape to a secluded mountain retreat with this rustic cabin, surrounded by breathtaking natural beauty. Featuring four bedrooms, three bathrooms, and a large deck, this home is designed for relaxation and adventure. A wood-burning fireplace adds a cozy touch to the spacious living areas. Nearby hiking trails and skiing opportunities make this cabin a perfect getaway, listed for sale at $800,000.",img1:"https://i.pinimg.com/736x/da/79/fc/da79fc167b8b23c82d20f561c3ca0a4f.jpg",img2:"https://thumbs.dreamstime.com/b/modern-house-interior-5388318.jpg"},{id:5,title:"Exclusive Beachfront Villa",img:"https://images.pexels.com/photos/276625/pexels-photo-276625.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:3,bathroom:2,price:"450000",address:"567 Victoria Road, London",latitude:53.4084,longitude:-2.9916,status:"for sale",type:"Villa",many:"sale",slug:"p-5",school:"250m away",bus:"100m away",restaurant:"50m away",description:"Embrace a tranquil countryside lifestyle with this charming farmhouse. The property includes three bedrooms, two bathrooms, a barn, and a large garden ideal for sustainable living. Enjoy the serenity of nearby vineyards and rolling hills while staying close to essential amenities. This farmhouse offers a unique blend of rustic charm and modern comforts, priced at $450,000.",img1:"https://static.vecteezy.com/system/resources/thumbnails/023/307/478/small_2x/ai-generative-exterior-of-modern-luxury-house-with-garden-and-beautiful-sky-photo.jpg",img2:"https://thumbs.dreamstime.com/b/house-interior-29639345.jpg"},{id:6,title:"Sleek Downtown Suite",img:"https://images.pexels.com/photos/271816/pexels-photo-271816.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:1,bathroom:1,price:"2800",address:"890 Regent Street, London",latitude:54.9783,longitude:-1.6174,status:"for rent",type:"apartment",many:"rent",slug:"p-6",school:"450m away",bus:"90m away",restaurant:"100m away",description:"Located in a green community, this eco-friendly smart home combines sustainability with modern technology. It includes three bedrooms, two bathrooms, solar panels, and energy-efficient appliances. Smart home technology enhances convenience and reduces the environmental footprint. Community gardens and other eco-friendly amenities make this home a perfect choice for environmentally conscious buyers, priced at $7000 per month",img1:"https://us.123rf.com/450wm/visoot/visoot2307/visoot230701142/208218826-residential-architecture-exterior-design-house-modern-minimalist-private-houses.jpg",img2:"https://cdn.homedit.com/wp-content/uploads/2022/01/Inside-bel-air-mansion-living-room.jpg"},{id:7,title:"Serene Coastal Villa",img:"https://images.pexels.com/photos/2029667/pexels-photo-2029667.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:2,bathroom:1,price:"550000",address:"112 Piccadilly, London",latitude:53.3811,longitude:-1.4701,status:"for sale",type:"Villa",many:"sale",slug:"p-7",school:"250m away",bus:"100m away",restaurant:"50m away",description:"Located in a family-friendly neighborhood, this spacious home is designed for comfortable family living. It offers five bedrooms, three bathrooms, a large backyard for kids to play, and a three-car garage. Excellent schools, parks, and community centers are all nearby, making it an ideal place to raise a family. This home is listed for sale at $550,000.",img1:"https://static.vecteezy.com/system/resources/thumbnails/023/331/645/small_2x/ai-generative-exterior-of-modern-luxury-house-with-garden-and-beautiful-sky-photo.jpg",img2:"https://cdn.homedit.com/wp-content/uploads/2022/01/Mansion-living-room-decor-1024x653.jpg"},{id:8,title:"Opulent Seaside Retreat",img:"https://images.pexels.com/photos/276724/pexels-photo-276724.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",bedroom:5,bathroom:5,price:"955500",address:"8765 Main High Street, London",latitude:51.4545,longitude:-2.5879,status:"for Sale",type:"Villa",many:"sale",slug:"p-8",description:"Future alike hill pull picture swim magic chain seed engineer nest outer raise bound easy poetry gain loud weigh me recognize farmer bare danger. actually put square leg vessels earth engine matter key cup indeed body film century shut place environment were stage vertical roof bottom lady function breeze darkness beside tin view local breathe carbon swam declared magnet escape has from pile apart route coffee storm someone hold space use ahead sheep jungle closely natural attached part top grain your grade trade corn salmon trouble new bend most teacher range anybody every seat fifteen eventually",img1:"https://static.vecteezy.com/system/resources/thumbnails/023/309/774/small/ai-generative-exterior-of-modern-luxury-house-with-garden-and-beautiful-sky-photo.jpg",img2:"https://loveincorporated.blob.core.windows.net/contentimages/gallery/750d821d-6bab-4d29-a689-e4c92df8f21f-mansions-with-massive-secrets-modern-mansion-inside.jpg",school:"250m away",bus:"190m away",restaurant:"50m away"},{id:9,title:"Modern Townhouse Retreat",img:"https://i2.au.reastatic.net/800x600/666aa9f84688b8cd3d67840e5c3c654ff2e49732b63a82ebf107ac7728e51ce0/image.jpg",img1:"https://cdn.homedsgn.com/wp-content/uploads/2013/10/Stunning-Modern-Townhouse-Living-02.jpg",img2:"https://cdn.homedsgn.com/wp-content/uploads/2013/10/Stunning-Modern-Townhouse-Living-01.jpg",bathroom:2,bedroom:3,price:"760000",address:" New York, NY 11201 United States",latitude:51.3453,longitude:-2.5454,status:"for Sale",type:"townhouse",many:"sale",slug:"p-9",description:"Discover the perfect blend of contemporary design and comfortable living in this Modern Townhouse Retreat. Nestled in a vibrant urban neighborhood, this stunning townhouse offers a spacious and open floor plan, ideal for both relaxation and entertainment. The sleek, modern kitchen is equipped with top-of-the-line stainless steel appliances, quartz countertops, and ample storage space. Large windows throughout the home provide an abundance of natural light, creating a bright and airy atmosphere. The master suite is a true oasis, featuring a luxurious en-suite bathroom with a walk-in shower and a spacious walk-in closet. Additional bedrooms are generously sized and perfect for family, guests, or a home office. The private rooftop terrace offers panoramic city views and is perfect for hosting gatherings or enjoying a quiet evening under the stars. Conveniently located near trendy shops, fine dining, and excellent schools, this Modern Townhouse Retreat is the epitome of urban living. Enjoy the best of both worlds with easy access to the bustling city life and the tranquility of a private home. This townhouse is a rare find and a true gem for those seeking a stylish and modern living space.",school:"258m away",bus:"90m away",restaurant:"150m away"},{id:10,title:"Charming Suburban Townhouse",img:"https://www.gjgardner.com.au/wp-content/uploads/2023/11/big-70.jpg",img1:"https://cdn.decoist.com/wp-content/uploads/2013/11/Artful-living-room-in-a-modern-townhome.jpg",img2:"https://www.katicurtisdesign.com/wp-content/uploads/2021/01/modern-townhouse-interior-designer-kati-curtis-design-4.jpg",bathroom:3,bedroom:3,price:"7600",address:" Brooklyn, New York, NY 11201",latitude:51.3453,longitude:-2.5454,status:"for Rent",type:"townhouse",many:"rent",slug:"p-10",description:"Discover the perfect blend of contemporary design and comfortable living in this Modern Townhouse Retreat. Nestled in a vibrant urban neighborhood, this stunning townhouse offers a spacious and open floor plan, ideal for both relaxation and entertainment. The sleek, modern kitchen is equipped with top-of-the-line stainless steel appliances, quartz countertops, and ample storage space. Large windows throughout the home provide an abundance of natural light, creating a bright and airy atmosphere. The master suite is a true oasis, featuring a luxurious en-suite bathroom with a walk-in shower and a spacious walk-in closet. Additional bedrooms are generously sized and perfect for family, guests, or a home office. The private rooftop terrace offers panoramic city views and is perfect for hosting gatherings or enjoying a quiet evening under the stars. Conveniently located near trendy shops, fine dining, and excellent schools, this Modern Townhouse Retreat is the epitome of urban living. Enjoy the best of both worlds with easy access to the bustling city life and the tranquility of a private home. This townhouse is a rare find and a true gem for those seeking a stylish and modern living space..",school:"258m away",bus:"98m away",restaurant:"160m away"},{id:11,title:"Picturesque Coastal Cottage",img:"https://cdn11.bigcommerce.com/s-g95xg0y1db/images/stencil/1280x1280/b/cottage%20house%20plan%20-%20cherokee__17187.original.jpg",img1:"https://havenly.com/blog/wp-content/uploads/2021/11/V01-1710x970.jpeg",img2:"https://img.freepik.com/premium-photo/modern-cottage-sitting-room-decor-interior-design-living-room-furniture-neutral-colours-fireplace-home-decor-elegant-english-country-house-style-postprocessed-generative-ai_360074-77598.jpg",bathroom:3,bedroom:3,price:"407,600",address:" Cape Cod, Massachusetts, MA 0263 United States",latitude:51.3453,longitude:-2.5454,status:"for Sale",type:"cottage",many:"sale",slug:"p-11",description:"Welcome to this Picturesque Coastal Cottage, a quintessential seaside retreat nestled along the tranquil shores of Cape Cod. This charming cottage offers the perfect blend of classic New England charm and modern amenities, creating an idyllic escape for those who dream of coastal living. Upon entering, you are greeted by a warm and inviting living space, featuring rustic wooden beams and a stone fireplace that adds to the cozy ambiance. Large windows flood the space with natural light and offer stunning views of the ocean. The open-concept kitchen, equipped with updated appliances and granite countertops, includes a delightful breakfast nook where you can enjoy your morning coffee while gazing at the sea. The master bedroom serves as a private haven, complete with its own balcony that provides a panoramic view of the ocean—perfect for relaxing after a long day. Additional bedrooms are spacious and well-designed, offering comfort and privacy for family and guests alike. Step outside to the expansive deck and beautifully landscaped yard, ideal for outdoor entertaining and soaking up the sun. The proximity to the beach is unparalleled, with just a few steps separating you from the sandy shores and the soothing sound of waves. Priced at $1,250,000, this cottage not only offers a serene and picturesque lifestyle but also an excellent investment in a prime coastal location. Situated in a quiet and friendly neighborhood, it is also conveniently close to local shops, fine dining, and a variety of recreational activities. This Picturesque Coastal Cottage is more than just a home—it's a lifestyle. Don’t miss your opportunity to own a slice of Cape Cod’s enchanting coastal beauty, where every day feels like a holiday. Come and experience the timeless charm and modern comforts of this extraordinary property.",school:"258m away",bus:"98m away",restaurant:"160m away"},{id:12,title:"Stunning Skyline Penthouse",img:"https://www.milldistricthealdsburg.com/app/uploads/2023/02/15-canopy-penthouse-401-primary-bedroom-patio-2400x1350-1.jpg",img1:"https://www.milldistricthealdsburg.com/app/uploads/2023/02/11-canopy-penthouse-401-primary-bedroom-patio-2400x1350-1.jpg",img2:"https://media.v2.siweb.es/uploaded_thumb_big/9fb7c789c323c64d5c4e4fcb00491d67/post_1_abril_penthouses.jpg",bathroom:3,bedroom:2,price:"3,500,000",address:"9876 Skyview Avenue New York, NY 10001",latitude:51.3453,longitude:-2.5454,status:"for Sale",type:"penthouse",many:"sale",slug:"p-12",description:"Discover the epitome of luxury living in this Stunning Skyline Penthouse, perched high above the vibrant streets of New York City. This exquisite penthouse offers an unparalleled living experience, combining sophisticated design with breathtaking views of the iconic city skyline. As you step inside, you are greeted by an expansive open-plan living area, featuring floor-to-ceiling windows that flood the space with natural light and provide panoramic views of the cityscape. The modern, state-of-the-art kitchen is a chef’s dream, equipped with top-of-the-line appliances, sleek cabinetry, and an oversized island perfect for entertaining. The master suite is a private oasis, boasting a spacious layout, a walk-in closet, and a luxurious en-suite bathroom with a soaking tub and rain shower. Wake up to stunning sunrises and unwind with spectacular sunsets from the comfort of your own bedroom. Additional bedrooms are equally impressive, offering ample space and stunning views, ensuring comfort for family and guests. Step outside to the private terrace, an ideal spot for alfresco dining, entertaining, or simply enjoying the sweeping views of the city. The penthouse also includes exclusive amenities such as a fitness center, rooftop pool, and 24-hour concierge service, ensuring a lifestyle of convenience and luxury.Priced at $3,500,000, this penthouse not only offers a premium living experience but also a prime location in the heart of New York City. Situated within walking distance to world-class dining, shopping, and entertainment, it provides easy access to everything the city has to offer. This Stunning Skyline Penthouse is more than just a residence; it's a statement of elegance and prestige. Don’t miss the opportunity to own this extraordinary property, where modern luxury meets the timeless beauty of the New York skyline. Experience the height of sophistication and comfort in your new home.",school:"258m away",bus:"198m away",restaurant:"170m away"}],nO=()=>{const[t,e]=q.useState(""),[n,i]=q.useState(""),[r,o]=q.useState(""),[l,h]=q.useState(""),d=hx.filter(_=>(_.type.toLowerCase().includes(n.toLowerCase())||n==="")&&(_.many===l||l==="")&&(_.price===r||r==="")),p=async()=>{jr.onAuthStateChanged(async _=>{console.log(_);const y=Ka(Xu,"Users",_.uid),w=await Ku(y);w.exists()?(e(w.data()),console.log(w.data())):console.log("user is not login")})};return q.useEffect(()=>{p()},[]),E.jsx(E.Fragment,{children:t?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"container mx-auto p-4",children:[E.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Properties"}),E.jsxs("div",{className:"flex flex-col lg:flex-row gap-2",children:[E.jsx("input",{type:"text",placeholder:"Types of Properties...",value:n,onChange:_=>i(_.target.value),className:"border p-2 mb-4 w-full rounded-2xl outline-none"}),E.jsx("input",{type:"text",placeholder:"Price",value:r,onChange:_=>o(_.target.value),className:"border p-2 mb-4 w-full rounded-2xl outline-none"}),E.jsx("input",{type:"text",placeholder:"Sale/Rent",value:l,onChange:_=>h(_.target.value),className:"border p-2 mb-4 w-full rounded-2xl outline-none"}),E.jsx("button",{className:"w-full lg:w-[50%] bg-blue-900 text-white p-1 rounded-xl mb-2",children:"Search"})]}),E.jsx(tO,{properties:d})]}),E.jsx("section",{className:"mt-24",children:E.jsx(Fd,{})})]}):E.jsx(cx,{})})};function dx(t,e){const n=q.useRef(e);q.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const iO=1;function rO(t){return Object.freeze({__version:iO,map:t})}function sO(t,e){return Object.freeze({...t,...e})}const fx=q.createContext(null),px=fx.Provider;function mx(){const t=q.useContext(fx);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function oO(t){function e(n,i){const{instance:r,context:o}=t(n).current;return q.useImperativeHandle(i,()=>r),n.children==null?null:Qe.createElement(px,{value:o},n.children)}return q.forwardRef(e)}function aO(t){function e(n,i){const[r,o]=q.useState(!1),{instance:l}=t(n,o).current;q.useImperativeHandle(i,()=>l),q.useEffect(function(){r&&l.update()},[l,r,n.children]);const h=l._contentNode;return h?yd.createPortal(n.children,h):null}return q.forwardRef(e)}function lO(t){function e(n,i){const{instance:r}=t(n).current;return q.useImperativeHandle(i,()=>r),null}return q.forwardRef(e)}function gx(t,e){const n=q.useRef();q.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Kg(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function uO(t,e){return function(i,r){const o=mx(),l=t(Kg(i,o),o);return dx(o.map,i.attribution),gx(l.current,i.eventHandlers),e(l.current,o,i,r),l}}var rm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(Wx,function(n){var i="1.9.4";function r(s){var a,c,f,g;for(c=1,f=arguments.length;c<f;c++){g=arguments[c];for(a in g)s[a]=g[a]}return s}var o=Object.create||function(){function s(){}return function(a){return s.prototype=a,new s}}();function l(s,a){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var f=c.call(arguments,2);return function(){return s.apply(a,f.length?f.concat(c.call(arguments)):arguments)}}var h=0;function d(s){return"_leaflet_id"in s||(s._leaflet_id=++h),s._leaflet_id}function p(s,a,c){var f,g,T,V;return V=function(){f=!1,g&&(T.apply(c,g),g=!1)},T=function(){f?g=arguments:(s.apply(c,arguments),setTimeout(V,a),f=!0)},T}function _(s,a,c){var f=a[1],g=a[0],T=f-g;return s===f&&c?s:((s-g)%T+T)%T+g}function y(){return!1}function w(s,a){if(a===!1)return s;var c=Math.pow(10,a===void 0?6:a);return Math.round(s*c)/c}function N(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function O(s){return N(s).split(/\s+/)}function k(s,a){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var c in a)s.options[c]=a[c];return s.options}function z(s,a,c){var f=[];for(var g in s)f.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(s[g]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function P(s,a){return s.replace(A,function(c,f){var g=a[f];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(a)),g})}var R=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function $(s,a){for(var c=0;c<s.length;c++)if(s[c]===a)return c;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var C=0;function x(s){var a=+new Date,c=Math.max(0,16-(a-C));return C=a+c,window.setTimeout(s,c)}var S=window.requestAnimationFrame||j("RequestAnimationFrame")||x,b=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function M(s,a,c){if(c&&S===x)s.call(a);else return S.call(window,l(s,a))}function U(s){s&&b.call(window,s)}var D={__proto__:null,extend:r,create:o,bind:l,get lastId(){return h},stamp:d,throttle:p,wrapNum:_,falseFn:y,formatNum:w,trim:N,splitWords:O,setOptions:k,getParamString:z,template:P,isArray:R,indexOf:$,emptyImageUrl:X,requestFn:S,cancelFn:b,requestAnimFrame:M,cancelAnimFrame:U};function Ie(){}Ie.extend=function(s){var a=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,f=o(c);f.constructor=a,a.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(a[g]=this[g]);return s.statics&&r(a,s.statics),s.includes&&(_t(s.includes),r.apply(null,[f].concat(s.includes))),r(f,s),delete f.statics,delete f.includes,f.options&&(f.options=c.options?o(c.options):{},r(f.options,s.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,V=f._initHooks.length;T<V;T++)f._initHooks[T].call(this)}},a},Ie.include=function(s){var a=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=a,this.mergeOptions(s.options)),this},Ie.mergeOptions=function(s){return r(this.prototype.options,s),this},Ie.addInitHook=function(s){var a=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function _t(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=R(s)?s:[s];for(var a=0;a<s.length;a++)s[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Je={on:function(s,a,c){if(typeof s=="object")for(var f in s)this._on(f,s[f],a);else{s=O(s);for(var g=0,T=s.length;g<T;g++)this._on(s[g],a,c)}return this},off:function(s,a,c){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var f in s)this._off(f,s[f],a);else{s=O(s);for(var g=arguments.length===1,T=0,V=s.length;T<V;T++)g?this._off(s[T]):this._off(s[T],a,c)}return this},_on:function(s,a,c,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(s,a,c)===!1){c===this&&(c=void 0);var g={fn:a,ctx:c};f&&(g.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(g)}},_off:function(s,a,c){var f,g,T;if(this._events&&(f=this._events[s],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,T=f.length;g<T;g++)f[g].fn=y;delete this._events[s];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var V=this._listens(s,a,c);if(V!==!1){var K=f[V];this._firingCount&&(K.fn=y,this._events[s]=f=f.slice()),f.splice(V,1)}}},fire:function(s,a,c){if(!this.listens(s,c))return this;var f=r({},a,{type:s,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var g=this._events[s];if(g){this._firingCount=this._firingCount+1||1;for(var T=0,V=g.length;T<V;T++){var K=g[T],G=K.fn;K.once&&this.off(s,G,K.ctx),G.call(K.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(s,a,c,f){typeof s!="string"&&console.warn('"string" type argument expected');var g=a;typeof a!="function"&&(f=!!a,g=void 0,c=void 0);var T=this._events&&this._events[s];if(T&&T.length&&this._listens(s,g,c)!==!1)return!0;if(f){for(var V in this._eventParents)if(this._eventParents[V].listens(s,a,c,f))return!0}return!1},_listens:function(s,a,c){if(!this._events)return!1;var f=this._events[s]||[];if(!a)return!!f.length;c===this&&(c=void 0);for(var g=0,T=f.length;g<T;g++)if(f[g].fn===a&&f[g].ctx===c)return g;return!1},once:function(s,a,c){if(typeof s=="object")for(var f in s)this._on(f,s[f],a,!0);else{s=O(s);for(var g=0,T=s.length;g<T;g++)this._on(s[g],a,c,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[d(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[d(s)],this},_propagateEvent:function(s){for(var a in this._eventParents)this._eventParents[a].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};Je.addEventListener=Je.on,Je.removeEventListener=Je.clearAllEventListeners=Je.off,Je.addOneTimeEventListener=Je.once,Je.fireEvent=Je.fire,Je.hasEventListeners=Je.listens;var Ae=Ie.extend(Je);function Y(s,a,c){this.x=c?Math.round(s):s,this.y=c?Math.round(a):a}var pe=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(s){return this.clone()._add(ee(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ee(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new Y(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new Y(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pe(this.x),this.y=pe(this.y),this},distanceTo:function(s){s=ee(s);var a=s.x-this.x,c=s.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(s){return s=ee(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ee(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function ee(s,a,c){return s instanceof Y?s:R(s)?new Y(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new Y(s.x,s.y):new Y(s,a,c)}function ue(s,a){if(s)for(var c=a?[s,a]:s,f=0,g=c.length;f<g;f++)this.extend(c[f])}ue.prototype={extend:function(s){var a,c;if(!s)return this;if(s instanceof Y||typeof s[0]=="number"||"x"in s)a=c=ee(s);else if(s=me(s),a=s.min,c=s.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(s){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var a,c;return typeof s[0]=="number"||s instanceof Y?s=ee(s):s=me(s),s instanceof ue?(a=s.min,c=s.max):a=c=s,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=me(s);var a=this.min,c=this.max,f=s.min,g=s.max,T=g.x>=a.x&&f.x<=c.x,V=g.y>=a.y&&f.y<=c.y;return T&&V},overlaps:function(s){s=me(s);var a=this.min,c=this.max,f=s.min,g=s.max,T=g.x>a.x&&f.x<c.x,V=g.y>a.y&&f.y<c.y;return T&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var a=this.min,c=this.max,f=Math.abs(a.x-c.x)*s,g=Math.abs(a.y-c.y)*s;return me(ee(a.x-f,a.y-g),ee(c.x+f,c.y+g))},equals:function(s){return s?(s=me(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function me(s,a){return!s||s instanceof ue?s:new ue(s,a)}function ye(s,a){if(s)for(var c=a?[s,a]:s,f=0,g=c.length;f<g;f++)this.extend(c[f])}ye.prototype={extend:function(s){var a=this._southWest,c=this._northEast,f,g;if(s instanceof ve)f=s,g=s;else if(s instanceof ye){if(f=s._southWest,g=s._northEast,!f||!g)return this}else return s?this.extend(ge(s)||Ee(s)):this;return!a&&!c?(this._southWest=new ve(f.lat,f.lng),this._northEast=new ve(g.lat,g.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(s){var a=this._southWest,c=this._northEast,f=Math.abs(a.lat-c.lat)*s,g=Math.abs(a.lng-c.lng)*s;return new ye(new ve(a.lat-f,a.lng-g),new ve(c.lat+f,c.lng+g))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ve||"lat"in s?s=ge(s):s=Ee(s);var a=this._southWest,c=this._northEast,f,g;return s instanceof ye?(f=s.getSouthWest(),g=s.getNorthEast()):f=g=s,f.lat>=a.lat&&g.lat<=c.lat&&f.lng>=a.lng&&g.lng<=c.lng},intersects:function(s){s=Ee(s);var a=this._southWest,c=this._northEast,f=s.getSouthWest(),g=s.getNorthEast(),T=g.lat>=a.lat&&f.lat<=c.lat,V=g.lng>=a.lng&&f.lng<=c.lng;return T&&V},overlaps:function(s){s=Ee(s);var a=this._southWest,c=this._northEast,f=s.getSouthWest(),g=s.getNorthEast(),T=g.lat>a.lat&&f.lat<c.lat,V=g.lng>a.lng&&f.lng<c.lng;return T&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,a){return s?(s=Ee(s),this._southWest.equals(s.getSouthWest(),a)&&this._northEast.equals(s.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ee(s,a){return s instanceof ye?s:new ye(s,a)}function ve(s,a,c){if(isNaN(s)||isNaN(a))throw new Error("Invalid LatLng object: ("+s+", "+a+")");this.lat=+s,this.lng=+a,c!==void 0&&(this.alt=+c)}ve.prototype={equals:function(s,a){if(!s)return!1;s=ge(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(a===void 0?1e-9:a)},toString:function(s){return"LatLng("+w(this.lat,s)+", "+w(this.lng,s)+")"},distanceTo:function(s){return sn.distance(this,ge(s))},wrap:function(){return sn.wrapLatLng(this)},toBounds:function(s){var a=180*s/40075017,c=a/Math.cos(Math.PI/180*this.lat);return Ee([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function ge(s,a,c){return s instanceof ve?s:R(s)&&typeof s[0]!="object"?s.length===3?new ve(s[0],s[1],s[2]):s.length===2?new ve(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ve(s.lat,"lng"in s?s.lng:s.lon,s.alt):a===void 0?null:new ve(s,a,c)}var st={latLngToPoint:function(s,a){var c=this.projection.project(s),f=this.scale(a);return this.transformation._transform(c,f)},pointToLatLng:function(s,a){var c=this.scale(a),f=this.transformation.untransform(s,c);return this.projection.unproject(f)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(s),f=this.transformation.transform(a.min,c),g=this.transformation.transform(a.max,c);return new ue(f,g)},infinite:!1,wrapLatLng:function(s){var a=this.wrapLng?_(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?_(s.lat,this.wrapLat,!0):s.lat,f=s.alt;return new ve(c,a,f)},wrapLatLngBounds:function(s){var a=s.getCenter(),c=this.wrapLatLng(a),f=a.lat-c.lat,g=a.lng-c.lng;if(f===0&&g===0)return s;var T=s.getSouthWest(),V=s.getNorthEast(),K=new ve(T.lat-f,T.lng-g),G=new ve(V.lat-f,V.lng-g);return new ye(K,G)}},sn=r({},st,{wrapLng:[-180,180],R:6371e3,distance:function(s,a){var c=Math.PI/180,f=s.lat*c,g=a.lat*c,T=Math.sin((a.lat-s.lat)*c/2),V=Math.sin((a.lng-s.lng)*c/2),K=T*T+Math.cos(f)*Math.cos(g)*V*V,G=2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K));return this.R*G}}),Ao=6378137,Oi={R:Ao,MAX_LATITUDE:85.0511287798,project:function(s){var a=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,s.lat),-c),g=Math.sin(f*a);return new Y(this.R*s.lng*a,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(s){var a=180/Math.PI;return new ve((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*a,s.x*a/this.R)},bounds:function(){var s=Ao*Math.PI;return new ue([-s,-s],[s,s])}()};function Mi(s,a,c,f){if(R(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=a,this._c=c,this._d=f}Mi.prototype={transform:function(s,a){return this._transform(s.clone(),a)},_transform:function(s,a){return a=a||1,s.x=a*(this._a*s.x+this._b),s.y=a*(this._c*s.y+this._d),s},untransform:function(s,a){return a=a||1,new Y((s.x/a-this._b)/this._a,(s.y/a-this._d)/this._c)}};function ht(s,a,c,f){return new Mi(s,a,c,f)}var In=r({},sn,{code:"EPSG:3857",projection:Oi,transformation:function(){var s=.5/(Math.PI*Oi.R);return ht(s,.5,-s,.5)}()}),zr=r({},In,{code:"EPSG:900913"});function Br(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function On(s,a){var c="",f,g,T,V,K,G;for(f=0,T=s.length;f<T;f++){for(K=s[f],g=0,V=K.length;g<V;g++)G=K[g],c+=(g?"L":"M")+G.x+" "+G.y;c+=a?H.svg?"z":"x":""}return c||"M0 0"}var Bs=document.documentElement.style,$r="ActiveXObject"in window,$s=$r&&!document.addEventListener,Hr="msLaunchUri"in navigator&&!("documentMode"in document),Wr=Z("webkit"),ko=Z("android"),qr=Z("android 2")||Z("android 3"),pi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Vi=ko&&Z("Google")&&pi<537&&!("AudioNode"in window),vt=!!window.opera,Ct=!Hr&&Z("chrome"),on=Z("gecko")&&!Wr&&!vt&&!$r,Pn=!Ct&&Z("safari"),Kr=Z("phantom"),or="OTransition"in Bs,ar=navigator.platform.indexOf("Win")===0,Sn=$r&&"transition"in Bs,lr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qr,ur="MozPerspective"in Bs,bo=!window.L_DISABLE_3D&&(Sn||lr||ur)&&!or&&!Kr,cr=typeof orientation<"u"||Z("mobile"),Zr=cr&&Wr,hr=cr&&lr,Gr=!window.PointerEvent&&window.MSPointerEvent,Gn=!!(window.PointerEvent||Gr),mi="ontouchstart"in window||!!window.TouchEvent,dr=!window.L_NO_TOUCH&&(mi||Gn),gi=cr&&vt,Hs=cr&&on,Qr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ws=function(){var s=!1;try{var a=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",y,a),window.removeEventListener("testPassiveEventSupport",y,a)}catch{}return s}(),_i=function(){return!!document.createElement("canvas").getContext}(),vi=!!(document.createElementNS&&Br("svg").createSVGRect),Ut=!!vi&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Lo=!vi&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var a=s.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),F=navigator.platform.indexOf("Mac")===0,B=navigator.platform.indexOf("Linux")===0;function Z(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var H={ie:$r,ielt9:$s,edge:Hr,webkit:Wr,android:ko,android23:qr,androidStock:Vi,opera:vt,chrome:Ct,gecko:on,safari:Pn,phantom:Kr,opera12:or,win:ar,ie3d:Sn,webkit3d:lr,gecko3d:ur,any3d:bo,mobile:cr,mobileWebkit:Zr,mobileWebkit3d:hr,msPointer:Gr,pointer:Gn,touch:dr,touchNative:mi,mobileOpera:gi,mobileGecko:Hs,retina:Qr,passiveEvents:Ws,canvas:_i,svg:vi,vml:Lo,inlineSvg:Ut,mac:F,linux:B},oe=H.msPointer?"MSPointerDown":"pointerdown",de=H.msPointer?"MSPointerMove":"pointermove",we=H.msPointer?"MSPointerUp":"pointerup",re=H.msPointer?"MSPointerCancel":"pointercancel",Ce={touchstart:oe,touchmove:de,touchend:we,touchcancel:re},_e={touchstart:Mn,touchmove:mn,touchend:mn,touchcancel:mn},ce={},Me=!1;function Be(s,a,c){return a==="touchstart"&&ji(),_e[a]?(c=_e[a].bind(this,c),s.addEventListener(Ce[a],c,!1),c):(console.warn("wrong event specified:",a),y)}function Ge(s,a,c){if(!Ce[a]){console.warn("wrong event specified:",a);return}s.removeEventListener(Ce[a],c,!1)}function $e(s){ce[s.pointerId]=s}function yt(s){ce[s.pointerId]&&(ce[s.pointerId]=s)}function ot(s){delete ce[s.pointerId]}function ji(){Me||(document.addEventListener(oe,$e,!0),document.addEventListener(de,yt,!0),document.addEventListener(we,ot,!0),document.addEventListener(re,ot,!0),Me=!0)}function mn(s,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in ce)a.touches.push(ce[c]);a.changedTouches=[a],s(a)}}function Mn(s,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&wt(a),mn(s,a)}function yi(s){var a={},c,f;for(f in s)c=s[f],a[f]=c&&c.bind?c.bind(s):c;return s=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Qn=200;function Wt(s,a){s.addEventListener("dblclick",a);var c=0,f;function g(T){if(T.detail!==1){f=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var V=rl(T);if(!(V.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!V.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var K=Date.now();K-c<=Qn?(f++,f===2&&a(yi(T))):f=1,c=K}}}return s.addEventListener("click",g),{dblclick:a,simDblclick:g}}function Cn(s,a){s.removeEventListener("dblclick",a.dblclick),s.removeEventListener("click",a.simDblclick)}var Yn=fr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xn=fr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),be=Xn==="webkitTransition"||Xn==="OTransition"?Xn+"End":"transitionend";function nt(s){return typeof s=="string"?document.getElementById(s):s}function Rt(s,a){var c=s.style[a]||s.currentStyle&&s.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(s,null);c=f?f[a]:null}return c==="auto"?null:c}function he(s,a,c){var f=document.createElement(s);return f.className=a||"",c&&c.appendChild(f),f}function Fe(s){var a=s.parentNode;a&&a.removeChild(s)}function Fi(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function wi(s){var a=s.parentNode;a&&a.lastChild!==s&&a.appendChild(s)}function Yr(s){var a=s.parentNode;a&&a.firstChild!==s&&a.insertBefore(s,a.firstChild)}function Ga(s,a){if(s.classList!==void 0)return s.classList.contains(a);var c=Jn(s);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function De(s,a){if(s.classList!==void 0)for(var c=O(a),f=0,g=c.length;f<g;f++)s.classList.add(c[f]);else if(!Ga(s,a)){var T=Jn(s);Qa(s,(T?T+" ":"")+a)}}function pt(s,a){s.classList!==void 0?s.classList.remove(a):Qa(s,N((" "+Jn(s)+" ").replace(" "+a+" "," ")))}function Qa(s,a){s.className.baseVal===void 0?s.className=a:s.className.baseVal=a}function Jn(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function At(s,a){"opacity"in s.style?s.style.opacity=a:"filter"in s.style&&No(s,a)}function No(s,a){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):s.style.filter+=" progid:"+f+"(opacity="+a+")"}function fr(s){for(var a=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in a)return s[c];return!1}function Ui(s,a,c){var f=a||new Y(0,0);s.style[Yn]=(H.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function ke(s,a){s._leaflet_pos=a,H.any3d?Ui(s,a):(s.style.left=a.x+"px",s.style.top=a.y+"px")}function ei(s){return s._leaflet_pos||new Y(0,0)}var Ei,Ti,Ya;if("onselectstart"in document)Ei=function(){Pe(window,"selectstart",wt)},Ti=function(){it(window,"selectstart",wt)};else{var Xr=fr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ei=function(){if(Xr){var s=document.documentElement.style;Ya=s[Xr],s[Xr]="none"}},Ti=function(){Xr&&(document.documentElement.style[Xr]=Ya,Ya=void 0)}}function Xa(){Pe(window,"dragstart",wt)}function Ja(){it(window,"dragstart",wt)}var Do,el;function pr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Vn(),Do=s,el=s.style.outlineStyle,s.style.outlineStyle="none",Pe(window,"keydown",Vn))}function Vn(){Do&&(Do.style.outlineStyle=el,Do=void 0,el=void 0,it(window,"keydown",Vn))}function tl(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Oo(s){var a=s.getBoundingClientRect();return{x:a.width/s.offsetWidth||1,y:a.height/s.offsetHeight||1,boundingClientRect:a}}var Ju={__proto__:null,TRANSFORM:Yn,TRANSITION:Xn,TRANSITION_END:be,get:nt,getStyle:Rt,create:he,remove:Fe,empty:Fi,toFront:wi,toBack:Yr,hasClass:Ga,addClass:De,removeClass:pt,setClass:Qa,getClass:Jn,setOpacity:At,testProp:fr,setTransform:Ui,setPosition:ke,getPosition:ei,get disableTextSelection(){return Ei},get enableTextSelection(){return Ti},disableImageDrag:Xa,enableImageDrag:Ja,preventOutline:pr,restoreOutline:Vn,getSizedParentNode:tl,getScale:Oo};function Pe(s,a,c,f){if(a&&typeof a=="object")for(var g in a)nl(s,g,a[g],c);else{a=O(a);for(var T=0,V=a.length;T<V;T++)nl(s,a[T],c,f)}return this}var ti="_leaflet_events";function it(s,a,c,f){if(arguments.length===1)ec(s),delete s[ti];else if(a&&typeof a=="object")for(var g in a)il(s,g,a[g],c);else if(a=O(a),arguments.length===2)ec(s,function(K){return $(a,K)!==-1});else for(var T=0,V=a.length;T<V;T++)il(s,a[T],c,f);return this}function ec(s,a){for(var c in s[ti]){var f=c.split(/\d/)[0];(!a||a(f))&&il(s,f,null,null,c)}}var ni={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function nl(s,a,c,f){var g=a+d(c)+(f?"_"+d(f):"");if(s[ti]&&s[ti][g])return this;var T=function(K){return c.call(f||s,K||window.event)},V=T;!H.touchNative&&H.pointer&&a.indexOf("touch")===0?T=Be(s,a,T):H.touch&&a==="dblclick"?T=Wt(s,T):"addEventListener"in s?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?s.addEventListener(ni[a]||a,T,H.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(T=function(K){K=K||window.event,sl(s,K)&&V(K)},s.addEventListener(ni[a],T,!1)):s.addEventListener(a,V,!1):s.attachEvent("on"+a,T),s[ti]=s[ti]||{},s[ti][g]=T}function il(s,a,c,f,g){g=g||a+d(c)+(f?"_"+d(f):"");var T=s[ti]&&s[ti][g];if(!T)return this;!H.touchNative&&H.pointer&&a.indexOf("touch")===0?Ge(s,a,T):H.touch&&a==="dblclick"?Cn(s,T):"removeEventListener"in s?s.removeEventListener(ni[a]||a,T,!1):s.detachEvent("on"+a,T),s[ti][g]=null}function jn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Jr(s){return nl(s,"wheel",jn),this}function es(s){return Pe(s,"mousedown touchstart dblclick contextmenu",jn),s._leaflet_disable_click=!0,this}function wt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Fn(s){return wt(s),jn(s),this}function rl(s){if(s.composedPath)return s.composedPath();for(var a=[],c=s.target;c;)a.push(c),c=c.parentNode;return a}function Mo(s,a){if(!a)return new Y(s.clientX,s.clientY);var c=Oo(a),f=c.boundingClientRect;return new Y((s.clientX-f.left)/c.x-a.clientLeft,(s.clientY-f.top)/c.y-a.clientTop)}var mt=H.linux&&H.chrome?window.devicePixelRatio:H.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function tc(s){return H.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/mt:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function sl(s,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var nc={__proto__:null,on:Pe,off:it,stopPropagation:jn,disableScrollPropagation:Jr,disableClickPropagation:es,preventDefault:wt,stop:Fn,getPropagationPath:rl,getMousePosition:Mo,getWheelDelta:tc,isExternalTarget:sl,addListener:Pe,removeListener:it},ol=Ae.extend({run:function(s,a,c,f){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=ei(s),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(s){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,a){var c=this._startPos.add(this._offset.multiplyBy(s));a&&c._round(),ke(this._el,c),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ue=Ae.extend({options:{crs:In,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,a){a=k(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ge(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xn&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pe(this._proxy,be,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),s=this._limitCenter(ge(s),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,a,c.zoom):this._tryAnimatedPan(s,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(s,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(s,a){return this._loaded?this.setView(this.getCenter(),s,{zoom:a}):(this._zoom=s,this)},zoomIn:function(s,a){return s=s||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,a)},zoomOut:function(s,a){return s=s||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,a)},setZoomAround:function(s,a,c){var f=this.getZoomScale(a),g=this.getSize().divideBy(2),T=s instanceof Y?s:this.latLngToContainerPoint(s),V=T.subtract(g).multiplyBy(1-1/f),K=this.containerPointToLatLng(g.add(V));return this.setView(K,a,{zoom:c})},_getBoundsCenterZoom:function(s,a){a=a||{},s=s.getBounds?s.getBounds():Ee(s);var c=ee(a.paddingTopLeft||a.padding||[0,0]),f=ee(a.paddingBottomRight||a.padding||[0,0]),g=this.getBoundsZoom(s,!1,c.add(f));if(g=typeof a.maxZoom=="number"?Math.min(a.maxZoom,g):g,g===1/0)return{center:s.getCenter(),zoom:g};var T=f.subtract(c).divideBy(2),V=this.project(s.getSouthWest(),g),K=this.project(s.getNorthEast(),g),G=this.unproject(V.add(K).divideBy(2).add(T),g);return{center:G,zoom:g}},fitBounds:function(s,a){if(s=Ee(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,a){return this.setView(s,this._zoom,{pan:a})},panBy:function(s,a){if(s=ee(s).round(),a=a||{},!s.x&&!s.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ol,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){De(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,a,c){if(c=c||{},c.animate===!1||!H.any3d)return this.setView(s,a,c);this._stop();var f=this.project(this.getCenter()),g=this.project(s),T=this.getSize(),V=this._zoom;s=ge(s),a=a===void 0?V:a;var K=Math.max(T.x,T.y),G=K*this.getZoomScale(V,a),J=g.distanceTo(f)||1,ae=1.42,Se=ae*ae;function Ve(Ot){var vc=Ot?-1:1,zx=Ot?G:K,Bx=G*G-K*K+vc*Se*Se*J*J,$x=2*zx*Se*J,Gd=Bx/$x,__=Math.sqrt(Gd*Gd+1)-Gd,Hx=__<1e-9?-18:Math.log(__);return Hx}function _n(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function Kt(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}function ri(Ot){return _n(Ot)/Kt(Ot)}var An=Ve(0);function Go(Ot){return K*(Kt(An)/Kt(An+ae*Ot))}function Vx(Ot){return K*(Kt(An)*ri(An+ae*Ot)-_n(An))/Se}function jx(Ot){return 1-Math.pow(1-Ot,1.5)}var Fx=Date.now(),m_=(Ve(1)-An)/ae,Ux=c.duration?1e3*c.duration:1e3*m_*.8;function g_(){var Ot=(Date.now()-Fx)/Ux,vc=jx(Ot)*m_;Ot<=1?(this._flyToFrame=M(g_,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(Vx(vc)/J)),V),this.getScaleZoom(K/Go(vc),V),{flyTo:!0})):this._move(s,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),g_.call(this),this},flyToBounds:function(s,a){var c=this._getBoundsCenterZoom(s,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(s){return s=Ee(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var a=this.options.minZoom;return this.options.minZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var a=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,a){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,Ee(s));return c.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(s,a){a=a||{};var c=ee(a.paddingTopLeft||a.padding||[0,0]),f=ee(a.paddingBottomRight||a.padding||[0,0]),g=this.project(this.getCenter()),T=this.project(s),V=this.getPixelBounds(),K=me([V.min.add(c),V.max.subtract(f)]),G=K.getSize();if(!K.contains(T)){this._enforcingBounds=!0;var J=T.subtract(K.getCenter()),ae=K.extend(T).getSize().subtract(G);g.x+=J.x<0?-ae.x:ae.x,g.y+=J.y<0?-ae.y:ae.y,this.panTo(this.unproject(g),a),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=a.divideBy(2).round(),g=c.divideBy(2).round(),T=f.subtract(g);return!T.x&&!T.y?this:(s.animate&&s.pan?this.panBy(T):(s.pan&&this._rawPanBy(T),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,s):navigator.geolocation.getCurrentPosition(a,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var a=s.code,c=s.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var a=s.coords.latitude,c=s.coords.longitude,f=new ve(a,c),g=f.toBounds(s.coords.accuracy*2),T=this._locateOptions;if(T.setView){var V=this.getBoundsZoom(g);this.setView(f,T.maxZoom?Math.min(V,T.maxZoom):V)}var K={latlng:f,bounds:g,timestamp:s.timestamp};for(var G in s.coords)typeof s.coords[G]=="number"&&(K[G]=s.coords[G]);this.fire("locationfound",K)}},addHandler:function(s,a){if(!a)return this;var c=this[s]=new a(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Fe(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,a){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),f=he("div",c,a||this._mapPane);return s&&(this._panes[s]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),a=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new ye(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,a,c){s=Ee(s),c=ee(c||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),T=this.getMaxZoom(),V=s.getNorthWest(),K=s.getSouthEast(),G=this.getSize().subtract(c),J=me(this.project(K,f),this.project(V,f)).getSize(),ae=H.any3d?this.options.zoomSnap:1,Se=G.x/J.x,Ve=G.y/J.y,_n=a?Math.max(Se,Ve):Math.min(Se,Ve);return f=this.getScaleZoom(_n,f),ae&&(f=Math.round(f/(ae/100))*(ae/100),f=a?Math.ceil(f/ae)*ae:Math.floor(f/ae)*ae),Math.max(g,Math.min(T,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,a){var c=this._getTopLeftPoint(s,a);return new ue(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(s)/c.scale(a)},getScaleZoom:function(s,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var f=c.zoom(s*c.scale(a));return isNaN(f)?1/0:f},project:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ge(s),a)},unproject:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(ee(s),a)},layerPointToLatLng:function(s){var a=ee(s).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(s){var a=this.project(ge(s))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ge(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Ee(s))},distance:function(s,a){return this.options.crs.distance(ge(s),ge(a))},containerPointToLayerPoint:function(s){return ee(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ee(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var a=this.containerPointToLayerPoint(ee(s));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(s)))},mouseEventToContainerPoint:function(s){return Mo(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var a=this._container=nt(s);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pe(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,De(s,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Rt(s,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ke(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(De(s.markerPane,"leaflet-zoom-hide"),De(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,a,c){ke(this._mapPane,new Y(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var g=this._zoom!==a;this._moveStart(g,c)._move(s,a)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(s,a){return s&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(s,a,c,f){a===void 0&&(a=this._zoom);var g=this._zoom!==a;return this._zoom=a,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),f?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ke(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[d(this._container)]=this;var a=s?it:Pe;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=M(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,a){for(var c=[],f,g=a==="mouseout"||a==="mouseover",T=s.target||s.srcElement,V=!1;T;){if(f=this._targets[d(T)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){V=!0;break}if(f&&f.listens(a,!0)&&(g&&!sl(T,s)||(c.push(f),g))||T===this._container)break;T=T.parentNode}return!c.length&&!V&&!g&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var a=s.target||s.srcElement;if(!(!this._loaded||a._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(a))){var c=s.type;c==="mousedown"&&pr(a),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,a,c){if(s.type==="click"){var f=r({},s);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var g=this._findEventTargets(s,a);if(c){for(var T=[],V=0;V<c.length;V++)c[V].listens(a,!0)&&T.push(c[V]);g=T.concat(g)}if(g.length){a==="contextmenu"&&wt(s);var K=g[0],G={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var J=K.getLatLng&&(!K._radius||K._radius<=10);G.containerPoint=J?this.latLngToContainerPoint(K.getLatLng()):this.mouseEventToContainerPoint(s),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=J?K.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(V=0;V<g.length;V++)if(g[V].fire(a,G,!0),G.originalEvent._stopped||g[V].options.bubblingMouseEvents===!1&&$(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,a=this._handlers.length;s<a;s++)this._handlers[s].disable()},whenReady:function(s,a){return this._loaded?s.call(a||this,{target:this}):this.on("load",s,a),this},_getMapPanePos:function(){return ei(this._mapPane)||new Y(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,a){var c=s&&a!==void 0?this._getNewPixelOrigin(s,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,a){var c=this.getSize()._divideBy(2);return this.project(s,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,a,c){var f=this._getNewPixelOrigin(c,a);return this.project(s,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(s,a,c){var f=this._getNewPixelOrigin(c,a);return me([this.project(s.getSouthWest(),a)._subtract(f),this.project(s.getNorthWest(),a)._subtract(f),this.project(s.getSouthEast(),a)._subtract(f),this.project(s.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,a,c){if(!c)return s;var f=this.project(s,a),g=this.getSize().divideBy(2),T=new ue(f.subtract(g),f.add(g)),V=this._getBoundsOffset(T,c,a);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?s:this.unproject(f.add(V),a)},_limitOffset:function(s,a){if(!a)return s;var c=this.getPixelBounds(),f=new ue(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(s,a,c){var f=me(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),g=f.min.subtract(s.min),T=f.max.subtract(s.max),V=this._rebound(g.x,-T.x),K=this._rebound(g.y,-T.y);return new Y(V,K)},_rebound:function(s,a){return s+a>0?Math.round(s-a)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(a))},_limitZoom:function(s){var a=this.getMinZoom(),c=this.getMaxZoom(),f=H.any3d?this.options.zoomSnap:1;return f&&(s=Math.round(s/f)*f),Math.max(a,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,a){var c=this._getCenterOffset(s)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var s=this._proxy=he("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(a){var c=Yn,f=this._proxy.style[c];Ui(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),a=this.getZoom();Ui(this._proxy,this.project(s,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),g=this._getCenterOffset(s)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(g)?!1:(M(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(s,a,!0)},this),!0)},_animateZoom:function(s,a,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=a,De(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vo(s,a){return new Ue(s,a)}var Rn=Ie.extend({options:{position:"topright"},initialize:function(s){k(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var a=this._map;return a&&a.removeControl(this),this.options.position=s,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var a=this._container=this.onAdd(s),c=this.getPosition(),f=s._controlCorners[c];return De(a,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),gn=function(s){return new Rn(s)};Ue.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},a="leaflet-",c=this._controlContainer=he("div",a+"control-container",this._container);function f(g,T){var V=a+g+" "+a+T;s[g+T]=he("div",V,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Fe(this._controlCorners[s]);Fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var al=Rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,a,c,f){return c<f?-1:f<c?1:0}},initialize:function(s,a,c){k(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in s)this._addLayer(s[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Rn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,a){return this._addLayer(s,a),this._map?this._update():this},addOverlay:function(s,a){return this._addLayer(s,a,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(s));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){De(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(De(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",a=this._container=he("div",s),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),es(a),Jr(a);var f=this._section=he("section",s+"-list");c&&(this._map.on("click",this.collapse,this),Pe(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=he("a",s+"-toggle",a);g.href="#",g.title="Layers",g.setAttribute("role","button"),Pe(g,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){wt(T),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=he("div",s+"-base",f),this._separator=he("div",s+"-separator",f),this._overlaysList=he("div",s+"-overlays",f),a.appendChild(f)},_getLayer:function(s){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===s)return this._layers[a]},_addLayer:function(s,a,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fi(this._baseLayersList),Fi(this._overlaysList),this._layerControlInputs=[];var s,a,c,f,g=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),a=a||f.overlay,s=s||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(s=s&&g>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=a&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var a=this._getLayer(d(s.target)),c=a.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(s,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(s){var a=document.createElement("label"),c=this._map.hasLayer(s.layer),f;s.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(f),f.layerId=d(s.layer),Pe(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+s.name;var T=document.createElement("span");a.appendChild(T),T.appendChild(f),T.appendChild(g);var V=s.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,a,c,f=[],g=[];this._handlingClick=!0;for(var T=s.length-1;T>=0;T--)a=s[T],c=this._getLayer(a.layerId).layer,a.checked?f.push(c):a.checked||g.push(c);for(T=0;T<g.length;T++)this._map.hasLayer(g[T])&&this._map.removeLayer(g[T]);for(T=0;T<f.length;T++)this._map.hasLayer(f[T])||this._map.addLayer(f[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,a,c,f=this._map.getZoom(),g=s.length-1;g>=0;g--)a=s[g],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Pe(s,"click",wt),this.expand();var a=this;setTimeout(function(){it(s,"click",wt),a._preventClick=!1})}}),$d=function(s,a,c){return new al(s,a,c)},mr=Rn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var a="leaflet-control-zoom",c=he("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,a,c,f,g){var T=he("a",c,f);return T.innerHTML=s,T.href="#",T.title=a,T.setAttribute("role","button"),T.setAttribute("aria-label",a),es(T),Pe(T,"click",Fn),Pe(T,"click",g,this),Pe(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var s=this._map,a="leaflet-disabled";pt(this._zoomInButton,a),pt(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(De(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(De(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ue.mergeOptions({zoomControl:!0}),Ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new mr,this.addControl(this.zoomControl))});var ic=function(s){return new mr(s)},jo=Rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var a="leaflet-control-scale",c=he("div",a),f=this.options;return this._addScales(f,a+"-line",c),s.on(f.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,a,c){s.metric&&(this._mScale=he("div",a,c)),s.imperial&&(this._iScale=he("div",a,c))},_update:function(){var s=this._map,a=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,a]),s.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var a=this._getRoundNum(s),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/s)},_updateImperial:function(s){var a=s*3.2808399,c,f,g;a>5280?(c=a/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(g=this._getRoundNum(a),this._updateScale(this._iScale,g+" ft",g/a))},_updateScale:function(s,a,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=a},_getRoundNum:function(s){var a=Math.pow(10,(Math.floor(s)+"").length-1),c=s/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),Fo=function(s){return new jo(s)},rc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ts=Rn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?rc+" ":"")+"Leaflet</a>"},initialize:function(s){k(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=he("div","leaflet-control-attribution"),es(this._container);for(var a in s._layers)s._layers[a].getAttribution&&this.addAttribution(s._layers[a].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var a in this._attributions)this._attributions[a]&&s.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Ue.mergeOptions({attributionControl:!0}),Ue.addInitHook(function(){this.options.attributionControl&&new ts().addTo(this)});var Hd=function(s){return new ts(s)};Rn.Layers=al,Rn.Zoom=mr,Rn.Scale=jo,Rn.Attribution=ts,gn.layers=$d,gn.zoom=ic,gn.scale=Fo,gn.attribution=Hd;var Un=Ie.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Un.addTo=function(s,a){return s.addHandler(a,this),this};var qs={Events:Je},ll=H.touch?"touchstart mousedown":"mousedown",xi=Ae.extend({options:{clickTolerance:3},initialize:function(s,a,c,f){k(this,f),this._element=s,this._dragStartTarget=a||s,this._preventOutline=c},enable:function(){this._enabled||(Pe(this._dragStartTarget,ll,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xi._dragging===this&&this.finishDrag(!0),it(this._dragStartTarget,ll,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Ga(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){xi._dragging===this&&this.finishDrag();return}if(!(xi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(xi._dragging=this,this._preventOutline&&pr(this._element),Xa(),Ei(),!this._moving)){this.fire("down");var a=s.touches?s.touches[0]:s,c=tl(this._element);this._startPoint=new Y(a.clientX,a.clientY),this._startPos=ei(this._element),this._parentScale=Oo(c);var f=s.type==="mousedown";Pe(document,f?"mousemove":"touchmove",this._onMove,this),Pe(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var a=s.touches&&s.touches.length===1?s.touches[0]:s,c=new Y(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,wt(s),this._moved||(this.fire("dragstart"),this._moved=!0,De(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),De(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ke(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){pt(document.body,"leaflet-dragging"),this._lastTarget&&(pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),it(document,"mousemove touchmove",this._onMove,this),it(document,"mouseup touchend touchcancel",this._onUp,this),Ja(),Ti();var a=this._moved&&this._moving;this._moving=!1,xi._dragging=!1,a&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Uo(s,a,c){var f,g=[1,4,2,8],T,V,K,G,J,ae,Se,Ve;for(T=0,ae=s.length;T<ae;T++)s[T]._code=zi(s[T],a);for(K=0;K<4;K++){for(Se=g[K],f=[],T=0,ae=s.length,V=ae-1;T<ae;V=T++)G=s[T],J=s[V],G._code&Se?J._code&Se||(Ve=qt(J,G,Se,a,c),Ve._code=zi(Ve,a),f.push(Ve)):(J._code&Se&&(Ve=qt(J,G,Se,a,c),Ve._code=zi(Ve,a),f.push(Ve)),f.push(G));s=f}return s}function zo(s,a){var c,f,g,T,V,K,G,J,ae;if(!s||s.length===0)throw new Error("latlngs not passed");u(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Se=ge([0,0]),Ve=Ee(s),_n=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());_n<1700&&(Se=Bo(s));var Kt=s.length,ri=[];for(c=0;c<Kt;c++){var An=ge(s[c]);ri.push(a.project(ge([An.lat-Se.lat,An.lng-Se.lng])))}for(K=G=J=0,c=0,f=Kt-1;c<Kt;f=c++)g=ri[c],T=ri[f],V=g.y*T.x-T.y*g.x,G+=(g.x+T.x)*V,J+=(g.y+T.y)*V,K+=V*3;K===0?ae=ri[0]:ae=[G/K,J/K];var Go=a.unproject(ee(ae));return ge([Go.lat+Se.lat,Go.lng+Se.lng])}function Bo(s){for(var a=0,c=0,f=0,g=0;g<s.length;g++){var T=ge(s[g]);a+=T.lat,c+=T.lng,f++}return ge([a/f,c/f])}var $o={__proto__:null,clipPolygon:Uo,polygonCenter:zo,centroid:Bo};function ul(s,a){if(!a||!s.length)return s.slice();var c=a*a;return s=oc(s,c),s=sc(s,c),s}function cl(s,a,c){return Math.sqrt(ii(s,a,c,!0))}function gr(s,a,c){return ii(s,a,c)}function sc(s,a){var c=s.length,f=typeof Uint8Array<"u"?Uint8Array:Array,g=new f(c);g[0]=g[c-1]=1,Ho(s,g,a,0,c-1);var T,V=[];for(T=0;T<c;T++)g[T]&&V.push(s[T]);return V}function Ho(s,a,c,f,g){var T=0,V,K,G;for(K=f+1;K<=g-1;K++)G=ii(s[K],s[f],s[g],!0),G>T&&(V=K,T=G);T>c&&(a[V]=1,Ho(s,a,c,f,V),Ho(s,a,c,V,g))}function oc(s,a){for(var c=[s[0]],f=1,g=0,T=s.length;f<T;f++)ac(s[f],s[g])>a&&(c.push(s[f]),g=f);return g<T-1&&c.push(s[T-1]),c}var hl;function Ks(s,a,c,f,g){var T=f?hl:zi(s,c),V=zi(a,c),K,G,J;for(hl=V;;){if(!(T|V))return[s,a];if(T&V)return!1;K=T||V,G=qt(s,a,K,c,g),J=zi(G,c),K===T?(s=G,T=J):(a=G,V=J)}}function qt(s,a,c,f,g){var T=a.x-s.x,V=a.y-s.y,K=f.min,G=f.max,J,ae;return c&8?(J=s.x+T*(G.y-s.y)/V,ae=G.y):c&4?(J=s.x+T*(K.y-s.y)/V,ae=K.y):c&2?(J=G.x,ae=s.y+V*(G.x-s.x)/T):c&1&&(J=K.x,ae=s.y+V*(K.x-s.x)/T),new Y(J,ae,g)}function zi(s,a){var c=0;return s.x<a.min.x?c|=1:s.x>a.max.x&&(c|=2),s.y<a.min.y?c|=4:s.y>a.max.y&&(c|=8),c}function ac(s,a){var c=a.x-s.x,f=a.y-s.y;return c*c+f*f}function ii(s,a,c,f){var g=a.x,T=a.y,V=c.x-g,K=c.y-T,G=V*V+K*K,J;return G>0&&(J=((s.x-g)*V+(s.y-T)*K)/G,J>1?(g=c.x,T=c.y):J>0&&(g+=V*J,T+=K*J)),V=s.x-g,K=s.y-T,f?V*V+K*K:new Y(g,T)}function u(s){return!R(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function m(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),u(s)}function v(s,a){var c,f,g,T,V,K,G,J;if(!s||s.length===0)throw new Error("latlngs not passed");u(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ae=ge([0,0]),Se=Ee(s),Ve=Se.getNorthWest().distanceTo(Se.getSouthWest())*Se.getNorthEast().distanceTo(Se.getNorthWest());Ve<1700&&(ae=Bo(s));var _n=s.length,Kt=[];for(c=0;c<_n;c++){var ri=ge(s[c]);Kt.push(a.project(ge([ri.lat-ae.lat,ri.lng-ae.lng])))}for(c=0,f=0;c<_n-1;c++)f+=Kt[c].distanceTo(Kt[c+1])/2;if(f===0)J=Kt[0];else for(c=0,T=0;c<_n-1;c++)if(V=Kt[c],K=Kt[c+1],g=V.distanceTo(K),T+=g,T>f){G=(T-f)/g,J=[K.x-G*(K.x-V.x),K.y-G*(K.y-V.y)];break}var An=a.unproject(ee(J));return ge([An.lat+ae.lat,An.lng+ae.lng])}var I={__proto__:null,simplify:ul,pointToSegmentDistance:cl,closestPointOnSegment:gr,clipSegment:Ks,_getEdgeIntersection:qt,_getBitCode:zi,_sqClosestPointOnSegment:ii,isFlat:u,_flat:m,polylineCenter:v},W={project:function(s){return new Y(s.lng,s.lat)},unproject:function(s){return new ve(s.y,s.x)},bounds:new ue([-180,-90],[180,90])},Q={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var a=Math.PI/180,c=this.R,f=s.lat*a,g=this.R_MINOR/c,T=Math.sqrt(1-g*g),V=T*Math.sin(f),K=Math.tan(Math.PI/4-f/2)/Math.pow((1-V)/(1+V),T/2);return f=-c*Math.log(Math.max(K,1e-10)),new Y(s.lng*a*c,f)},unproject:function(s){for(var a=180/Math.PI,c=this.R,f=this.R_MINOR/c,g=Math.sqrt(1-f*f),T=Math.exp(-s.y/c),V=Math.PI/2-2*Math.atan(T),K=0,G=.1,J;K<15&&Math.abs(G)>1e-7;K++)J=g*Math.sin(V),J=Math.pow((1-J)/(1+J),g/2),G=Math.PI/2-2*Math.atan(T*J)-V,V+=G;return new ve(V*a,s.x*a/c)}},se={__proto__:null,LonLat:W,Mercator:Q,SphericalMercator:Oi},et=r({},sn,{code:"EPSG:3395",projection:Q,transformation:function(){var s=.5/(Math.PI*Q.R);return ht(s,.5,-s,.5)}()}),Dt=r({},sn,{code:"EPSG:4326",projection:W,transformation:ht(1/180,1,-1/180,.5)}),qe=r({},st,{projection:W,transformation:ht(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,a){var c=a.lng-s.lng,f=a.lat-s.lat;return Math.sqrt(c*c+f*f)},infinite:!0});st.Earth=sn,st.EPSG3395=et,st.EPSG3857=In,st.EPSG900913=zr,st.EPSG4326=Dt,st.Simple=qe;var rt=Ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[d(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[d(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var a=s.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Ue.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(s);return this._layers[a]?this:(this._layers[a]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var a=d(s);return this._layers[a]?(this._loaded&&s.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return d(s)in this._layers},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},_addLayers:function(s){s=s?R(s)?s:[s]:[];for(var a=0,c=s.length;a<c;a++)this.addLayer(s[a])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[d(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var a=d(s);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,a=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;s=g.minZoom===void 0?s:Math.min(s,g.minZoom),a=g.maxZoom===void 0?a:Math.max(a,g.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Et=rt.extend({initialize:function(s,a){k(this,a),this._layers={};var c,f;if(s)for(c=0,f=s.length;c<f;c++)this.addLayer(s[c])},addLayer:function(s){var a=this.getLayerId(s);return this._layers[a]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var a=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(s){var a=typeof s=="number"?s:this.getLayerId(s);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var a=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[s]&&f[s].apply(f,a);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return d(s)}}),ns=function(s,a){return new Et(s,a)},Lt=Et.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Et.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Et.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ye;for(var a in this._layers){var c=this._layers[a];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),Wo=function(s,a){return new Lt(s,a)},Bi=Ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){k(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,a){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(s,a){var c=this.options,f=c[a+"Size"];typeof f=="number"&&(f=[f,f]);var g=ee(f),T=ee(a==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));s.className="leaflet-marker-"+a+" "+(c.className||""),T&&(s.style.marginLeft=-T.x+"px",s.style.marginTop=-T.y+"px"),g&&(s.style.width=g.x+"px",s.style.height=g.y+"px")},_createImg:function(s,a){return a=a||document.createElement("img"),a.src=s,a},_getIconUrl:function(s){return H.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function vx(s){return new Bi(s)}var dl=Bi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof dl.imagePath!="string"&&(dl.imagePath=this._detectIconPath()),(this.options.imagePath||dl.imagePath)+Bi.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var a=function(c,f,g){var T=f.exec(c);return T&&T[g]};return s=a(s,/^url\((['"])?(.+)\1\)$/,2),s&&a(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=he("div","leaflet-default-icon-path",document.body),a=Rt(s,"background-image")||Rt(s,"backgroundImage");if(document.body.removeChild(s),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Qg=Un.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new xi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),De(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var a=this._marker,c=a._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,T=ei(a._icon),V=c.getPixelBounds(),K=c.getPixelOrigin(),G=me(V.min._subtract(K).add(g),V.max._subtract(K).subtract(g));if(!G.contains(T)){var J=ee((Math.max(G.max.x,T.x)-G.max.x)/(V.max.x-G.max.x)-(Math.min(G.min.x,T.x)-G.min.x)/(V.min.x-G.min.x),(Math.max(G.max.y,T.y)-G.max.y)/(V.max.y-G.max.y)-(Math.min(G.min.y,T.y)-G.min.y)/(V.min.y-G.min.y)).multiplyBy(f);c.panBy(J,{animate:!1}),this._draggable._newPos._add(J),this._draggable._startPos._add(J),ke(a._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=M(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,s)))},_onDrag:function(s){var a=this._marker,c=a._shadow,f=ei(a._icon),g=a._map.layerPointToLatLng(f);c&&ke(c,f),a._latlng=g,s.latlng=g,s.oldLatLng=this._oldLatLng,a.fire("move",s).fire("drag",s)},_onDragEnd:function(s){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),lc=rt.extend({options:{icon:new dl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,a){k(this,a),this._latlng=ge(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var a=this._latlng;return this._latlng=ge(s),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),De(c,a),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(c,"focus",this._panOnFocus,this);var g=s.icon.createShadow(this._shadow),T=!1;g!==this._shadow&&(this._removeShadow(),T=!0),g&&(De(g,a),g.alt=""),this._shadow=g,s.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&T&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&it(this._icon,"focus",this._panOnFocus,this),Fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Fe(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ke(this._icon,s),this._shadow&&ke(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(De(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Qg)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Qg(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&At(this._icon,s),this._shadow&&At(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var a=this.options.icon.options,c=a.iconSize?ee(a.iconSize):ee(0,0),f=a.iconAnchor?ee(a.iconAnchor):ee(0,0);s.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yx(s,a){return new lc(s,a)}var is=rt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return k(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),uc=is.extend({options:{fill:!0,radius:10},initialize:function(s,a){k(this,a),this._latlng=ge(s),this._radius=this.options.radius},setLatLng:function(s){var a=this._latlng;return this._latlng=ge(s),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var a=s&&s.radius||this._radius;return is.prototype.setStyle.call(this,s),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,a=this._radiusY||s,c=this._clickTolerance(),f=[s+c,a+c];this._pxBounds=new ue(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wx(s,a){return new uc(s,a)}var Wd=uc.extend({initialize:function(s,a,c){if(typeof a=="number"&&(a=r({},c,{radius:a})),k(this,a),this._latlng=ge(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:is.prototype.setStyle,_project:function(){var s=this._latlng.lng,a=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===sn.distance){var g=Math.PI/180,T=this._mRadius/sn.R/g,V=c.project([a+T,s]),K=c.project([a-T,s]),G=V.add(K).divideBy(2),J=c.unproject(G).lat,ae=Math.acos((Math.cos(T*g)-Math.sin(a*g)*Math.sin(J*g))/(Math.cos(a*g)*Math.cos(J*g)))/g;(isNaN(ae)||ae===0)&&(ae=T/Math.cos(Math.PI/180*a)),this._point=G.subtract(c.getPixelOrigin()),this._radius=isNaN(ae)?0:G.x-c.project([J,s-ae]).x,this._radiusY=G.y-V.y}else{var Se=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Se).x}this._updateBounds()}});function Ex(s,a,c){return new Wd(s,a,c)}var _r=is.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,a){k(this,a),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var a=1/0,c=null,f=ii,g,T,V=0,K=this._parts.length;V<K;V++)for(var G=this._parts[V],J=1,ae=G.length;J<ae;J++){g=G[J-1],T=G[J];var Se=f(s,g,T,!0);Se<a&&(a=Se,c=f(s,g,T))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return v(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,a){return a=a||this._defaultShape(),s=ge(s),a.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ye,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return u(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var a=[],c=u(s),f=0,g=s.length;f<g;f++)c?(a[f]=ge(s[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(s[f]);return a},_project:function(){var s=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),a=new Y(s,s);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(s,a,c){var f=s[0]instanceof ve,g=s.length,T,V;if(f){for(V=[],T=0;T<g;T++)V[T]=this._map.latLngToLayerPoint(s[T]),c.extend(V[T]);a.push(V)}else for(T=0;T<g;T++)this._projectLatlngs(s[T],a,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,f,g,T,V,K,G;for(c=0,g=0,T=this._rings.length;c<T;c++)for(G=this._rings[c],f=0,V=G.length;f<V-1;f++)K=Ks(G[f],G[f+1],s,f,!0),K&&(a[g]=a[g]||[],a[g].push(K[0]),(K[1]!==G[f+1]||f===V-2)&&(a[g].push(K[1]),g++))}},_simplifyPoints:function(){for(var s=this._parts,a=this.options.smoothFactor,c=0,f=s.length;c<f;c++)s[c]=ul(s[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,a){var c,f,g,T,V,K,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,T=this._parts.length;c<T;c++)for(K=this._parts[c],f=0,V=K.length,g=V-1;f<V;g=f++)if(!(!a&&f===0)&&cl(s,K[g],K[f])<=G)return!0;return!1}});function Tx(s,a){return new _r(s,a)}_r._flat=m;var qo=_r.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var a=_r.prototype._convertLatLngs.call(this,s),c=a.length;return c>=2&&a[0]instanceof ve&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(s){_r.prototype._setLatLngs.call(this,s),u(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return u(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,a=this.options.weight,c=new Y(a,a);if(s=new ue(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,T;f<g;f++)T=Uo(this._rings[f],s,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var a=!1,c,f,g,T,V,K,G,J;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(T=0,G=this._parts.length;T<G;T++)for(c=this._parts[T],V=0,J=c.length,K=J-1;V<J;K=V++)f=c[V],g=c[K],f.y>s.y!=g.y>s.y&&s.x<(g.x-f.x)*(s.y-f.y)/(g.y-f.y)+f.x&&(a=!a);return a||_r.prototype._containsPoint.call(this,s,!0)}});function xx(s,a){return new qo(s,a)}var vr=Lt.extend({initialize:function(s,a){k(this,a),this._layers={},s&&this.addData(s)},addData:function(s){var a=R(s)?s:s.features,c,f,g;if(a){for(c=0,f=a.length;c<f;c++)g=a[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var T=this.options;if(T.filter&&!T.filter(s))return this;var V=cc(s,T);return V?(V.feature=fc(s),V.defaultOptions=V.options,this.resetStyle(V),T.onEachFeature&&T.onEachFeature(s,V),this.addLayer(V)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(a){this._setLayerStyle(a,s)},this)},_setLayerStyle:function(s,a){s.setStyle&&(typeof a=="function"&&(a=a(s.feature)),s.setStyle(a))}});function cc(s,a){var c=s.type==="Feature"?s.geometry:s,f=c?c.coordinates:null,g=[],T=a&&a.pointToLayer,V=a&&a.coordsToLatLng||qd,K,G,J,ae;if(!f&&!c)return null;switch(c.type){case"Point":return K=V(f),Yg(T,s,K,a);case"MultiPoint":for(J=0,ae=f.length;J<ae;J++)K=V(f[J]),g.push(Yg(T,s,K,a));return new Lt(g);case"LineString":case"MultiLineString":return G=hc(f,c.type==="LineString"?0:1,V),new _r(G,a);case"Polygon":case"MultiPolygon":return G=hc(f,c.type==="Polygon"?1:2,V),new qo(G,a);case"GeometryCollection":for(J=0,ae=c.geometries.length;J<ae;J++){var Se=cc({geometry:c.geometries[J],type:"Feature",properties:s.properties},a);Se&&g.push(Se)}return new Lt(g);case"FeatureCollection":for(J=0,ae=c.features.length;J<ae;J++){var Ve=cc(c.features[J],a);Ve&&g.push(Ve)}return new Lt(g);default:throw new Error("Invalid GeoJSON object.")}}function Yg(s,a,c,f){return s?s(a,c):new lc(c,f&&f.markersInheritOptions&&f)}function qd(s){return new ve(s[1],s[0],s[2])}function hc(s,a,c){for(var f=[],g=0,T=s.length,V;g<T;g++)V=a?hc(s[g],a-1,c):(c||qd)(s[g]),f.push(V);return f}function Kd(s,a){return s=ge(s),s.alt!==void 0?[w(s.lng,a),w(s.lat,a),w(s.alt,a)]:[w(s.lng,a),w(s.lat,a)]}function dc(s,a,c,f){for(var g=[],T=0,V=s.length;T<V;T++)g.push(a?dc(s[T],u(s[T])?0:a-1,c,f):Kd(s[T],f));return!a&&c&&g.length>0&&g.push(g[0].slice()),g}function Ko(s,a){return s.feature?r({},s.feature,{geometry:a}):fc(a)}function fc(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Zd={toGeoJSON:function(s){return Ko(this,{type:"Point",coordinates:Kd(this.getLatLng(),s)})}};lc.include(Zd),Wd.include(Zd),uc.include(Zd),_r.include({toGeoJSON:function(s){var a=!u(this._latlngs),c=dc(this._latlngs,a?1:0,!1,s);return Ko(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),qo.include({toGeoJSON:function(s){var a=!u(this._latlngs),c=a&&!u(this._latlngs[0]),f=dc(this._latlngs,c?2:a?1:0,!0,s);return a||(f=[f]),Ko(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),Et.include({toMultiPoint:function(s){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(s).geometry.coordinates)}),Ko(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(s){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(s);var c=a==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var T=g.toGeoJSON(s);if(c)f.push(T.geometry);else{var V=fc(T);V.type==="FeatureCollection"?f.push.apply(f,V.features):f.push(V)}}}),c?Ko(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Xg(s,a){return new vr(s,a)}var Ix=Xg,pc=rt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,a,c){this._url=s,this._bounds=Ee(a),k(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(De(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&wi(this._image),this},bringToBack:function(){return this._map&&Yr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Ee(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",a=this._image=s?this._url:he("img");if(De(a,"leaflet-image-layer"),this._zoomAnimated&&De(a,"leaflet-zoom-animated"),this.options.className&&De(a,this.options.className),a.onselectstart=y,a.onmousemove=y,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(s){var a=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ui(this._image,c,a)},_reset:function(){var s=this._image,a=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();ke(s,a.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){At(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Px=function(s,a,c){return new pc(s,a,c)},Jg=pc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",a=this._image=s?this._url:he("video");if(De(a,"leaflet-image-layer"),this._zoomAnimated&&De(a,"leaflet-zoom-animated"),this.options.className&&De(a,this.options.className),a.onselectstart=y,a.onmousemove=y,a.onloadeddata=l(this.fire,this,"load"),s){for(var c=a.getElementsByTagName("source"),f=[],g=0;g<c.length;g++)f.push(c[g].src);this._url=c.length>0?f:[a.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var V=he("source");V.src=this._url[T],a.appendChild(V)}}});function Sx(s,a,c){return new Jg(s,a,c)}var e_=pc.extend({_initImage:function(){var s=this._image=this._url;De(s,"leaflet-image-layer"),this._zoomAnimated&&De(s,"leaflet-zoom-animated"),this.options.className&&De(s,this.options.className),s.onselectstart=y,s.onmousemove=y}});function Cx(s,a,c){return new e_(s,a,c)}var $i=rt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,a){s&&(s instanceof ve||R(s))?(this._latlng=ge(s),k(this,a)):(k(this,s),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&At(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&At(this._container,1),this.bringToFront(),this.options.interactive&&(De(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(At(this._container,0),this._removeTimeout=setTimeout(l(Fe,void 0,this._container),200)):Fe(this._container),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ge(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wi(this._container),this},bringToBack:function(){return this._map&&Yr(this._container),this},_prepareOpen:function(s){var a=this._source;if(!a._map)return!1;if(a instanceof Lt){a=null;var c=this._source._layers;for(var f in c)if(c[f]._map){a=c[f];break}if(!a)return!1;this._source=a}if(!s)if(a.getCenter)s=a.getCenter();else if(a.getLatLng)s=a.getLatLng();else if(a.getBounds)s=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")s.innerHTML=a;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),a=ee(this.options.offset),c=this._getAnchor();this._zoomAnimated?ke(this._container,s.add(c)):a=a.add(s).add(c);var f=this._containerBottom=-a.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Ue.include({_initOverlay:function(s,a,c,f){var g=a;return g instanceof s||(g=new s(f).setContent(a)),c&&g.setLatLng(c),g}}),rt.include({_initOverlay:function(s,a,c,f){var g=c;return g instanceof s?(k(g,f),g._source=this):(g=a&&!f?a:new s(f,this),g.setContent(c)),g}});var mc=$i.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,$i.prototype.openOn.call(this,s)},onAdd:function(s){$i.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof is||this._source.on("preclick",jn))},onRemove:function(s){$i.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof is||this._source.off("preclick",jn))},getEvents:function(){var s=$i.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",a=this._container=he("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=he("div",s+"-content-wrapper",a);if(this._contentNode=he("div",s+"-content",c),es(a),Jr(this._contentNode),Pe(a,"contextmenu",jn),this._tipContainer=he("div",s+"-tip-container",a),this._tip=he("div",s+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=he("a",s+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',Pe(f,"click",function(g){wt(g),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,a=s.style;a.width="",a.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var f=s.offsetHeight,g=this.options.maxHeight,T="leaflet-popup-scrolled";g&&f>g?(a.height=g+"px",De(s,T)):pt(s,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();ke(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,a=parseInt(Rt(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,f=this._containerWidth,g=new Y(this._containerLeft,-c-this._containerBottom);g._add(ei(this._container));var T=s.layerPointToContainerPoint(g),V=ee(this.options.autoPanPadding),K=ee(this.options.autoPanPaddingTopLeft||V),G=ee(this.options.autoPanPaddingBottomRight||V),J=s.getSize(),ae=0,Se=0;T.x+f+G.x>J.x&&(ae=T.x+f-J.x+G.x),T.x-ae-K.x<0&&(ae=T.x-K.x),T.y+c+G.y>J.y&&(Se=T.y+c-J.y+G.y),T.y-Se-K.y<0&&(Se=T.y-K.y),(ae||Se)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ae,Se]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rx=function(s,a){return new mc(s,a)};Ue.mergeOptions({closePopupOnClick:!0}),Ue.include({openPopup:function(s,a,c){return this._initOverlay(mc,s,a,c).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),rt.include({bindPopup:function(s,a){return this._popup=this._initOverlay(mc,this._popup,s,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Lt||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Fn(s);var a=s.layer||s.target;if(this._popup._source===a&&!(a instanceof is)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=a,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var gc=$i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){$i.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){$i.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=$i.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",a=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=he("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var a,c,f=this._map,g=this._container,T=f.latLngToContainerPoint(f.getCenter()),V=f.layerPointToContainerPoint(s),K=this.options.direction,G=g.offsetWidth,J=g.offsetHeight,ae=ee(this.options.offset),Se=this._getAnchor();K==="top"?(a=G/2,c=J):K==="bottom"?(a=G/2,c=0):K==="center"?(a=G/2,c=J/2):K==="right"?(a=0,c=J/2):K==="left"?(a=G,c=J/2):V.x<T.x?(K="right",a=0,c=J/2):(K="left",a=G+(ae.x+Se.x)*2,c=J/2),s=s.subtract(ee(a,c,!0)).add(ae).add(Se),pt(g,"leaflet-tooltip-right"),pt(g,"leaflet-tooltip-left"),pt(g,"leaflet-tooltip-top"),pt(g,"leaflet-tooltip-bottom"),De(g,"leaflet-tooltip-"+K),ke(g,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&At(this._container,s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(a)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ax=function(s,a){return new gc(s,a)};Ue.include({openTooltip:function(s,a,c){return this._initOverlay(gc,s,a,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),rt.include({bindTooltip:function(s,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gc,this._tooltip,s,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var a=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Lt||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&(Pe(a,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Pe(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var a=s.latlng,c,f;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),f=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var t_=Bi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var a=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Fi(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=ee(c.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function kx(s){return new t_(s)}Bi.Default=dl;var fl=rt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){k(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Fe(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof Y?s:new Y(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var a=this.getPane().children,c=-s(-1/0,1/0),f=0,g=a.length,T;f<g;f++)T=a[f].style.zIndex,a[f]!==this._container&&T&&(c=s(c,+T));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!H.ielt9){At(this._container,this.options.opacity);var s=+new Date,a=!1,c=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var T=Math.min(1,(s-g.loaded)/200);At(g.el,T),T<1?a=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(U(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=he("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,a=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=a-Math.abs(s-c),this._onUpdateLevel(c)):(Fe(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[s],g=this._map;return f||(f=this._levels[s]={},f.el=he("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=g.project(g.unproject(g.getPixelOrigin()),s).round(),f.zoom=s,this._setZoomTransform(f,g.getCenter(),g.getZoom()),y(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var s,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)a=this._tiles[s],a.retain=a.current;for(s in this._tiles)if(a=this._tiles[s],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var a in this._tiles)this._tiles[a].coords.z===s&&this._removeTile(a)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Fe(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,a,c,f){var g=Math.floor(s/2),T=Math.floor(a/2),V=c-1,K=new Y(+g,+T);K.z=+V;var G=this._tileCoordsToKey(K),J=this._tiles[G];return J&&J.active?(J.retain=!0,!0):(J&&J.loaded&&(J.retain=!0),V>f?this._retainParent(g,T,V,f):!1)},_retainChildren:function(s,a,c,f){for(var g=2*s;g<2*s+2;g++)for(var T=2*a;T<2*a+2;T++){var V=new Y(g,T);V.z=c+1;var K=this._tileCoordsToKey(V),G=this._tiles[K];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);c+1<f&&this._retainChildren(g,T,c+1,f)}},_resetView:function(s){var a=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var a=this.options;return a.minNativeZoom!==void 0&&s<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<s?a.maxNativeZoom:s},_setView:function(s,a,c,f){var g=Math.round(a);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var T=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||T)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,a)},_setZoomTransforms:function(s,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,a)},_setZoomTransform:function(s,a,c){var f=this._map.getZoomScale(c,s.zoom),g=s.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,c)).round();H.any3d?Ui(s.el,g,f):ke(s.el,g)},_resetGrid:function(){var s=this._map,a=s.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,a.wrapLng[0]],f).x/c.x),Math.ceil(s.project([0,a.wrapLng[1]],f).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([a.wrapLat[0],0],f).y/c.x),Math.ceil(s.project([a.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(c,this._tileZoom),g=a.project(s,this._tileZoom).floor(),T=a.getSize().divideBy(f*2);return new ue(g.subtract(T),g.add(T))},_update:function(s){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(s===void 0&&(s=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(s),g=this._pxBoundsToTileRange(f),T=g.getCenter(),V=[],K=this.options.keepBuffer,G=new ue(g.getBottomLeft().subtract([K,-K]),g.getTopRight().add([K,-K]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var J in this._tiles){var ae=this._tiles[J].coords;(ae.z!==this._tileZoom||!G.contains(new Y(ae.x,ae.y)))&&(this._tiles[J].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var Se=g.min.y;Se<=g.max.y;Se++)for(var Ve=g.min.x;Ve<=g.max.x;Ve++){var _n=new Y(Ve,Se);if(_n.z=this._tileZoom,!!this._isValidTile(_n)){var Kt=this._tiles[this._tileCoordsToKey(_n)];Kt?Kt.current=!0:V.push(_n)}}if(V.sort(function(An,Go){return An.distanceTo(T)-Go.distanceTo(T)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ri=document.createDocumentFragment();for(Ve=0;Ve<V.length;Ve++)this._addTile(V[Ve],ri);this._level.el.appendChild(ri)}}}},_isValidTile:function(s){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!a.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(s);return Ee(this.options.bounds).overlaps(f)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var a=this._map,c=this.getTileSize(),f=s.scaleBy(c),g=f.add(c),T=a.unproject(f,s.z),V=a.unproject(g,s.z);return[T,V]},_tileCoordsToBounds:function(s){var a=this._tileCoordsToNwSe(s),c=new ye(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var a=s.split(":"),c=new Y(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(s){var a=this._tiles[s];a&&(Fe(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){De(s,"leaflet-tile");var a=this.getTileSize();s.style.width=a.x+"px",s.style.height=a.y+"px",s.onselectstart=y,s.onmousemove=y,H.ielt9&&this.options.opacity<1&&At(s,this.options.opacity)},_addTile:function(s,a){var c=this._getTilePos(s),f=this._tileCoordsToKey(s),g=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(g),this.createTile.length<2&&M(l(this._tileReady,this,s,null,g)),ke(g,c),this._tiles[f]={el:g,coords:s,current:!0},a.appendChild(g),this.fire("tileloadstart",{tile:g,coords:s})},_tileReady:function(s,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:s});var f=this._tileCoordsToKey(s);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?(At(c.el,0),U(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(De(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var a=new Y(this._wrapX?_(s.x,this._wrapX):s.x,this._wrapY?_(s.y,this._wrapY):s.y);return a.z=s.z,a},_pxBoundsToTileRange:function(s){var a=this.getTileSize();return new ue(s.min.unscaleBy(a).floor(),s.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function bx(s){return new fl(s)}var Zo=fl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,a){this._url=s,a=k(this,a),a.detectRetina&&H.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,a){return this._url===s&&a===void 0&&(a=!0),this._url=s,a||this.redraw(),this},createTile:function(s,a){var c=document.createElement("img");return Pe(c,"load",l(this._tileOnLoad,this,a,c)),Pe(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var a={r:H.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(a.y=c),a["-y"]=c}return P(this._url,r(a,this.options))},_tileOnLoad:function(s,a){H.ielt9?setTimeout(l(s,this,null,a),0):s(null,a)},_tileOnError:function(s,a,c){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),s(c,a)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(s=a-s),s+f},_getSubdomain:function(s){var a=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var s,a;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(a=this._tiles[s].el,a.onload=y,a.onerror=y,!a.complete)){a.src=X;var c=this._tiles[s].coords;Fe(a),delete this._tiles[s],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(s){var a=this._tiles[s];if(a)return a.el.setAttribute("src",X),fl.prototype._removeTile.call(this,s)},_tileReady:function(s,a,c){if(!(!this._map||c&&c.getAttribute("src")===X))return fl.prototype._tileReady.call(this,s,a,c)}});function n_(s,a){return new Zo(s,a)}var i_=Zo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,a){this._url=s;var c=r({},this.defaultWmsParams);for(var f in a)f in this.options||(c[f]=a[f]);a=k(this,a);var g=a.detectRetina&&H.retina?2:1,T=this.getTileSize();c.width=T.x*g,c.height=T.y*g,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Zo.prototype.onAdd.call(this,s)},getTileUrl:function(s){var a=this._tileCoordsToNwSe(s),c=this._crs,f=me(c.project(a[0]),c.project(a[1])),g=f.min,T=f.max,V=(this._wmsVersion>=1.3&&this._crs===Dt?[g.y,g.x,T.y,T.x]:[g.x,g.y,T.x,T.y]).join(","),K=Zo.prototype.getTileUrl.call(this,s);return K+z(this.wmsParams,K,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(s,a){return r(this.wmsParams,s),a||this.redraw(),this}});function Lx(s,a){return new i_(s,a)}Zo.WMS=i_,n_.wms=Lx;var yr=rt.extend({options:{padding:.1},initialize:function(s){k(this,s),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),De(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,a){var c=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,a),T=f.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(s,a));H.any3d?Ui(this._container,T,c):ke(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-s)).round();this._bounds=new ue(c,c.add(a.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),r_=yr.extend({options:{tolerance:0},getEvents:function(){var s=yr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Pe(s,"mousemove",this._onMouseMove,this),Pe(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pe(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Fe(this._container),it(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var a in this._layers)s=this._layers[a],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yr.prototype._update.call(this);var s=this._bounds,a=this._container,c=s.getSize(),f=H.retina?2:1;ke(a,s.min),a.width=f*c.x,a.height=f*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){yr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[d(s)]=s;var a=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var a=s._order,c=a.next,f=a.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete s._order,delete this._layers[d(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var a=s.options.dashArray.split(/[, ]+/),c=[],f,g;for(g=0;g<a.length;g++){if(f=Number(a[g]),isNaN(f))return;c.push(f)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var a=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(s._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(s._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var a=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)s=f.layer,(!a||s._pxBounds&&s._pxBounds.intersects(a))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,a){if(this._drawing){var c,f,g,T,V=s._parts,K=V.length,G=this._ctx;if(K){for(G.beginPath(),c=0;c<K;c++){for(f=0,g=V[c].length;f<g;f++)T=V[c][f],G[f?"lineTo":"moveTo"](T.x,T.y);a&&G.closePath()}this._fillStroke(G,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var a=s._point,c=this._ctx,f=Math.max(Math.round(s._radius),1),g=(Math.max(Math.round(s._radiusY),1)||f)/f;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(a.x,a.y/g,f,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,a){var c=a.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(a.options&&a.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var a=this._map.mouseEventToLayerPoint(s),c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(a)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,a)}},_handleMouseOut:function(s){var a=this._hoveredLayer;a&&(pt(this._container,"leaflet-interactive"),this._fireEvent([a],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,a){if(!this._mouseHoverThrottled){for(var c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(a)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(s),f&&(De(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,a,c){this._map._fireDOMEvent(a,c||a.type,s)},_bringToFront:function(s){var a=s._order;if(a){var c=a.next,f=a.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(s)}},_bringToBack:function(s){var a=s._order;if(a){var c=a.next,f=a.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(s)}}});function s_(s){return H.canvas?new r_(s):null}var pl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Nx={_initContainer:function(){this._container=he("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var a=s._container=pl("shape");De(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",s._path=pl("path"),a.appendChild(s._path),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){var a=s._container;this._container.appendChild(a),s.options.interactive&&s.addInteractiveTarget(a)},_removePath:function(s){var a=s._container;Fe(a),s.removeInteractiveTarget(a),delete this._layers[d(s)]},_updateStyle:function(s){var a=s._stroke,c=s._fill,f=s.options,g=s._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(a||(a=s._stroke=pl("stroke")),g.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=R(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(g.removeChild(a),s._stroke=null),f.fill?(c||(c=s._fill=pl("fill")),g.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(g.removeChild(c),s._fill=null)},_updateCircle:function(s){var a=s._point.round(),c=Math.round(s._radius),f=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(s,a){s._path.v=a},_bringToFront:function(s){wi(s._container)},_bringToBack:function(s){Yr(s._container)}},_c=H.vml?pl:Br,ml=yr.extend({_initContainer:function(){this._container=_c("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_c("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Fe(this._container),it(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yr.prototype._update.call(this);var s=this._bounds,a=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),ke(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(s){var a=s._path=_c("path");s.options.className&&De(a,s.options.className),s.options.interactive&&De(a,"leaflet-interactive"),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Fe(s._path),s.removeInteractiveTarget(s._path),delete this._layers[d(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var a=s._path,c=s.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(s,a){this._setPath(s,On(s._parts,a))},_updateCircle:function(s){var a=s._point,c=Math.max(Math.round(s._radius),1),f=Math.max(Math.round(s._radiusY),1)||c,g="a"+c+","+f+" 0 1,0 ",T=s._empty()?"M0 0":"M"+(a.x-c)+","+a.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(s,T)},_setPath:function(s,a){s._path.setAttribute("d",a)},_bringToFront:function(s){wi(s._path)},_bringToBack:function(s){Yr(s._path)}});H.vml&&ml.include(Nx);function o_(s){return H.svg||H.vml?new ml(s):null}Ue.include({getRenderer:function(s){var a=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var a=this._paneRenderers[s];return a===void 0&&(a=this._createRenderer({pane:s}),this._paneRenderers[s]=a),a},_createRenderer:function(s){return this.options.preferCanvas&&s_(s)||o_(s)}});var a_=qo.extend({initialize:function(s,a){qo.prototype.initialize.call(this,this._boundsToLatLngs(s),a)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Ee(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Dx(s,a){return new a_(s,a)}ml.create=_c,ml.pointsToPath=On,vr.geometryToLayer=cc,vr.coordsToLatLng=qd,vr.coordsToLatLngs=hc,vr.latLngToCoords=Kd,vr.latLngsToCoords=dc,vr.getFeature=Ko,vr.asFeature=fc,Ue.mergeOptions({boxZoom:!0});var l_=Un.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){it(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ei(),Xa(),this._startPoint=this._map.mouseEventToContainerPoint(s),Pe(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=he("div","leaflet-zoom-box",this._container),De(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var a=new ue(this._point,this._startPoint),c=a.getSize();ke(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Fe(this._box),pt(this._container,"leaflet-crosshair")),Ti(),Ja(),it(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ue.addInitHook("addHandler","boxZoom",l_),Ue.mergeOptions({doubleClickZoom:!0});var u_=Un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var a=this._map,c=a.getZoom(),f=a.options.zoomDelta,g=s.originalEvent.shiftKey?c-f:c+f;a.options.doubleClickZoom==="center"?a.setZoom(g):a.setZoomAround(s.containerPoint,g)}});Ue.addInitHook("addHandler","doubleClickZoom",u_),Ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var c_=Un.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new xi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}De(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pt(this._map._container,"leaflet-grab"),pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=Ee(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,a){return s-(s-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;s.x<a.min.x&&(s.x=this._viscousLimit(s.x,a.min.x)),s.y<a.min.y&&(s.y=this._viscousLimit(s.y,a.min.y)),s.x>a.max.x&&(s.x=this._viscousLimit(s.x,a.max.x)),s.y>a.max.y&&(s.y=this._viscousLimit(s.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,a=Math.round(s/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-a+c)%s+a-c,T=(f+a+c)%s-a-c,V=Math.abs(g+c)<Math.abs(T+c)?g:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(s){var a=this._map,c=a.options,f=!c.inertia||s.noInertia||this._times.length<2;if(a.fire("dragend",s),f)a.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,V=c.easeLinearity,K=g.multiplyBy(V/T),G=K.distanceTo([0,0]),J=Math.min(c.inertiaMaxSpeed,G),ae=K.multiplyBy(J/G),Se=J/(c.inertiaDeceleration*V),Ve=ae.multiplyBy(-Se/2).round();!Ve.x&&!Ve.y?a.fire("moveend"):(Ve=a._limitOffset(Ve,a.options.maxBounds),M(function(){a.panBy(Ve,{duration:Se,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});Ue.addInitHook("addHandler","dragging",c_),Ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var h_=Un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Pe(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),it(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,a=document.documentElement,c=s.scrollTop||a.scrollTop,f=s.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var a=this._panKeys={},c=this.keyCodes,f,g;for(f=0,g=c.left.length;f<g;f++)a[c.left[f]]=[-1*s,0];for(f=0,g=c.right.length;f<g;f++)a[c.right[f]]=[s,0];for(f=0,g=c.down.length;f<g;f++)a[c.down[f]]=[0,s];for(f=0,g=c.up.length;f<g;f++)a[c.up[f]]=[0,-1*s]},_setZoomDelta:function(s){var a=this._zoomKeys={},c=this.keyCodes,f,g;for(f=0,g=c.zoomIn.length;f<g;f++)a[c.zoomIn[f]]=s;for(f=0,g=c.zoomOut.length;f<g;f++)a[c.zoomOut[f]]=-s},_addHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){it(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var a=s.keyCode,c=this._map,f;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[a],s.shiftKey&&(f=ee(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(ee(f),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(g)}else c.panBy(f)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Fn(s)}}});Ue.addInitHook("addHandler","keyboard",h_),Ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var d_=Un.extend({addHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){it(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var a=tc(s),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),Fn(s)},_performZoom:function(){var s=this._map,a=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,T=c?Math.ceil(g/c)*c:g,V=s._limitZoom(a+(this._delta>0?T:-T))-a;this._delta=0,this._startTime=null,V&&(s.options.scrollWheelZoom==="center"?s.setZoom(a+V):s.setZoomAround(this._lastMousePos,a+V))}});Ue.addInitHook("addHandler","scrollWheelZoom",d_);var Ox=600;Ue.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var f_=Un.extend({addHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){it(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var a=s.touches[0];this._startPos=this._newPos=new Y(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Pe(document,"touchend",wt),Pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Ox),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){it(document,"touchend",wt),it(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),it(document,"touchend touchcancel contextmenu",this._cancel,this),it(document,"touchmove",this._onMove,this)},_onMove:function(s){var a=s.touches[0];this._newPos=new Y(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,a){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});Ue.addInitHook("addHandler","tapHold",f_),Ue.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var p_=Un.extend({addHooks:function(){De(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),it(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var a=this._map;if(!(!s.touches||s.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(s.touches[0]),f=a.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),wt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(s.touches[0]),f=a.mouseEventToContainerPoint(s.touches[1]),g=c.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(g,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&g<1||this._zoom>a.getMaxZoom()&&g>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var T=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&T.x===0&&T.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var V=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=M(V,this,!0),wt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),it(document,"touchmove",this._onTouchMove,this),it(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ue.addInitHook("addHandler","touchZoom",p_),Ue.BoxZoom=l_,Ue.DoubleClickZoom=u_,Ue.Drag=c_,Ue.Keyboard=h_,Ue.ScrollWheelZoom=d_,Ue.TapHold=f_,Ue.TouchZoom=p_,n.Bounds=ue,n.Browser=H,n.CRS=st,n.Canvas=r_,n.Circle=Wd,n.CircleMarker=uc,n.Class=Ie,n.Control=Rn,n.DivIcon=t_,n.DivOverlay=$i,n.DomEvent=nc,n.DomUtil=Ju,n.Draggable=xi,n.Evented=Ae,n.FeatureGroup=Lt,n.GeoJSON=vr,n.GridLayer=fl,n.Handler=Un,n.Icon=Bi,n.ImageOverlay=pc,n.LatLng=ve,n.LatLngBounds=ye,n.Layer=rt,n.LayerGroup=Et,n.LineUtil=I,n.Map=Ue,n.Marker=lc,n.Mixin=qs,n.Path=is,n.Point=Y,n.PolyUtil=$o,n.Polygon=qo,n.Polyline=_r,n.Popup=mc,n.PosAnimation=ol,n.Projection=se,n.Rectangle=a_,n.Renderer=yr,n.SVG=ml,n.SVGOverlay=e_,n.TileLayer=Zo,n.Tooltip=gc,n.Transformation=Mi,n.Util=D,n.VideoOverlay=Jg,n.bind=l,n.bounds=me,n.canvas=s_,n.circle=Ex,n.circleMarker=wx,n.control=gn,n.divIcon=kx,n.extend=r,n.featureGroup=Wo,n.geoJSON=Xg,n.geoJson=Ix,n.gridLayer=bx,n.icon=vx,n.imageOverlay=Px,n.latLng=ge,n.latLngBounds=Ee,n.layerGroup=ns,n.map=Vo,n.marker=yx,n.point=ee,n.polygon=xx,n.polyline=Tx,n.popup=Rx,n.rectangle=Dx,n.setOptions=k,n.stamp=d,n.svg=o_,n.svgOverlay=Cx,n.tileLayer=n_,n.tooltip=Ax,n.transformation=ht,n.version=i,n.videoOverlay=Sx;var Mx=window.L;n.noConflict=function(){return window.L=Mx,this},window.L=n})})(rm,rm.exports);var Bd=rm.exports;function Zg(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Gg(t,e){return e==null?function(i,r){const o=q.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=q.useRef();o.current||(o.current=t(i,r));const l=q.useRef(i),{instance:h}=o.current;return q.useEffect(function(){l.current!==i&&(e(h,i,l.current),l.current=i)},[h,i,r]),o}}function cO(t,e){q.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function _x(t){return function(n){const i=mx(),r=t(Kg(n,i),i);return dx(i.map,n.attribution),gx(r.current,n.eventHandlers),cO(r.current,i),r}}function hO(t,e){const n=Gg(t,e),i=_x(n);return oO(i)}function dO(t,e){const n=Gg(t),i=uO(n,e);return aO(i)}function fO(t,e){const n=Gg(t,e),i=_x(n);return lO(i)}function pO(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function sm(){return sm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sm.apply(this,arguments)}function mO({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:l,style:h,whenReady:d,zoom:p,..._},y){const[w]=q.useState({className:r,id:o,style:h}),[N,O]=q.useState(null);q.useImperativeHandle(y,()=>(N==null?void 0:N.map)??null,[N]);const k=q.useCallback(A=>{if(A!==null&&N===null){const P=new Bd.Map(A,_);n!=null&&p!=null?P.setView(n,p):t!=null&&P.fitBounds(t,e),d!=null&&P.whenReady(d),O(rO(P))}},[]);q.useEffect(()=>()=>{N==null||N.map.remove()},[N]);const z=N?Qe.createElement(px,{value:N},i):l??null;return Qe.createElement("div",sm({},w,{ref:k}),z)}const gO=q.forwardRef(mO),_O=hO(function({position:e,...n},i){const r=new Bd.Marker(e,n);return Zg(r,sO(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),vO=dO(function(e,n){const i=new Bd.Popup(e,n.overlayContainer);return Zg(i,n)},function(e,n,{position:i},r){q.useEffect(function(){const{instance:l}=e;function h(p){p.popup===l&&(l.update(),r(!0))}function d(p){p.popup===l&&r(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var _;n.map.off({popupopen:h,popupclose:d}),(_=n.overlayContainer)==null||_.unbindPopup(),n.map.removeLayer(l)}},[e,n,r,i])}),yO=fO(function({url:e,...n},i){const r=new Bd.TileLayer(e,Kg(n,i));return Zg(r,i)},function(e,n,i){pO(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),wO=()=>{const{slug:t}=EC(),[e,n]=q.useState([]);return q.useEffect(()=>{const i=hx.filter(r=>r.slug===t);i.length>0&&n(i[0])},[t]),e.latitude,e.longitude,E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:justify-around justify-center items-center md:items-start gap-10 ",children:[E.jsxs("section",{className:"w-[80%] md:w-[30%] flex flex-col gap-10",children:[E.jsxs("div",{className:"w-[100%] rounded-lg flex border gap-3 p-2 shadow-2xl items-center h-[500px]",children:[E.jsx("div",{className:"h-full",children:E.jsx("img",{src:e.img,alt:"",className:"h-full object-cover"})}),E.jsxs("div",{className:"flex flex-col h-[100%] gap-3",children:[E.jsx("div",{className:"h-[100%]",children:E.jsx("img",{src:e.img1,alt:"h-[50%]",className:"h-[50%] w-[100%] object-cover"})}),E.jsx("div",{className:"h-[100%]",children:E.jsx("img",{src:e.img2,alt:"",className:"h-[100%] object-cover"})})]})]}),E.jsxs("div",{className:"flex flex-col gap-10",children:[E.jsx("h1",{className:"font-semibold text-base md:text-lg",children:e.title}),E.jsxs("div",{className:"flex gap-5",children:[E.jsx("img",{src:"/pin.png",alt:"",width:20}),E.jsx("p",{children:e.address})]}),E.jsxs("h2",{className:"text-lg font-bold",children:[" ",e.status,": $",e.price]}),E.jsx("p",{className:"w-[100%] font-medium",children:e.description})]})]}),E.jsxs("section",{className:"w-[80%] md:w-[30%] flex flex-col gap-8 bg-zinc-50 p-7",children:[E.jsx("h2",{className:"font-bold text-lg md:text-2xl",children:"General"}),E.jsxs("div",{className:"bg-white p-3 flex flex-col gap-4 rounded-lg shadow-3xl",children:[E.jsxs("div",{className:"flex gap-5 items-center",children:[E.jsx("img",{src:"/utility.png",alt:"",width:20}),E.jsxs("h1",{children:[E.jsx("p",{className:"text-base md:text-lg font-medium",children:"Utilities"}),E.jsx("p",{children:"Renter is responsible"})]})]}),E.jsxs("div",{className:"flex gap-5 items-center",children:[E.jsx("img",{src:"/pet.png",alt:"",width:20}),E.jsxs("h1",{children:[E.jsx("p",{className:"text-base md:text-lg font-medium",children:"Pet Policy"}),E.jsx("p",{children:"Pets Allowed"})]})]}),E.jsxs("div",{className:"flex gap-5 items-center ",children:[E.jsx("img",{src:"/fee.png",alt:"",width:20}),E.jsxs("h1",{children:[E.jsx("p",{className:"text-base md:text-lg font-medium",children:"Property Fees"}),E.jsx("p",{children:"Must have 3x the price in total household income"})]})]})]}),E.jsxs("div",{className:"flex gap-6 flex-col",children:[E.jsx("h1",{className:"text-lg md:text-xl ",children:"Room Sizes"}),E.jsxs("section",{className:"flex md:justify-between flex-col md:flex-row justify-center gap-3",children:[E.jsxs("div",{className:"flex gap-1 items-center bg-white p-2 font-medium",children:[E.jsx("img",{src:"/bath.png",alt:"",width:20}),E.jsxs("p",{children:[e.bathroom," Bathroom"]})]}),E.jsxs("div",{className:"flex gap-1 items-center bg-white p-2 font-medium",children:[E.jsx("img",{src:"/bed.png",alt:"",width:20}),E.jsxs("p",{children:[e.bedroom," Bedroom"]})]})]})]}),E.jsxs("div",{className:"flex gap-6 flex-col",children:[E.jsx("h1",{className:"md:font-semibold text-lg  md:text-xl font-medium",children:"Nearby Places"}),E.jsxs("section",{className:"bg-white justify-between p-5 flex md:items-center rounded-lg shadow-2xl flex-col gap-3 md:flex-row ",children:[E.jsxs("div",{className:"flex gap-3 flex-col",children:[E.jsx("img",{src:"/sch.png",alt:"",width:20}),E.jsxs("h1",{children:[E.jsx("p",{children:"School"}),E.jsx("span",{children:e.school})]})]}),E.jsxs("div",{className:"flex gap-3 flex-col",children:[E.jsx("img",{src:"/pet.png",alt:"",width:20}),E.jsxs("h1",{children:[E.jsx("p",{children:"Bus Stop"}),E.jsx("span",{children:e.bus})]})]}),E.jsxs("div",{className:"flex gap-3 flex-col",children:[E.jsx("img",{src:"/fee.png",alt:"",width:20}),E.jsxs("h1",{children:[E.jsx("p",{children:"Restaurant"}),E.jsx("span",{children:e.restaurant})]})]})]})]}),E.jsxs("div",{className:"flex flex-col gap-10",children:[E.jsx("h1",{className:"font-semibold text-lg",children:"Contact"}),E.jsx("section",{children:E.jsxs("div",{className:"flex justify-between bg-white p-3 w-[100%] mx-auto gap-6",children:[E.jsx("img",{src:"/email.svg",alt:"",width:20}),E.jsx("p",{children:E.jsx("a",{href:"mailto:smrtwells@gmail.com",className:"font-medium",children:"Chat with Owner"})})]})})]}),E.jsxs("div",{children:[E.jsx("h1",{children:"Location"}),E.jsx("section",{className:"w-[100%]",children:E.jsx("div",{className:"w-[100%] h-96",children:E.jsxs(gO,{center:[52.4797,-1.90269],zoom:13,scrollWheelZoom:!1,className:"w-full h-full",children:[E.jsx(yO,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),E.jsx(_O,{position:[52.4797,-1.90269],children:E.jsx(vO,{children:E.jsxs("div",{className:"font-montserrat text-xs",children:[E.jsx("h3",{children:e.title}),E.jsx("img",{src:e.img,alt:""}),E.jsxs("p",{className:"font-montserrat",children:["$",e.price]})]})})})]})})})]})]})]}),E.jsx("div",{className:"mt-24",children:E.jsx(Fd,{})})]})},EO=()=>E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center",children:E.jsxs("div",{className:"max-w-md mx-auto p-8 bg-white shadow-md rounded-md",children:[E.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Contact Us"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Email: ",E.jsx("a",{href:"mailto:contact@example.com",className:"text-indigo-600",children:"haven@homes.com"})]}),E.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Phone: ",E.jsx("a",{href:"tel:+1234567890",className:"text-indigo-600",children:"+1 556 324 3457"})]}),E.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Address: 1234 Elm Street, New York, NY 10001"})]}),E.jsx("div",{className:"text-gray-600",children:E.jsx("p",{className:"text-sm",children:"For any inquiries or assistance, feel free to reach out to us. We are here to help!"})})]})]})}),E.jsx("section",{children:E.jsx(Fd,{})})]}),TO=BC([{path:"/",element:E.jsx(ND,{}),children:[{path:"/",element:E.jsx(FD,{})},{path:"/login",element:E.jsx(cx,{})},{path:"/register",element:E.jsx(XD,{})},{path:"/profile",element:E.jsx(JD,{})},{path:"/listings",element:E.jsx(nO,{})},{path:"/listings/:slug",element:E.jsx(wO,{})},{path:"/contact",element:E.jsx(EO,{})}]}]);Ff.createRoot(document.getElementById("root")).render(E.jsx(Qe.StrictMode,{children:E.jsx(YC,{router:TO})}));
